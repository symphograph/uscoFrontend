import{u as p}from"./myFuncts.c8ae621f.js";import{i as v,I as t,r as o,w as _,k as h,J as w,m as g,n as A,l as M}from"./index.657dc795.js";import"./axios.593b3544.js";import{A as e,G as y}from"./lib.7ea449f7.js";import"./myAxios.a8f39ef7.js";const C={__name:"LibLayout",setup(L){const r=p(),c=v("editModes").lib;t("editMode",c);const i=o(!1),a=o(!1);t("loadingAuthors",a);const s=o(0);t("selectedAuthorId",s);const u=o([]);t("genres",u),_(s,()=>{var n;if(!((n=e.selected)!=null&&n.value))return 0;e.selected.value=e.list.value.find(l=>l.id===s.value)});async function d(){a.value=!0,await e.initList(r),i.value=e.list.value.length>0,a.value=!1}async function m(){u.value=await y.getList(r)}return h(async()=>{await m(),await d(),console.log("libLayoutMount")}),(n,l)=>{const f=w("router-view");return i.value?(g(),A(f,{key:0})):M("",!0)}}};export{C as default};

import{Q as r}from"./QItemLabel.a10d727b.js";import{b as Q,Q as l}from"./QImg.ed2e8a35.js";import{d as W,i as p,m as u,n as d,q as t,f as a,t as n,u as i,l as c,v as m,A as B,B as C}from"./index.0397f575.js";import{h as $}from"./myFuncts.4c1c0a46.js";import{u as h}from"./use-quasar.e3a3eea5.js";import{_ as D}from"./BtnDelete.223bae22.js";import{W as M}from"./lib.1e19dfd5.js";import{_ as N}from"./plugin-vue_export-helper.21dcd24c.js";const O=W({__name:"WorkItem",props:{work:{}},emits:["onDel"],setup(k,{emit:_}){const f=h(),w=p("editMode"),I=p("genres"),g=k,v=_;function y(e){return I.value.find(s=>s.id===e)}async function b(){await M.del(f,g.work.id)&&v("onDel")}return(e,s)=>(u(),d(Q,{clickable:"",to:`/work/${e.work.id}`,dense:""},{default:t(()=>[a(l,null,{default:t(()=>[a(r,null,{default:t(()=>[n(i(e.work.titleRu),1)]),_:1}),a(r,{caption:""},{default:t(()=>[n(i(e.work.titleEn),1)]),_:1}),e.work.genreId?(u(),d(r,{key:0,caption:""},{default:t(()=>[n(i(y(e.work.genreId).name),1)]),_:1})):c("",!0)]),_:1}),a(l,{side:""},{default:t(()=>[m(w)?(u(),d(D,{key:0,title:`\u0423\u0434\u0430\u043B\u0438\u0442\u044C: ${e.work.titleRu}`,flat:"",danger:"","throw-confirm":"",onOnOk:b},null,8,["title"])):c("",!0)]),_:1}),a(l,{side:"",class:"opus"},{default:t(()=>[a(r,{caption:""},{default:t(()=>{var o;return[n(i((o=e.work.opus)!=null?o:"Op.?"),1)]}),_:1}),a(r,{caption:""},{default:t(()=>{var o;return[n(i((o=e.work.icatno)!=null?o:"cat\u2116.?"),1)]}),_:1}),a(r,{caption:""},{default:t(()=>{var o;return[n(i((o=e.work.catalogIndex)!=null?o:"catIdx: ?"),1)]}),_:1}),a(B,{dense:"","icon-right":"content_copy",flat:"",label:`ID:
           ${e.work.id}`,onClick:s[0]||(s[0]=C(o=>m($)(e.work.id,m(f)),["stop","prevent"]))},null,8,["label"])]),_:1})]),_:1},8,["to"]))}});var L=N(O,[["__scopeId","data-v-f0728bb6"]]);export{L as W};

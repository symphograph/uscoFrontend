import{ax as fe,aw as Q,al as ge,ay as _e,az as F,aA as X,aC as J,a4 as j,aD as K,r as k,h as p,w as U,v as de,n as he,p as _,X as ye,bi as be,s as R,bj as xe,c as H,a as Ce,e as Pe,o as me,l as Se,q as qe,bk as ke,N as z,ac as we,_ as pe,i as Z,z as I,A as O,H as G,B as C,C as P,bl as $e,D as W,a3 as Ae,I as ee,Q as Ie,E as te,J as ae,y as Y,L as Te,S as Ve,T as ne,F as oe,G as Be}from"./index.b9c3de56.js";import{g as le,s as ie}from"./touch.70a9dd44.js";import{c as De}from"./position-engine.04edd4e7.js";import{u as Ne}from"./use-cache.b0833c75.js";import{u as Qe,a as Ee,b as Le}from"./use-fullscreen.901004c4.js";import{api as re}from"./axios.512df4e1.js";import{u as se}from"./use-quasar.31d66723.js";import{Q as Me,a as ue,b as ce}from"./QItem.17ed31da.js";import{Q as Fe}from"./QSelect.65bf9932.js";import{u as ze}from"./use-meta.e49711e2.js";import"./rtl.6a52fcc9.js";import"./format.3e32b8d9.js";function Ue(e){const o=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((i,s)=>{const l=parseFloat(i);l&&(o[s]=l)}),o}var Oe=fe({name:"touch-swipe",beforeMount(e,{value:o,arg:i,modifiers:s}){if(s.mouse!==!0&&Q.has.touch!==!0)return;const l=s.mouseCapture===!0?"Capture":"",t={handler:o,sensitivity:Ue(i),direction:le(s),noop:ge,mouseStart(a){ie(a,t)&&_e(a)&&(F(t,"temp",[[document,"mousemove","move",`notPassive${l}`],[document,"mouseup","end","notPassiveCapture"]]),t.start(a,!0))},touchStart(a){if(ie(a,t)){const r=a.target;F(t,"temp",[[r,"touchmove","move","notPassiveCapture"],[r,"touchcancel","end","notPassiveCapture"],[r,"touchend","end","notPassiveCapture"]]),t.start(a)}},start(a,r){Q.is.firefox===!0&&X(e,!0);const g=J(a);t.event={x:g.left,y:g.top,time:Date.now(),mouse:r===!0,dir:!1}},move(a){if(t.event===void 0)return;if(t.event.dir!==!1){j(a);return}const r=Date.now()-t.event.time;if(r===0)return;const g=J(a),b=g.left-t.event.x,v=Math.abs(b),x=g.top-t.event.y,c=Math.abs(x);if(t.event.mouse!==!0){if(v<t.sensitivity[1]&&c<t.sensitivity[1]){t.end(a);return}}else if(v<t.sensitivity[2]&&c<t.sensitivity[2])return;const d=v/r,m=c/r;t.direction.vertical===!0&&v<c&&v<100&&m>t.sensitivity[0]&&(t.event.dir=x<0?"up":"down"),t.direction.horizontal===!0&&v>c&&c<100&&d>t.sensitivity[0]&&(t.event.dir=b<0?"left":"right"),t.direction.up===!0&&v<c&&x<0&&v<100&&m>t.sensitivity[0]&&(t.event.dir="up"),t.direction.down===!0&&v<c&&x>0&&v<100&&m>t.sensitivity[0]&&(t.event.dir="down"),t.direction.left===!0&&v>c&&b<0&&c<100&&d>t.sensitivity[0]&&(t.event.dir="left"),t.direction.right===!0&&v>c&&b>0&&c<100&&d>t.sensitivity[0]&&(t.event.dir="right"),t.event.dir!==!1?(j(a),t.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),De(),t.styleCleanup=h=>{t.styleCleanup=void 0,document.body.classList.remove("non-selectable");const S=()=>{document.body.classList.remove("no-pointer-events--children")};h===!0?setTimeout(S,50):S()}),t.handler({evt:a,touch:t.event.mouse!==!0,mouse:t.event.mouse,direction:t.event.dir,duration:r,distance:{x:v,y:c}})):t.end(a)},end(a){t.event!==void 0&&(K(t,"temp"),Q.is.firefox===!0&&X(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(!0),a!==void 0&&t.event.dir!==!1&&j(a),t.event=void 0)}};if(e.__qtouchswipe=t,s.mouse===!0){const a=s.mouseCapture===!0||s.mousecapture===!0?"Capture":"";F(t,"main",[[e,"mousedown","mouseStart",`passive${a}`]])}Q.has.touch===!0&&F(t,"main",[[e,"touchstart","touchStart",`passive${s.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,o){const i=e.__qtouchswipe;i!==void 0&&(o.oldValue!==o.value&&(typeof o.value!="function"&&i.end(),i.handler=o.value),i.direction=le(o.modifiers))},beforeUnmount(e){const o=e.__qtouchswipe;o!==void 0&&(K(o,"main"),K(o,"temp"),Q.is.firefox===!0&&X(e,!1),o.styleCleanup!==void 0&&o.styleCleanup(),delete e.__qtouchswipe)}});const Ge={name:{required:!0},disable:Boolean},ve={setup(e,{slots:o}){return()=>_("div",{class:"q-panel scroll",role:"tabpanel"},R(o.default))}},Re={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},Xe=["update:modelValue","beforeTransition","transition"];function je(){const{props:e,emit:o,proxy:i}=de(),{getCacheWithFn:s}=Ne();let l,t;const a=k(null),r=k(null);function g(n){const u=e.vertical===!0?"up":"left";q((i.$q.lang.rtl===!0?-1:1)*(n.direction===u?1:-1))}const b=p(()=>[[Oe,g,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),v=p(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),x=p(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),c=p(()=>`--q-transition-duration: ${e.transitionDuration}ms`),d=p(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),m=p(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),h=p(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);U(()=>e.modelValue,(n,u)=>{const y=w(n)===!0?B(n):-1;t!==!0&&T(y===-1?0:y<B(u)?-1:1),a.value!==y&&(a.value=y,o("beforeTransition",n,u),he(()=>{o("transition",n,u)}))});function S(){q(1)}function E(){q(-1)}function V(n){o("update:modelValue",n)}function w(n){return n!=null&&n!==""}function B(n){return l.findIndex(u=>u.props.name===n&&u.props.disable!==""&&u.props.disable!==!0)}function L(){return l.filter(n=>n.props.disable!==""&&n.props.disable!==!0)}function T(n){const u=n!==0&&e.animated===!0&&a.value!==-1?"q-transition--"+(n===-1?v.value:x.value):null;r.value!==u&&(r.value=u)}function q(n,u=a.value){let y=u+n;for(;y>-1&&y<l.length;){const A=l[y];if(A!==void 0&&A.props.disable!==""&&A.props.disable!==!0){T(n),t=!0,o("update:modelValue",A.props.name),setTimeout(()=>{t=!1});return}y+=n}e.infinite===!0&&l.length>0&&u!==-1&&u!==l.length&&q(n,n===-1?l.length:-1)}function D(){const n=B(e.modelValue);return a.value!==n&&(a.value=n),!0}function M(){const n=w(e.modelValue)===!0&&D()&&l[a.value];return e.keepAlive===!0?[_(xe,m.value,[_(h.value===!0?s(d.value,()=>({...ve,name:d.value})):ve,{key:d.value,style:c.value},()=>n)])]:[_("div",{class:"q-panel scroll",style:c.value,key:d.value,role:"tabpanel"},[n])]}function f(){if(l.length!==0)return e.animated===!0?[_(ye,{name:r.value},M)]:M()}function $(n){return l=be(R(n.default,[])).filter(u=>u.props!==null&&u.props.slot===void 0&&w(u.props.name)===!0),l.length}function N(){return l}return Object.assign(i,{next:S,previous:E,goTo:V}),{panelIndex:a,panelDirectives:b,updatePanelsList:$,updatePanelIndex:D,getPanelContent:f,getEnabledPanels:L,getPanels:N,isValidPanelName:w,keepAliveProps:m,needsUniqueKeepAliveWrapper:h,goToPanelByOffset:q,goToPanel:V,nextPanel:S,previousPanel:E}}var Ke=H({name:"QCarouselSlide",props:{...Ge,imgSrc:String},setup(e,{slots:o}){const i=p(()=>e.imgSrc?{backgroundImage:`url("${e.imgSrc}")`}:{});return()=>_("div",{class:"q-carousel__slide",style:i.value},R(o.default))}}),We=H({name:"QCarouselControl",props:{position:{type:String,default:"bottom-right",validator:e=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(e)},offset:{type:Array,default:()=>[18,18],validator:e=>e.length===2}},setup(e,{slots:o}){const i=p(()=>`q-carousel__control absolute absolute-${e.position}`),s=p(()=>({margin:`${e.offset[1]}px ${e.offset[0]}px`}));return()=>_("div",{class:i.value,style:s.value},R(o.default))}});const Ye=["top","right","bottom","left"],He=["regular","flat","outline","push","unelevated"];var Je=H({name:"QCarousel",props:{...Ce,...Re,...Qe,transitionPrev:{type:String,default:"fade"},transitionNext:{type:String,default:"fade"},height:String,padding:Boolean,controlColor:String,controlTextColor:String,controlType:{type:String,validator:e=>He.includes(e),default:"flat"},autoplay:[Number,Boolean],arrows:Boolean,prevIcon:String,nextIcon:String,navigation:Boolean,navigationPosition:{type:String,validator:e=>Ye.includes(e)},navigationIcon:String,navigationActiveIcon:String,thumbnails:Boolean},emits:[...Ee,...Xe],setup(e,{slots:o}){const{proxy:{$q:i}}=de(),s=Pe(e,i);let l=null,t;const{updatePanelsList:a,getPanelContent:r,panelDirectives:g,goToPanel:b,previousPanel:v,nextPanel:x,getEnabledPanels:c,panelIndex:d}=je(),{inFullscreen:m}=Le(),h=p(()=>m.value!==!0&&e.height!==void 0?{height:e.height}:{}),S=p(()=>e.vertical===!0?"vertical":"horizontal"),E=p(()=>`q-carousel q-panel-parent q-carousel--with${e.padding===!0?"":"out"}-padding`+(m.value===!0?" fullscreen":"")+(s.value===!0?" q-carousel--dark q-dark":"")+(e.arrows===!0?` q-carousel--arrows-${S.value}`:"")+(e.navigation===!0?` q-carousel--navigation-${L.value}`:"")),V=p(()=>{const f=[e.prevIcon||i.iconSet.carousel[e.vertical===!0?"up":"left"],e.nextIcon||i.iconSet.carousel[e.vertical===!0?"down":"right"]];return e.vertical===!1&&i.lang.rtl===!0?f.reverse():f}),w=p(()=>e.navigationIcon||i.iconSet.carousel.navigationIcon),B=p(()=>e.navigationActiveIcon||w.value),L=p(()=>e.navigationPosition||(e.vertical===!0?"right":"bottom")),T=p(()=>({color:e.controlColor,textColor:e.controlTextColor,round:!0,[e.controlType]:!0,dense:!0}));U(()=>e.modelValue,()=>{e.autoplay&&q()}),U(()=>e.autoplay,f=>{f?q():l!==null&&(clearTimeout(l),l=null)});function q(){const f=ke(e.autoplay)===!0?Math.abs(e.autoplay):5e3;l!==null&&clearTimeout(l),l=setTimeout(()=>{l=null,f>=0?x():v()},f)}me(()=>{e.autoplay&&q()}),Se(()=>{l!==null&&clearTimeout(l)});function D(f,$){return _("div",{class:`q-carousel__control q-carousel__navigation no-wrap absolute flex q-carousel__navigation--${f} q-carousel__navigation--${L.value}`+(e.controlColor!==void 0?` text-${e.controlColor}`:"")},[_("div",{class:"q-carousel__navigation-inner flex flex-center no-wrap"},c().map($))])}function M(){const f=[];if(e.navigation===!0){const $=o["navigation-icon"]!==void 0?o["navigation-icon"]:n=>_(z,{key:"nav"+n.name,class:`q-carousel__navigation-icon q-carousel__navigation-icon--${n.active===!0?"":"in"}active`,...n.btnProps,onClick:n.onClick}),N=t-1;f.push(D("buttons",(n,u)=>{const y=n.props.name,A=d.value===u;return $({index:u,maxIndex:N,name:y,active:A,btnProps:{icon:A===!0?B.value:w.value,size:"sm",...T.value},onClick:()=>{b(y)}})}))}else if(e.thumbnails===!0){const $=e.controlColor!==void 0?` text-${e.controlColor}`:"";f.push(D("thumbnails",N=>{const n=N.props;return _("img",{key:"tmb#"+n.name,class:`q-carousel__thumbnail q-carousel__thumbnail--${n.name===e.modelValue?"":"in"}active`+$,src:n.imgSrc||n["img-src"],onClick:()=>{b(n.name)}})}))}return e.arrows===!0&&d.value>=0&&((e.infinite===!0||d.value>0)&&f.push(_("div",{key:"prev",class:`q-carousel__control q-carousel__arrow q-carousel__prev-arrow q-carousel__prev-arrow--${S.value} absolute flex flex-center`},[_(z,{icon:V.value[0],...T.value,onClick:v})])),(e.infinite===!0||d.value<t-1)&&f.push(_("div",{key:"next",class:`q-carousel__control q-carousel__arrow q-carousel__next-arrow q-carousel__next-arrow--${S.value} absolute flex flex-center`},[_(z,{icon:V.value[1],...T.value,onClick:x})]))),we(o.control,f)}return()=>(t=a(o),_("div",{class:E.value,style:h.value},[qe("div",{class:"q-carousel__slides-container"},r(),"sl-cont",e.swipeable,()=>g.value)].concat(M())))}});const Ze={class:"q-pa-md",style:{width:"20em"}},et={class:"q-gutter-md"},tt=["src"],at={__name:"SelMytest",emits:["iAmSelected"],setup(e,{emit:o}){const i=Z("albumList"),s=Z("album");return(l,t)=>(I(),O("div",Ze,[G("div",et,[C(Fe,{filled:"",dark:"",modelValue:Y(s),"onUpdate:modelValue":[t[0]||(t[0]=a=>Te(s)?s.value=a:null),t[1]||(t[1]=a=>o("iAmSelected"))],options:Y(i),"map-options":"","option-value":"label","emit-value":"",label:"\u0410\u043B\u044C\u0431\u043E\u043C",color:"teal","options-selected-class":"text-deep-orange"},{option:P(a=>[C(Me,$e(a.itemProps,{dark:""}),{default:P(()=>[C(ue,{avatar:""},{default:P(()=>[a.opt.icon?(I(),W(Ae,{key:0,name:a.opt.icon},null,8,["name"])):ee("",!0),a.opt.ava?(I(),W(Ie,{key:1,square:""},{default:P(()=>[G("img",{src:a.opt.ava},null,8,tt)]),_:2},1024)):ee("",!0)]),_:2},1024),C(ue,null,{default:P(()=>[C(ce,null,{default:P(()=>[te(ae(a.opt.label),1)]),_:2},1024),C(ce,{caption:""},{default:P(()=>[te(ae(a.opt.description),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","options"])])]))}};var nt=pe(at,[["__scopeId","data-v-5c2a289b"]]);const ot={class:"q-pa-md"},lt={__name:"PhotoArea",setup(e){const o=Ve(),i=se(),s=k([]),l=String("https://api.sakh-orch.ru/"),t=k([]);ne("albumList",t);const a=k(1),r=k(0);ne("album",r);const g=k(!0);k(!0);function b(){console.log("react"),c(),g.value=!0}function v(){re.post(l+"/api/album.php",{params:{what:"options",album:0,token:12345}}).then(d=>{t.value=d.data.options,x(),c()}).catch(()=>{i.notify({color:"negative",position:"top",message:"\u0421\u0435\u0440\u0432\u0435\u0440 \u043D\u0435 \u043E\u0442\u0432\u0435\u0447\u0430\u0435\u0442",icon:"report_problem"})})}function x(){r.value==="0"?(seldata.value.selected=seldata.value.options[seldata.value.options.length-1],r.value=seldata.value.selected.label):(seldata.value.selected.label=r.value,seldata.value.selected.value="/img/albums/"+r.value)}function c(){const d=se();re.post(l+"/api/album.php",{params:{what:"data",album:r.value,token:12345}}).then(m=>{s.value=m.data.files}).catch(()=>{d.notify({color:"negative",position:"top",message:"\u0421\u0435\u0440\u0432\u0435\u0440 \u043D\u0435 \u043E\u0442\u0432\u0435\u0447\u0430\u0435\u0442",icon:"report_problem"})})}return U(s,()=>{a.value=s.value[0]}),me(()=>{r.value=o.params.album*1,v(r.value)}),(d,m)=>(I(),O(oe,null,[G("div",ot,[C(Je,{swipeable:"",animated:"",arrows:"",dark:"",modelValue:a.value,"onUpdate:modelValue":m[1]||(m[1]=h=>a.value=h),fullscreen:g.value,"onUpdate:fullscreen":m[2]||(m[2]=h=>g.value=h),thumbnails:"",infinite:""},{control:P(()=>[C(We,{position:"top-right",offset:[18,18]},{default:P(()=>[C(z,{push:"",round:"",dense:"",color:"white","text-color":"primary",icon:g.value.value?"fullscreen_exit":"fullscreen",onClick:m[0]||(m[0]=h=>g.value=!g.value)},null,8,["icon"])]),_:1})]),default:P(()=>[(I(!0),O(oe,null,Be(s.value,h=>(I(),W(Ke,{key:h,name:h,"img-src":Y(l)+"/img/albums/"+r.value+"/"+h},null,8,["name","img-src"]))),128))]),_:1},8,["modelValue","fullscreen"])]),C(nt,{onIAmSelected:b})],64))}};const it={class:"content"},rt={class:"eventsarea"},st={__name:"GalleryPage",setup(e){return ze({title:"\u0413\u0430\u043B\u0435\u0440\u0435\u044F"}),(i,s)=>(I(),O("div",it,[G("div",rt,[C(lt)])]))}};var xt=pe(st,[["__scopeId","data-v-35cd0869"]]);export{xt as default};

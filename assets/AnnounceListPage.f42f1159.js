import{i as m,m as d,n as f,q as a,f as s,bk as w,bl as B,t as _,u as v,v as V,b as I,H as N,r as n,p as u,A as Q,l as R,ax as S}from"./index.89609573.js";import{Q as A}from"./QSelect.6f1d235f.js";import{Q as $}from"./QTooltip.31e2ede8.js";import{_ as q}from"./AnnounceList.e27973c7.js";import{u as F}from"./use-quasar.06f765f0.js";import{u as U}from"./use-meta.4aae03ae.js";import{g as W}from"./myFuncts.2186fc9b.js";import{Q as T}from"./QItemLabel.1f0e3975.js";import{b as j,Q as z}from"./QImg.c3c20473.js";import{P as H}from"./PageShell.abd02a6a.js";import{m as O}from"./entry.33e05696.js";import{_ as E}from"./plugin-vue_export-helper.21dcd24c.js";import"./QMenu.eedc4e6f.js";import"./position-engine.60b61593.js";import"./selection.27c53126.js";import"./use-virtual-scroll.1dab1b66.js";import"./rtl.276c3f1b.js";import"./format.de7e9769.js";import"./AnnounceCard.27503e4c.js";import"./BtnDelete.c36dc1af.js";import"./axios.e621819c.js";import"./hall.90e99740.js";import"./MainFooter.vue_vue_type_style_index_0_scoped_true_lang.c971ea2c.js";import"./touch.9135741d.js";import"./QScrollArea.e70a1697.js";import"./QLinearProgress.313c8bbb.js";/* empty css                                                    */import"./myAxios.f4538610.js";const G={__name:"SelectSort",emits:["onSelect"],setup(x,{emit:p}){const l=m("sortType"),c=p,g=[{label:"\u0421\u043D\u0430\u0447\u0430\u043B\u0430 \u043D\u043E\u0432\u044B\u0435",value:"dateDesc",caption:"\u041F\u043E \u0443\u0431\u044B\u0432\u0430\u043D\u0438\u044E \u0434\u0430\u0442\u044B"},{label:"\u0421\u043D\u0430\u0447\u0430\u043B\u0430 \u0434\u0430\u0432\u043D\u0438\u0435",value:"dateAsc",caption:"\u041F\u043E \u0432\u043E\u0437\u0440\u0430\u0441\u0442\u0430\u043D\u0438\u044E \u0434\u0430\u0442\u044B"}];return(y,e)=>(d(),f(A,{modelValue:V(l),"onUpdate:modelValue":[e[0]||(e[0]=t=>I(l)?l.value=t:null),e[1]||(e[1]=t=>c("onSelect"))],borderless:"","map-options":"","emit-value":"",options:g},{option:a(t=>[s(j,w(B(t.itemProps)),{default:a(()=>[s(z,null,{default:a(()=>[s(T,null,{default:a(()=>[_(v(t.opt.label),1)]),_:2},1024),s(T,{caption:""},{default:a(()=>[_(v(t.opt.caption),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue"]))}};const J={class:"centralCol"},K={class:"gridArea"},C="\u0410\u043D\u043E\u043D\u0441\u044B",X={__name:"AnnounceListPage",setup(x){const p=W(C);U(p);const l=F(),c=N(),y=m("editModes").announce,e=n(!1);u("compactCard",e);const t=m("progress"),b=n("dateDesc");u("sortType",b);const i=n(new Date().getFullYear());u("evYear",i);const h=n([]);u("announceList",h);const P=m("scrollWatch"),k=n();function D(){P.value=!1,e.value=!e.value,setTimeout(()=>{P.value=!0},500)}function L(){let o=[];for(let r=2018;r<=new Date().getFullYear();r++)o.push(r);return o.reverse()}async function M(){t.value=!0;const o=await O.create(l);console.log(o),o!=null&&o.id&&await c.push({path:"/announce/"+o.id}),t.value=!1}return(o,r)=>(d(),f(H,{pageTitle:C},{ToolPanel:a(()=>[V(y)?(d(),f(Q,{key:0,label:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C",stretch:"",flat:"",onClick:M})):R("",!0),s(A,{modelValue:i.value,"onUpdate:modelValue":r[0]||(r[0]=Y=>i.value=Y),options:L(),"emit-value":"",borderless:""},null,8,["modelValue","options"]),s(G,{onOnSelect:r[1]||(r[1]=()=>{k.value.setScrollPosition("vertical",0,300)})}),s(Q,{icon:e.value?"unfold_less":"unfold_more",flat:"",stretch:"",onClick:D},{default:a(()=>[s($,null,{default:a(()=>[_(v(e.value?"\u041F\u043E\u0434\u0440\u043E\u0431\u043D\u043E":"\u041A\u0440\u0430\u0442\u043A\u043E"),1)]),_:1})]),_:1},8,["icon"])]),PageContent:a(()=>[S("div",J,[S("div",K,[s(q,{year:i.value,method:"listByYear",sort:b.value},null,8,["year","sort"])])])]),_:1}))}};var xe=E(X,[["__scopeId","data-v-03e957e3"]]);export{xe as default};

import{u as T,d as W}from"./myFuncts.c8ae621f.js";import{a as j}from"./axios.593b3544.js";import{S as Q,A as h,a as N,m as A}from"./myAuth.c193bf86.js";import{H as M}from"./hall.f5f7c7d9.js";import{d as E,i as w,k as O,o as V,l as S,r as s,m as u,n as k,p as t,f as e,Q as z,q as m,t as G,u as g,v as J,x,y as I,z as K,A as X,B as Y,C as $,F as B,D as Z,b as ee,E as te,G as oe,H as ae,I as i,w as se,J as ne}from"./index.657dc795.js";import{P as b}from"./LocalStorage.dfb20871.js";import{u as le}from"./use-meta.37b3790d.js";import{Q as p}from"./QItemLabel.5c785c97.js";import{Q as r,a as ie,b as L}from"./QImg.1f2b649a.js";/* empty css               */import{_ as re}from"./plugin-vue_export-helper.21dcd24c.js";import"./myAxios.a8f39ef7.js";const ue=E({__name:"AuthComponent",setup(c){const n=T(),f=w("isOptionsLoaded");async function a(){console.log("loadOptions started");const v=await M.getList(n);M.List=s(v),M.List.value.length?(f.value=!0,console.log("options Loaded")):console.error("Halls is empty")}async function d(){await N.register(n)&&await a()}async function _(){await h.refresh(n)&&await a()}return O(()=>{console.log("auth beforeMounted"),j.defaults.headers.common.Accept="application/json"}),V(()=>{console.log("auth Mounted"),!Q.get(n)||!h.get(n)?d():(Q.set(n,Q.get(n)),h.set(n,h.get(n)),_())}),(v,o)=>S("",!0)}}),ce={__name:"DynamicFormItem",props:{btnLabel:String,icon:String,url:String},setup(c){T();const n=c;return(f,a)=>(u(),k(L,{clickable:"",onClick:a[0]||(a[0]=d=>g(W)(c.url,{AccessToken:g(A).self.AccessToken,SessionToken:g(A).self.SessionToken}))},{default:t(()=>[e(r,{avatar:""},{default:t(()=>[e(z,null,{default:t(()=>[e(ie,{src:c.icon},null,8,["src"])]),_:1})]),_:1}),e(r,null,{default:t(()=>[e(p,{caption:""},{default:t(()=>a[1]||(a[1]=[m("\u0412\u043E\u0439\u0442\u0438 \u0447\u0435\u0440\u0435\u0437")])),_:1}),e(p,null,{default:t(()=>[m(G(n.btnLabel),1)]),_:1})]),_:1})]),_:1}))}};const fe={__name:"LoginDialog",setup(c){const n=w("authTypes"),f=String("https://sakh-orch.ru/auth/"),a=w("showLoginDialog"),d=w("leftDrawerOpen");function _(){d.value=!1}return(v,o)=>(u(),k(te,{modelValue:g(a),"onUpdate:modelValue":o[3]||(o[3]=l=>ee(a)?a.value=l:null),onHide:o[4]||(o[4]=l=>_())},{default:t(()=>[e(J,{class:"dialogArea",style:{color:"var(--dTitle)"}},{default:t(()=>[e(x,null,{default:t(()=>[e(L,{dense:""},{default:t(()=>[e(r,null,{default:t(()=>[e(p,{lines:"1",class:"cardTitle"},{default:t(()=>[e(I,{name:"lock"}),o[5]||(o[5]=m("\u0421\u043B\u0443\u0436\u0435\u0431\u043D\u044B\u0439 \u0432\u0445\u043E\u0434"))]),_:1})]),_:1}),e(r,{side:""},{default:t(()=>[e(K,{round:"",flat:"",icon:"close",onMouseover:o[0]||(o[0]=()=>console.log("kjk")),onClick:o[1]||(o[1]=X(l=>a.value=!1,["stop","prevent"]))})]),_:1})]),_:1}),e(Y),e(L,null,{default:t(()=>[e(r,null,{default:t(()=>[e(p,null,{default:t(()=>o[6]||(o[6]=[m(" \u041F\u0440\u0435\u0434\u043D\u0430\u0437\u043D\u0430\u0447\u0435\u043D \u0434\u043B\u044F \u0441\u043E\u0442\u0440\u0443\u0434\u043D\u0438\u043A\u043E\u0432 \u043E\u0440\u043A\u0435\u0441\u0442\u0440\u0430 ")])),_:1})]),_:1})]),_:1}),e(L,{clickable:"",to:"/vacancies",onClick:o[2]||(o[2]=l=>a.value=!1)},{default:t(()=>[e(r,null,{default:t(()=>[e(p,{caption:""},{default:t(()=>o[7]||(o[7]=[m(" \u0415\u0441\u043B\u0438 \u0412\u044B \u043D\u0435 \u0441\u043E\u0442\u0440\u0443\u0434\u043D\u0438\u043A \u043E\u0440\u043A\u0435\u0441\u0442\u0440\u0430, \u0442\u043E \u043F\u0440\u0438\u0445\u043E\u0434\u0438\u0442\u0435 \u043A \u043D\u0430\u043C \u0440\u0430\u0431\u043E\u0442\u0430\u0442\u044C. ")])),_:1}),e(p,{caption:""},{default:t(()=>o[8]||(o[8]=[m(" \u0423 \u043D\u0430\u0441 \u0441\u0435\u0439\u0447\u0430\u0441 \u0435\u0441\u0442\u044C \u043D\u0435\u0441\u043A\u043E\u043B\u044C\u043A\u043E \u0438\u043D\u0442\u0435\u0440\u0435\u0441\u043D\u044B\u0445 \u0432\u0430\u043A\u0430\u043D\u0441\u0438\u0439.\u{1F603} ")])),_:1})]),_:1}),e(r,{side:""},{default:t(()=>[e(I,{name:"open_in_new"})]),_:1})]),_:1})]),_:1}),e(x,null,{default:t(()=>[(u(!0),$(B,null,Z(g(n),l=>(u(),k(ce,{key:l.id,btnLabel:l.label,icon:l.img,url:g(f)+l.url},null,8,["btnLabel","icon","url"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"]))}};var de=re(fe,[["__scopeId","data-v-761e7acf"]]);const Qe={__name:"MainLayout",setup(c){oe(),le({meta:{viewport:{name:"viewport",content:"initial-scale=1, width=device-width, user-scalable=yes"},equiv:{"http-equiv":"Content-Type",content:"text/html; charset=UTF-8"}}});const f=T(),a=ae(),d=s(),_=s([{id:2,label:"\u0422\u0435\u043B\u0435\u0433\u0440\u0430\u043C",url:"login/telegram/login.php",img:"/img/auth/telegram.svg"},{id:3,label:"MailRu",url:"login/mailru/login.php",img:"/img/auth/mailru.svg"},{id:4,label:"Discord",url:"login/discord/login.php",img:"/img/auth/discord.svg"},{id:4,label:"V\u041A\u043E\u043D\u0442\u0430\u043A\u0442\u0435",url:"login/vkontakte/login.php",img:"/img/auth/vkontakte.svg"}]);i("authTypes",_);const v=s(!1);i("progress",v);const o={entry:s(!1),announce:s(!1),doc:s(!1),staff:s(!1),libVideo:s(!1),lib:s(!1)};i("editModes",o);const l=s(!1);i("leftDrawerOpen",l);const C=s(!1);i("isOptionsLoaded",C);const H=s(!1);i("showLoginDialog",H);const D=s(!0);i("scrollWatch",D);const P=s(0);i("scrollPos",P),se(a,y=>{b.set("lastPath",y.path)});function q(){b.set("CookieConfirm","1")}function F(){b.getItem("CookieConfirm")||f.notify({message:"\u041C\u044B \u0442\u043E\u0436\u0435 \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0435\u043C Cookies. \u041F\u043E\u0442\u043E\u043C\u0443 \u0447\u0442\u043E \u0431\u0435\u0437 \u043D\u0438\u0445 \u043D\u0438\u0447\u0435\u0433\u043E \u043D\u0435 \u0440\u0430\u0431\u043E\u0442\u0430\u0435\u0442.",color:"primary",timeout:0,multiLine:!0,onDismiss:q,icon:"ion-information-circle-outline",actions:[{label:"\u041F\u043E\u043D\u044F\u0442\u043D\u043E",color:"yellow",handler:()=>{}}]})}function R(y=500){D.value=!1,setTimeout(()=>{D.value=!0},y)}return i("stopScrollWatch",R),O(()=>{console.log("mainLayout beforeMount"),document.body.style.backgroundImage="none"}),V(()=>{b.set("lastPath",a.path),console.log("mainLayout Mounted"),F()}),(y,me)=>{const U=ne("router-view");return u(),$(B,null,[e(ue,{ref_key:"refAuth",ref:d},null,512),C.value?(u(),k(U,{key:0})):S("",!0),C.value?(u(),k(de,{key:1})):S("",!0)],64)}}};export{Qe as default};

import{_ as S,u as b,d as w,i,r as n,p as A,J as u,f as d,g as D,A as o,j as _,c,h as p,a4 as x,D as E,E as I}from"./index.47be0674.js";import{Q as f}from"./QSelect.5b4c11f8.js";import{Q as P}from"./QLinearProgress.d84a680f.js";import{_ as U}from"./AnnounceList.dc33d793.js";import{u as M}from"./use-quasar.fa648407.js";import{u as N}from"./use-meta.aada446e.js";import{api as j}from"./axios.a3c69ad0.js";import{b as C,n as F}from"./myFuncts.24341304.js";import"./QItemSection.c242e017.js";import"./rtl.55e6cafb.js";import"./position-engine.056be306.js";import"./format.3e32b8d9.js";import"./AnnounceCard.9d8f6074.js";import"./QImg.91cbb958.js";import"./use-ratio.0e843f0c.js";import"./QTooltip.0b260434.js";import"./jwt-decode.esm.74bd4619.js";const H=s=>(E("data-v-365de284"),s=s(),I(),s),R={key:0,class:"content"},q={class:"eventsarea"},J={class:"p_title"},K=H(()=>o("div",null,"\u0410\u043D\u043E\u043D\u0441\u044B",-1)),O={class:"selectors"},$={class:"gridarea"},z={__name:"AnnounceListPage",setup(s){N({title:"\u0410\u043D\u043E\u043D\u0441\u044B"});const h=String("https://api.sakh-orch.ru/"),m=M();b();const g=w(),y=i("editMode"),V=i("progress"),k=i("Halls"),l=n({label:"\u0421\u043D\u0430\u0447\u0430\u043B\u0430 \u043D\u043E\u0432\u044B\u0435",value:0}),Y=n([{label:"\u0421\u043D\u0430\u0447\u0430\u043B\u0430 \u043D\u043E\u0432\u044B\u0435",value:0},{label:"\u0421\u043D\u0430\u0447\u0430\u043B\u0430 \u0441\u0442\u0430\u0440\u044B\u0435",value:1}]),r=n(new Date().getFullYear()),B=n([]);A("announceList",B);function L(){let e=[];for(let t=2018;t<=new Date().getFullYear();t++)e.push(t);return e.reverse()}function Q(){j.post(h+"api/event/announce.php",{params:{method:"add"}}).then(e=>{var t,a,v;if(!((t=e==null?void 0:e.data)!=null&&t.result))throw new Error;m.notify(C((v=(a=e==null?void 0:e.data)==null?void 0:a.result)!=null?v:null)),g.push({path:"/announce/"+e.data.data.id})}).catch(e=>{m.notify(F(e))})}return(e,t)=>u(k)?(d(),D("div",R,[o("div",q,[o("div",J,[K,o("div",O,[u(y)?(d(),_(x,{key:0,label:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C",onClick:Q})):c("",!0),p(f,{modelValue:r.value,"onUpdate:modelValue":t[0]||(t[0]=a=>r.value=a),options:L(),"emit-value":""},null,8,["modelValue","options"]),p(f,{modelValue:l.value,"onUpdate:modelValue":t[1]||(t[1]=a=>l.value=a),options:Y.value},null,8,["modelValue","options"])])]),u(V)?(d(),_(P,{key:0,indeterminate:"",color:"secondary"})):c("",!0),o("div",$,[p(U,{evYear:r.value,"onUpdate:evYear":t[2]||(t[2]=a=>r.value=a),method:"listByYear",sort:l.value.value},null,8,["evYear","sort"])])])])):c("",!0)}};var me=S(z,[["__scopeId","data-v-365de284"]]);export{me as default};

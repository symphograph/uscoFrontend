import{Q as N}from"./QLinearProgress.79f9a164.js";import{u as b}from"./use-quasar.07e2f65a.js";import{api as x}from"./axios.cfeb8a80.js";import{Q as L}from"./QImg.be40241d.js";import{f as S}from"./myFuncts.8c7f864e.js";import{r as a,f as l,g as _,t as e,h as Q,av as f,G as y,F as w,_ as I,v as B,x as q,u as D,d as V,i as $,w as g,a as j,j as k,c as v,au as E}from"./index.e8c7f539.js";const n=s=>(B("data-v-1b38ea6a"),s=s(),q(),s),F={class:"narea"},R={class:"nimg_block"},U=["href"],C={class:"tcol"},G={class:"ntitle"},M=["href"],P=n(()=>e("br",null,null,-1)),z=["href"],A=n(()=>e("br",null,null,-1)),H=n(()=>e("br",null,null,-1)),J={class:"ndate"},K=n(()=>e("br",null,null,-1)),O=n(()=>e("br",null,null,-1)),T=n(()=>e("hr",null,null,-1)),W=n(()=>e("br",null,null,-1)),X={__name:"NewItem",props:{item:a(null)},setup(s){const t=s;function d(){return String("https://api.sakh-orch.ru/")+t.item.img}function i(){return t.item.evid?"/announce/"+t.item.evid:t.item.refLink?t.item.refLink:"/new/"+t.item.id}return(c,o)=>(l(),_(w,null,[e("div",F,[e("div",R,[e("div",null,[e("a",{href:i()},[Q(L,{src:d(),ratio:1920/1080,fit:"fill"},null,8,["src"])],8,U)])]),e("div",C,[e("div",G,[e("a",{href:i()},f(s.item.title),9,M)]),P,e("a",{href:i()},f(s.item.descr),9,z),A,H,e("span",J,f(y(S)(s.item.date)),1),K])]),O,T,W],64))}};var Y=I(X,[["__scopeId","data-v-1b38ea6a"]]);const Z={class:"newscol"},ee={key:2,class:"noEntyes"},te={__name:"NewsList",props:{query:a(null),category:a(null),year:a(null),limit:a(null)},setup(s){const t=s,d=String("https://api.sakh-orch.ru/"),i=D();V(),b();const c=$("progress"),o=a([]);a("\u041B\u0443\u0447\u0448\u0438\u0435 \u043D\u043E\u0432\u043E\u0441\u0442\u0438 - \u044D\u0442\u043E \u0438\u0445 \u043E\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u0435.");const m=a(t.category);g(()=>t.query,()=>{h()},{deep:!0}),g(i,r=>{m.value=r.params.category,h()});function h(){!m.value||(c.value=!0,x.post(d+"api/news/entry/list.php",{params:{category:m.value,year:t.year,limit:t.limit}}).then(r=>{var p,u;o.value=(u=(p=r==null?void 0:r.data)==null?void 0:p.data)!=null?u:[]}).catch(r=>{o.value=[]}).finally(()=>{c.value=!1}))}return j(()=>{h()}),(r,p)=>(l(),_("div",Z,[y(c)?(l(),k(N,{key:0,indeterminate:"",color:"secondary",class:"q-mt-sm"})):v("",!0),o.value.length?(l(!0),_(w,{key:1},E(o.value,u=>(l(),k(Y,{key:u.id,item:u},null,8,["item"]))),128)):v("",!0),!o.value&&!y(c)?(l(),_("h5",ee," \u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0435. \u041F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u043E\u0431\u043D\u043E\u0432\u0438\u0442\u044C \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0443. ")):v("",!0)]))}};var ie=I(te,[["__scopeId","data-v-fc4e2fc4"]]);export{ie as N};

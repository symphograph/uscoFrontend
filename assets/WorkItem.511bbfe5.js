import{Q as r}from"./QItemLabel.4c832645.js";import{b as W,Q as l}from"./QImg.628e9f39.js";import{d as b,i as f,m as u,n as d,q as t,f as a,t as n,u as i,l as c,v as m,A as B,B as C}from"./index.f5e978c0.js";import{h as $}from"./myFuncts.28762f14.js";import{u as h}from"./use-quasar.cdf0ea62.js";import{_ as D}from"./BtnDelete.921da25f.js";import{W as M}from"./lib.ab987395.js";import{_ as N}from"./plugin-vue_export-helper.21dcd24c.js";const O=b({__name:"WorkItem",props:{work:{}},emits:["onDel"],setup(k,{emit:_}){const p=h(),w=f("editMode"),I=f("genres"),g=k,v=_;function y(e){return I.value.find(s=>s.id===e)}async function Q(){await M.del(p,g.work.id)&&v("onDel")}return(e,s)=>(u(),d(W,{clickable:"",to:`/work/${e.work.id}`,dense:""},{default:t(()=>[a(l,null,{default:t(()=>[a(r,null,{default:t(()=>[n(i(e.work.titleRu),1)]),_:1}),a(r,{caption:""},{default:t(()=>[n(i(e.work.titleEn),1)]),_:1}),e.work.genreId?(u(),d(r,{key:0,caption:""},{default:t(()=>[n(i(y(e.work.genreId).name),1)]),_:1})):c("",!0)]),_:1}),a(l,{side:""},{default:t(()=>[m(w)?(u(),d(D,{key:0,title:`\u0423\u0434\u0430\u043B\u0438\u0442\u044C: ${e.work.titleRu}`,flat:"",danger:"","throw-confirm":"",onOnOk:Q},null,8,["title"])):c("",!0)]),_:1}),a(l,{side:"",class:"opus"},{default:t(()=>[a(r,{caption:""},{default:t(()=>{var o;return[n(i((o=e.work.opus)!=null?o:"Op.?"),1)]}),_:1}),a(r,{caption:""},{default:t(()=>{var o;return[n(i((o=e.work.icatno)!=null?o:"cat\u2116.?"),1)]}),_:1}),a(r,{caption:""},{default:t(()=>{var o;return[n(i((o=e.work.catalogIndex)!=null?o:"catIdx: ?"),1)]}),_:1}),a(B,{dense:"","icon-right":"content_copy",flat:"",label:`ID: ${e.work.id}`,onClick:s[0]||(s[0]=C(o=>m($)(e.work.id,m(p)),["prevent","stop"]))},null,8,["label"])]),_:1})]),_:1},8,["to"]))}});var L=N(O,[["__scopeId","data-v-7498d176"]]);export{L as W};

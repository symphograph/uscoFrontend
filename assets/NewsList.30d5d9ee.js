import{Q as I}from"./QLinearProgress.ef5b8abe.js";import{u as N}from"./use-quasar.b9e4067c.js";import{api as x}from"./axios.808fc3dd.js";import{Q as L}from"./QImg.f9998e06.js";import{f as S}from"./myFuncts.8c7f864e.js";import{r,f as l,g as _,t as e,h as Q,au as f,A as g,F as w,_ as b,v as B,x as q,u as D,d as V,i as $,w as y,a as j,j as k,c as v,at as E}from"./index.9a351014.js";const n=s=>(B("data-v-1b38ea6a"),s=s(),q(),s),F={class:"narea"},R={class:"nimg_block"},U=["href"],A={class:"tcol"},C={class:"ntitle"},M=["href"],P=n(()=>e("br",null,null,-1)),z=["href"],G=n(()=>e("br",null,null,-1)),H=n(()=>e("br",null,null,-1)),J={class:"ndate"},K=n(()=>e("br",null,null,-1)),O=n(()=>e("br",null,null,-1)),T=n(()=>e("hr",null,null,-1)),W=n(()=>e("br",null,null,-1)),X={__name:"NewItem",props:{item:r(null)},setup(s){const t=s;function d(){return String("https://api.sakh-orch.ru/")+t.item.img}function i(){return t.item.evid?"/announce/"+t.item.evid:t.item.refLink?t.item.refLink:"/new/"+t.item.id}return(c,o)=>(l(),_(w,null,[e("div",F,[e("div",R,[e("div",null,[e("a",{href:i()},[Q(L,{src:d(),ratio:1920/1080,fit:"fill"},null,8,["src"])],8,U)])]),e("div",A,[e("div",C,[e("a",{href:i()},f(s.item.title),9,M)]),P,e("a",{href:i()},f(s.item.descr),9,z),G,H,e("span",J,f(g(S)(s.item.date)),1),K])]),O,T,W],64))}};var Y=b(X,[["__scopeId","data-v-1b38ea6a"]]);const Z={class:"newscol"},ee={key:2,class:"noEntyes"},te={__name:"NewsList",props:{query:r(null),category:r(null),year:r(null),limit:r(null)},setup(s){const t=s,d=String("https://api.sakh-orch.ru/"),i=D();V(),N();const c=$("progress"),o=r([]);r("\u041B\u0443\u0447\u0448\u0438\u0435 \u043D\u043E\u0432\u043E\u0441\u0442\u0438 - \u044D\u0442\u043E \u0438\u0445 \u043E\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u0435.");const m=r(t.category);y(()=>t.query,a=>{h()},{deep:!0}),y(i,a=>{m.value=a.params.category,h()});function h(){!m.value||(c.value=!0,x.post(d+"api/get/news.php",{params:{category:m.value,year:t.year,limit:t.limit}}).then(a=>{var p,u;o.value=(u=(p=a==null?void 0:a.data)==null?void 0:p.data)!=null?u:[]}).catch(a=>{o.value=[]}).finally(()=>{c.value=!1}))}return j(()=>{h()}),(a,p)=>(l(),_("div",Z,[g(c)?(l(),k(I,{key:0,indeterminate:"",color:"secondary",class:"q-mt-sm"})):v("",!0),o.value.length?(l(!0),_(w,{key:1},E(o.value,u=>(l(),k(Y,{key:u.id,item:u},null,8,["item"]))),128)):v("",!0),!o.value&&!g(c)?(l(),_("h5",ee," \u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0435. \u041F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u043E\u0431\u043D\u043E\u0432\u0438\u0442\u044C \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0443. ")):v("",!0)]))}};var ie=b(te,[["__scopeId","data-v-b124f0ca"]]);export{ie as N};

var p=Object.defineProperty;var m=(o,u,s)=>u in o?p(o,u,{enumerable:!0,configurable:!0,writable:!0,value:s}):o[u]=s;var e=(o,u,s)=>(m(o,typeof u!="symbol"?u+"":u,s),s);import{a as d}from"./axios.05724ddf.js";import{a as g,n as h}from"./myFuncts.307cdec6.js";const n=class{constructor({id:u=-1,name:s="\u041D\u043E\u0432\u044B\u0439 \u0437\u0430\u043B",suggestId:a=0,suggest:r}={}){e(this,"id",-1);e(this,"name","\u041D\u043E\u0432\u044B\u0439 \u0437\u0430\u043B");e(this,"suggestId",0);e(this,"suggest");this.id=u,this.name=s,this.suggestId=a,this.suggest=r}async save(u){var r;const s=String("https://api.sakh-orch.ru/")+"api/hall.php",a={method:this.id>0?"update":"add",id:this.id,name:this.name,suggestId:this.suggestId};try{const t=await d.post(s,{params:a});if(!((r=t==null?void 0:t.data)!=null&&r.result))throw new Error;return this.id=t.data.data.id,u.notify(g()),!0}catch(t){return u.notify(h(t)),!1}}async del(u){var r;const s=String("https://api.sakh-orch.ru/")+"api/hall.php",a={method:"del",id:this.id};try{const t=await d.post(s,{params:a});if(!((r=t==null?void 0:t.data)!=null&&r.result))throw new Error;return u.notify(g()),n.List.value=n.List.value.filter(i=>i.id!==this.id),!0}catch(t){return u.notify(h(t)),!1}}static async getList(u){var r;const s=String("https://api.sakh-orch.ru/")+"api/hall.php",a={method:"list"};try{const t=await d.post(s,{params:a});if(!((r=t==null?void 0:t.data)!=null&&r.result))throw new Error("\u0421\u043F\u0438\u0441\u043E\u043A \u0437\u0430\u043B\u043E\u0432 \u043D\u0435 \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u043B\u0441\u044F");return t.data.data.map(i=>new n({id:i.id,name:i.name,suggestId:i.suggestId,suggest:i.suggest}))}catch(t){return u.notify(h(t)),[]}}};let c=n;e(c,"List");export{c as H};

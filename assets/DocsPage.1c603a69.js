import{i as I,m as V,n as E,q as u,f as r,t as Y,v as ae,x as G,E as re,F as de,l as le,B as J,C as De,r as L,c as g,w as ge,A as me,y as qe,z as Se,G as xe,bl as _t,V as Te,dp as Xt,bf as Zt,bb as el,bd as tl,bg as ll,dq as al,bh as vt,h as b,dl as he,bc as ol,g as Qe,aJ as nl,o as Ie,ax as Z,c4 as ht,Q as rl,b7 as Pe,ak as il,b as Ee,H as ot,b8 as ul,b9 as sl,W as tt,a1 as dl,X as St,Z as wt,aB as cl,k as kt,O as fl,P as vl,aa as ml,aC as gl,aA as mt,ab as bl,dr as lt,L as gt,dj as pl,au as Ct,dn as yl,df as Ze,D as _l,p as se}from"./index.24553d31.js";import{Q as be}from"./QTooltip.69832e01.js";import{Q as we}from"./QList.f8872f3d.js";import{u as hl}from"./use-meta.531af4f0.js";import{u as pe}from"./use-quasar.5214fbba.js";import{Q as X,a as ke}from"./QItem.ec456296.js";import{Q as Dt}from"./QExpansionItem.724451ba.js";import{f as at,k as Sl,n as ie,j as wl,l as kl,m as Cl,a as Me,o as et,p as Dl,q as Pl,r as ql,g as xl,s as Tl}from"./myFuncts.e70b84ba.js";import{Q as ne}from"./QItemLabel.a5827065.js";import{_ as Ne}from"./BtnDelete.3dfc38d7.js";import{a as ue}from"./axios.b85bf3b3.js";import{_ as Ue}from"./plugin-vue_export-helper.21dcd24c.js";import{Q as Pt}from"./QLinearProgress.e362525d.js";import{a as qt,Q as xt,u as Fl,b as Vl,c as Tt}from"./QSelect.31d41137.js";import{u as Rl,a as Bl,b as Ll}from"./use-file.997771a7.js";import{h as Ol}from"./format.de7e9769.js";import{Q as $l,a as Al}from"./QPopupProxy.a0ce1e03.js";import{Q as Ml}from"./QForm.6a0308e8.js";import{C as Nl}from"./ClosePopup.dfbe96ba.js";/* empty css               */import{_ as Ql}from"./PhoneNumber.75744567.js";import{u as Il,a as El,b as Ul}from"./use-fullscreen.b56ac221.js";import{P as jl}from"./PageShell.08ff807c.js";import"./position-engine.affa8945.js";import"./selection.601d92fa.js";import"./QMenu.f20ee8b7.js";import"./rtl.276c3f1b.js";import"./use-render-cache.3aae9b27.js";import"./TouchPan.1a9d4381.js";import"./touch.9135741d.js";import"./QToolbar.eadc92d4.js";import"./QScrollArea.e21ff25f.js";import"./MainFooter.3479873d.js";import"./MainFooter.vue_vue_type_style_index_0_scoped_true_lang.a493ab19.js";import"./AnderHeader.07f65222.js";import"./QImg.a1706685.js";/* empty css                                                    */const zl={__name:"DocItem",props:{doc:Object},emits:["deleted","moved"],setup(e,{emit:o}){const l=pe(),p=String("https://api.sakh-orch.ru/"),n=I("editMode"),d=e,a=I("loadList");function f(){console.log("drag")}function m(){const s={params:{method:"del",id:d.doc.id}};ue.post(p+"api/docs/doc.php",s).then(c=>{var h;if(!((h=c==null?void 0:c.data)!=null&&h.result))throw new Error;a()}).catch(c=>{l.notify(ie(c))})}function _(){const s={params:{method:"setAsTrash",id:d.doc.id}};ue.post(p+"api/docs/doc.php",s).then(c=>{var h;if(!((h=c==null?void 0:c.data)!=null&&h.result))throw new Error;a()}).catch(c=>{l.notify(ie(c))})}function i(){const s={params:{method:"resFromTrash",id:d.doc.id}};ue.post(p+"api/docs/doc.php",s).then(c=>{var h;if(!((h=c==null?void 0:c.data)!=null&&h.result))throw new Error;a()}).catch(c=>{l.notify(ie(c))})}return(s,c)=>(V(),E(ke,{disable:!e.doc.fileName,draggable:!1,onDragstart:f,clickable:"",target:"_blank",href:`${G(p)}documents/${G(Sl)(e.doc.file.md5)}/${e.doc.fileName}`},{default:u(()=>[r(X,null,{default:u(()=>[r(ne,{class:"docItem"},{default:u(()=>[Y(ae(e.doc.title),1)]),_:1}),r(ne,{caption:""},{default:u(()=>[Y("\u043E\u0442 "+ae(G(at)(e.doc.atDate)),1)]),_:1}),G(n)?(V(),re(de,{key:0},[G(n)?(V(),E(ne,{key:0,caption:""},{default:u(()=>[Y(ae(e.doc.fileName),1)]),_:1})):le("",!0),G(n)?(V(),E(ne,{key:1,caption:""},{default:u(()=>[Y("\u0417\u0430\u0433\u0440\u0443\u0436\u0435\u043D: "+ae(G(at)(e.doc.file.createdAt)),1)]),_:1})):le("",!0)],64)):le("",!0)]),_:1}),e.doc.isTrash?(V(),E(X,{key:0,side:""},{default:u(()=>[r(J,{icon:"settings_backup_restore",color:"green",onClick:c[0]||(c[0]=De(h=>i(),["stop","prevent"])),flat:""},{default:u(()=>[r(be,null,{default:u(()=>c[3]||(c[3]=[Y("\u0412\u043E\u0441\u0441\u0442\u0430\u043D\u043E\u0432\u0438\u0442\u044C")])),_:1})]),_:1})]),_:1})):le("",!0),G(n)?(V(),E(X,{key:1,side:""},{default:u(()=>[e.doc.isTrash?(V(),E(Ne,{key:0,tooltip:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0438\u0437 \u043A\u043E\u0440\u0437\u0438\u043D\u044B",title:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0438\u0437 \u043A\u043E\u0440\u0437\u0438\u043D\u044B",onOnOk:c[1]||(c[1]=h=>m()),throwConfirm:"",danger:"",flat:""})):(V(),E(Ne,{key:1,tooltip:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0434\u043E\u043A\u0443\u043C\u0435\u043D\u0442",title:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0434\u043E\u043A\u0443\u043C\u0435\u043D\u0442",onOnOk:c[2]||(c[2]=h=>_()),throwConfirm:"",flat:""}))]),_:1})):le("",!0)]),_:1},8,["disable","href"]))}};var nt=Ue(zl,[["__scopeId","data-v-7e1e5fdb"]]);const Hl={__name:"DocFolder",props:{folder:Object,idx:Number},emits:["onDelete","onDelFolder"],setup(e,{emit:o}){const l=pe(),p=String("https://api.sakh-orch.ru/"),n=I("editMode"),d=o,a=L(!0),f=I("folderList"),m=e,_=g(()=>f.value.length-1===m.idx),i=I("sortType"),s=I("loadList"),c=(Q,C)=>Q.title.localeCompare(C.title),h=(Q,C)=>Q.atDate.localeCompare(C.atDate),B=(Q,C)=>C.atDate.localeCompare(Q.atDate),S=(Q,C)=>h(Q,C)||c(Q,C),P=(Q,C)=>B(Q,C)||c(Q,C),j=g(()=>m.folder.docs.slice().sort(c)),U=g(()=>m.folder.docs.slice().sort(S)),M=g(()=>m.folder.docs.slice().sort(P)),$=g(()=>{switch(i.value){case"title":return j.value;case"dateAsc":return U.value;case"dateDesc":return M.value}return[]}),x=I("folderId"),w=I("dialog");function O(){x.value=m.folder.id,w.value=!0}const k=I("folderNameDialog");function N(){x.value=m.folder.id,k.value=!0}function W(){const Q={params:{method:"setAsTrash",id:m.folder.id}};ue.post(p+"api/docs/folder.php",Q).then(C=>{var T;if(!((T=C==null?void 0:C.data)!=null&&T.result))throw new Error;d("onDelFolder",m.folder.id)}).catch(C=>{l.notify(ie(C))})}function K(Q){const C={params:{method:Q,id:m.folder.id}};ue.post(p+"api/docs/folder.php",C).then(T=>{var v;if(!((v=T==null?void 0:T.data)!=null&&v.result))throw new Error;s()}).catch(T=>{l.notify(ie(T))})}const ce=L(),fe=I("collapseTrigger");return ge(()=>fe.value,()=>{ce.value.hide()}),(Q,C)=>(V(),E(Dt,{"default-opened":"",modelValue:a.value,"onUpdate:modelValue":C[6]||(C[6]=T=>a.value=T),class:"overflow-hidden no-padding folderArea",ref_key:"folderRef",ref:ce,icon:"folder","header-style":{color:"#a98700",fontSize:"20px"},label:e.folder.title,popup:"","hide-expand-icon":"",duration:200,"content-inset-level":1},{header:u(()=>[r(ke,{style:{width:"100%"}},{default:u(()=>[r(X,{avatar:""},{default:u(()=>[r(me,{name:"folder"})]),_:1}),r(X,null,{default:u(()=>[Y(ae(e.folder.title),1)]),_:1}),G(n)?(V(),re(de,{key:0},[r(X,{side:""},{default:u(()=>[r(be,null,{default:u(()=>C[7]||(C[7]=[Y("\u041F\u0435\u0440\u0435\u0438\u043C\u0435\u043D\u043E\u0432\u0430\u0442\u044C")])),_:1}),r(J,{icon:"edit",flat:"",onClick:C[0]||(C[0]=De(T=>N(),["stop","prevent"]))})]),_:1}),r(X,{side:""},{default:u(()=>[r(J,{icon:"arrow_upward",flat:"",dense:"",disable:e.folder.sortPos===1,onClick:C[1]||(C[1]=De(T=>K("posUp"),["prevent","stop"]))},{default:u(()=>[r(be,null,{default:u(()=>C[8]||(C[8]=[Y("\u041F\u0435\u0440\u0435\u043C\u0435\u0441\u0442\u0438\u0442\u044C \u0432\u0432\u0435\u0440\u0445")])),_:1})]),_:1},8,["disable"])]),_:1}),r(X,{side:""},{default:u(()=>[r(J,{icon:"arrow_downward",flat:"",dense:"",disable:_.value,onClick:C[2]||(C[2]=De(T=>K("posDown"),["prevent","stop"]))},{default:u(()=>[r(be,null,{default:u(()=>C[9]||(C[9]=[Y("\u041F\u0435\u0440\u0435\u043C\u0435\u0441\u0442\u0438\u0442\u044C \u0432\u043D\u0438\u0437")])),_:1})]),_:1},8,["disable"])]),_:1}),a.value?(V(),re(de,{key:0},[r(X,{side:""},{default:u(()=>[r(Ne,{title:"\u0423\u0434\u0430\u043B\u0435\u043D\u0438\u0435 \u043F\u0430\u043F\u043A\u0438",onOnOk:C[3]||(C[3]=T=>W()),message:"\u041F\u0430\u043F\u043A\u0430 \u0431\u0443\u0434\u0435\u0442 \u0443\u0434\u0430\u043B\u0435\u043D\u0430 \u0432\u043C\u0435\u0441\u0442\u0435 \u0441 \u0441\u043E\u0434\u0435\u0440\u0436\u0438\u043C\u044B\u043C",throwConfirm:"",tooltip:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u043F\u0430\u043F\u043A\u0443"})]),_:1}),r(X,{side:""},{default:u(()=>[r(J,{class:"goldBtn",round:"",icon:"add",onClick:C[4]||(C[4]=De(T=>O(),["stop"]))},{default:u(()=>[r(be,{anchor:"top middle",offset:[30,30]},{default:u(()=>C[10]||(C[10]=[Y("\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0434\u043E\u043A\u0443\u043C\u0435\u043D\u0442")])),_:1})]),_:1})]),_:1})],64)):le("",!0)],64)):le("",!0)]),_:1})]),default:u(()=>[r(qe,{flat:"",style:{background:"none",border:"none"}},{default:u(()=>[r(Se,null,{default:u(()=>[r(we,{separator:""},{default:u(()=>[(V(!0),re(de,null,xe($.value,(T,v)=>(V(),E(nt,{key:v,doc:T,onDeleted:C[5]||(C[5]=D=>d("onDelete",D))},null,8,["doc"]))),128))]),_:1})]),_:1}),r(_t,{align:"right"})]),_:1})]),_:1},8,["modelValue","label"]))}};var Yl=Ue(Hl,[["__scopeId","data-v-f2de6656"]]),Kl=Te({name:"QFile",inheritAttrs:!1,props:{...Xt,...Zt,...Rl,modelValue:[File,FileList,Array],append:Boolean,useChips:Boolean,displayValue:[String,Number],tabindex:{type:[String,Number],default:0},counterLabel:Function,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...el,...Bl],setup(e,{slots:o,emit:l,attrs:p}){const{proxy:n}=Qe(),d=tl(),a=L(null),f=L(!1),m=ll(e),{pickFiles:_,onDragover:i,onDragleave:s,processFiles:c,getDndNode:h}=Ll({editable:d.editable,dnd:f,getFileInput:ce,addFilesToQueue:fe}),B=al(e),S=g(()=>Object(e.modelValue)===e.modelValue?"length"in e.modelValue?Array.from(e.modelValue):[e.modelValue]:[]),P=g(()=>vt(S.value)),j=g(()=>S.value.map(v=>v.name).join(", ")),U=g(()=>Ol(S.value.reduce((v,D)=>v+D.size,0))),M=g(()=>({totalSize:U.value,filesNumber:S.value.length,maxFiles:e.maxFiles})),$=g(()=>({tabindex:-1,type:"file",title:"",accept:e.accept,capture:e.capture,name:m.value,...p,id:d.targetUid.value,disabled:d.editable.value!==!0})),x=g(()=>"q-file q-field--auto-height"+(f.value===!0?" q-file--dnd":"")),w=g(()=>e.multiple===!0&&e.append===!0);function O(v){const D=S.value.slice();D.splice(v,1),N(D)}function k(v){const D=S.value.indexOf(v);D!==-1&&O(D)}function N(v){l("update:modelValue",e.multiple===!0?v:v[0])}function W(v){v.keyCode===13&&nl(v)}function K(v){(v.keyCode===13||v.keyCode===32)&&_(v)}function ce(){return a.value}function fe(v,D){const A=c(v,D,S.value,w.value),oe=ce();oe!=null&&(oe.value=""),A!==void 0&&((e.multiple===!0?e.modelValue&&A.every(ee=>S.value.includes(ee)):e.modelValue===A[0])||N(w.value===!0?S.value.concat(A):A))}function Q(){return[b("input",{class:[e.inputClass,"q-file__filler"],style:e.inputStyle})]}function C(){if(o.file!==void 0)return S.value.length===0?Q():S.value.map((D,A)=>o.file({index:A,file:D,ref:this}));if(o.selected!==void 0)return S.value.length===0?Q():o.selected({files:S.value,ref:this});if(e.useChips===!0)return S.value.length===0?Q():S.value.map((D,A)=>b(qt,{key:"file-"+A,removable:d.editable.value,dense:!0,textColor:e.color,tabindex:e.tabindex,onRemove:()=>{O(A)}},()=>b("span",{class:"ellipsis",textContent:D.name})));const v=e.displayValue!==void 0?e.displayValue:j.value;return v.length!==0?[b("div",{class:e.inputClass,style:e.inputStyle,textContent:v})]:Q()}function T(){const v={ref:a,...$.value,...B.value,class:"q-field__input fit absolute-full cursor-pointer",onChange:fe};return e.multiple===!0&&(v.multiple=!0),b("input",v)}return Object.assign(d,{fieldClass:x,emitValue:N,hasValue:P,inputRef:a,innerValue:S,floatingLabel:g(()=>P.value===!0||vt(e.displayValue)),computedCounter:g(()=>{if(e.counterLabel!==void 0)return e.counterLabel(M.value);const v=e.maxFiles;return`${S.value.length}${v!==void 0?" / "+v:""} (${U.value})`}),getControlChild:()=>h("file"),getControl:()=>{const v={ref:d.targetRef,class:"q-field__native row items-center cursor-pointer",tabindex:e.tabindex};return d.editable.value===!0&&Object.assign(v,{onDragover:i,onDragleave:s,onKeydown:W,onKeyup:K}),b("div",v,[T()].concat(C()))}}),Object.assign(n,{removeAtIndex:O,removeFile:k,getNativeElement:()=>a.value}),he(n,"nativeEl",()=>a.value),ol(d)}});const Wl={class:"text-h6",style:{color:"goldenrod"}},Gl={class:"ellipsis relative-position"},Jl={class:"row items-center justify-end"},Xl={__name:"UploadDialog",emits:["fileUploaded"],setup(e,{emit:o}){const l=pe(),p=String("https://api.sakh-orch.ru/"),n=o,d=I("dialog"),a=L(),f=I("folderId"),m=L("\u041D\u043E\u0432\u0430\u044F \u043F\u0430\u043F\u043A\u0430"),_=L(""),i=L(),s=L(),c=L(!1),h=L(null),B=I("folderList"),S=g(()=>B.value.find(T=>T.id===f.value).title),P=L();function j(){switch(!1){case i.value.validate():case!!f.value:case a.value.validate():case w.value.length>0:return!1;default:return!0}}function U(){const T=kl(w.value[0].name);if(!j()){console.log("stopSend");return}const v={[`tmpFileName.${T}`]:w.value[0],method:"add",title:_.value,folderId:f.value,force:Boolean(c.value),atDate:Cl(h.value,"YYYY-MM-DD")},D={headers:{"Content-Type":"multipart/form-data"},onUploadProgress:A=>{const oe=Math.round(A.loaded*100/A.total);O.value[0].percent=oe/100}};ue.post(p+"api/docs/doc.php",v,D).then(A=>{var oe,ee,Ce;if(!((oe=A==null?void 0:A.data)!=null&&oe.result))throw new Error;l.notify(Me((Ce=(ee=A==null?void 0:A.data)==null?void 0:ee.result)!=null?Ce:"")),n("fileUploaded"),x()}).catch(A=>{l.notify(ie(A))})}function M(T){const v=et(T);return Pl(v)}function $(){!W.value||(_.value=et(w.value[0].name))}function x(){_.value="",w.value=null,h.value=null,m.value=null,c.value=!1,d.value=!1}const w=L(null),O=L([]),k=L(null),N=g(()=>k.value!==null),W=g(()=>w.value!==null&&w.value.length),K=g(()=>w.value!==null&&w.value.length&&f.value&&h.value);function ce(T){O.value[T]={...O.value[T],error:!0,color:"orange-2"}}function fe(T){let v=[];T&&(v.push(T),M(T.name)&&(_.value=et(T.name)),Q(T.name)),w.value=v,O.value=(v||[]).map(D=>({error:!1,color:"green-2",percent:0,icon:D.type.indexOf("video/")===0?"movie":D.type.indexOf("image/")===0?"photo":D.type.indexOf("audio/")===0?"audiotrack":"insert_drive_file"}))}function Q(T){if(h.value)return;const v=Dl(T);v&&(h.value=at(v.result))}const C=L(!1);return Ie(()=>{C.value=!0}),(T,v)=>(V(),E(ot,{modelValue:G(d),"onUpdate:modelValue":v[6]||(v[6]=D=>Ee(d)?d.value=D:null)},{default:u(()=>[r(qe,{bordered:"",class:"dialogArea"},{default:u(()=>[r(J,{flat:"",round:"",size:"0.7em",icon:"close",ref_key:"closeRef",ref:s,onClick:v[0]||(v[0]=D=>x()),style:{position:"absolute",top:"0.7em",right:"0.7em"}},{default:u(()=>[r(be,{anchor:"top middle",offset:[30,30]},{default:u(()=>v[7]||(v[7]=[Y("\u0417\u0430\u043A\u0440\u044B\u0442\u044C")])),_:1})]),_:1},512),r(Ml,{ref_key:"formRef",ref:P},{default:u(()=>[r(Se,null,{default:u(()=>[r(ke,{dense:""},{default:u(()=>[r(X,null,{default:u(()=>[r(ne,{caption:""},{default:u(()=>v[8]||(v[8]=[Y("\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430 \u0434\u043E\u043A\u0443\u043C\u0435\u043D\u0442\u0430 \u0432 \u043A\u0430\u0442\u0435\u0433\u043E\u0440\u0438\u044E:")])),_:1}),r(ne,null,{default:u(()=>[Z("div",Wl,ae(S.value),1)]),_:1})]),_:1})]),_:1})]),_:1}),r(Se,null,{default:u(()=>[r(Kl,{"model-value":w.value,"onUpdate:modelValue":fe,label:"\u0424\u0430\u0439\u043B. \u0412\u044B\u0431\u0438\u0440\u0430\u0439\u0442\u0435 \u0438\u043B\u0438 \u043F\u0435\u0440\u0435\u0442\u0430\u0441\u043A\u0438\u0432\u0430\u0439\u0442\u0435 \u0441\u044E\u0434\u0430","label-color":"goldenrod","stack-label":"",outlined:"",clearable:!N.value,accept:".doc, .docx, .xls, .xlsx, .csv, .pdf"},ht({prepend:u(()=>[r(me,{name:"file_present",color:"amber"})]),file:u(({index:D,file:A})=>[r(qt,{class:"full-width q-my-xs",removable:N.value&&O.value[D].percent<1,square:"",onRemove:oe=>ce(D)},{default:u(()=>[r(Pt,{class:"absolute-full full-height",value:O.value[D].percent,color:O.value[D].color,"track-color":"grey-2"},null,8,["value","color"]),r(rl,null,{default:u(()=>[r(me,{name:O.value[D].icon},null,8,["name"])]),_:2},1024),Z("div",Gl,ae(A.name),1),r(be,null,{default:u(()=>[Y(ae(A.name),1)]),_:2},1024)]),_:2},1032,["removable","onRemove"])]),_:2},[K.value?{name:"after",fn:u(()=>[r(J,{color:"primary",size:"0.8em",dense:"",icon:"cloud_upload",round:"",onClick:U,disable:!K.value,loading:N.value},null,8,["disable","loading"])]),key:"0"}:void 0]),1032,["model-value","clearable"]),v[9]||(v[9]=Z("br",null,null,-1)),r(Pe,{modelValue:_.value,"onUpdate:modelValue":[v[2]||(v[2]=D=>_.value=D),v[3]||(v[3]=D=>Q(_.value))],ref_key:"titleRef",ref:i,clearable:"",outlined:"",label:"\u0418\u043C\u044F \u0434\u043E\u043A\u0443\u043C\u0435\u043D\u0442\u0430 [ru]","stack-label":"","lazy-rules":"",rules:[D=>D&&D.length>0||"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435"],autogrow:"",color:"amber"},{append:u(()=>[!_.value&&W.value?(V(),E(J,{key:0,label:"\u0412\u0437\u044F\u0442\u044C \u0438\u043C\u044F \u0444\u0430\u0439\u043B\u0430",onClick:v[1]||(v[1]=D=>$()),"no-caps":""})):le("",!0)]),_:1},8,["modelValue","rules"]),r(Pe,{modelValue:h.value,"onUpdate:modelValue":v[5]||(v[5]=D=>h.value=D),ref_key:"dateRef",ref:a,mask:"##.##.####",label:"\u0414\u0430\u0442\u0430 \u0434\u043E\u043A\u0443\u043C\u0435\u043D\u0442\u0430","stack-label":"",color:"amber",prefix:"\u043E\u0442 ","hide-hint":"",rules:[D=>D&&D.length>0&&G(wl)(D,["DD.MM.YYYY"])||""],outlined:"",clearable:""},{append:u(()=>[r(me,{name:"event",class:"cursor-pointer",color:"amber"},{default:u(()=>[r($l,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:u(()=>[r(Al,{modelValue:h.value,"onUpdate:modelValue":v[4]||(v[4]=D=>h.value=D),color:"yellow-9",mask:"DD.MM.YYYY"},{default:u(()=>[Z("div",Jl,[il(r(J,{label:"\u0417\u0430\u043A\u0440\u044B\u0442\u044C",class:"dialog-goldBtn",flat:""},null,512),[[Nl]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","rules"])]),_:1})]),_:1},512)]),_:1})]),_:1},8,["modelValue"]))}};const Zl={__name:"SelectSort",setup(e){const o=I("sortType"),l=[{label:"\u041F\u043E \u043D\u0430\u0437\u0432\u0430\u043D\u0438\u044E",value:"title",caption:"\u0421\u043E\u0440\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u043F\u043E \u043D\u0430\u0437\u0432\u0430\u043D\u0438\u044E \u0434\u043E\u043A\u0443\u043C\u0435\u043D\u0442\u0430"},{label:"\u041F\u043E \u0432\u043E\u0437\u0440\u0430\u0441\u0442\u0430\u043D\u0438\u044E \u0434\u0430\u0442\u044B",value:"dateAsc",caption:"\u041E\u0442 \u0434\u0430\u0432\u043D\u0438\u0445"},{label:"\u041F\u043E \u0443\u0431\u044B\u0432\u0430\u043D\u0438\u044E \u0434\u0430\u0442\u044B",value:"dateDesc",caption:"\u041E\u0442 \u043D\u043E\u0432\u044B\u0445"}];return(p,n)=>(V(),E(xt,{modelValue:G(o),"onUpdate:modelValue":n[0]||(n[0]=d=>Ee(o)?o.value=d:null),label:"\u0423\u043F\u043E\u0440\u044F\u0434\u043E\u0447\u0438\u0442\u044C",borderless:"","map-options":"","input-style":"color: goldenrod","emit-value":"",style:{width:"16em"},options:l},{option:u(d=>[r(ke,ul(sl(d.itemProps)),{default:u(()=>[r(X,null,{default:u(()=>[r(ne,null,{default:u(()=>[Y(ae(d.opt.label),1)]),_:2},1024),r(ne,{caption:""},{default:u(()=>[Y(ae(d.opt.caption),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue"]))}};var ea=Ue(Zl,[["__scopeId","data-v-9c2ee5b0"]]);const ta={__name:"AddFolderDialog",emits:["created"],setup(e,{emit:o}){const l=pe(),p=String("https://api.sakh-orch.ru/"),n=o,d=I("createFolderDialog"),a=L();function f(){return!(!a.value||!a.value.length)}function m(){const i={params:{method:"add",title:a.value}};ue.post(p+"api/docs/folder.php",i).then(s=>{var c,h,B;if(!((c=s==null?void 0:s.data)!=null&&c.result))throw new Error;l.notify(Me((B=(h=s==null?void 0:s.data)==null?void 0:h.result)!=null?B:"")),n("created"),_()}).catch(s=>{l.notify(ie(s))})}function _(){a.value=null,d.value=!1}return(i,s)=>(V(),E(ot,{modelValue:G(d),"onUpdate:modelValue":s[2]||(s[2]=c=>Ee(d)?d.value=c:null)},{default:u(()=>[r(qe,{bordered:"",class:"dialogArea"},{default:u(()=>[r(Se,null,{default:u(()=>[r(ne,{class:"cardTitle"},{default:u(()=>s[3]||(s[3]=[Y("\u041D\u043E\u0432\u0430\u044F \u043F\u0430\u043F\u043A\u0430")])),_:1})]),_:1}),r(Pe,{modelValue:a.value,"onUpdate:modelValue":s[1]||(s[1]=c=>a.value=c),label:"\u0418\u043C\u044F \u043F\u0430\u043F\u043A\u0438",color:"amber",outlined:"",clearable:"","stack-label":""},ht({prepend:u(()=>[r(me,{name:"folder",style:{color:"goldenrod"}})]),_:2},[f()?{name:"append",fn:u(()=>[r(J,{label:"ok",class:"goldBtn",onClick:s[0]||(s[0]=c=>m())})]),key:"0"}:void 0]),1032,["modelValue"])]),_:1})]),_:1},8,["modelValue"]))}},la={__name:"TrashFolder",emits:["onDelete","cleared"],setup(e,{expose:o,emit:l}){const p=pe(),n=String("https://api.sakh-orch.ru/");I("editMode");const d=l,a=L([]),f=I("sortType"),m=(x,w)=>x.title.localeCompare(w.title),_=(x,w)=>x.atDate.localeCompare(w.atDate),i=(x,w)=>w.atDate.localeCompare(x.atDate),s=(x,w)=>_(x,w)||m(x,w),c=(x,w)=>i(x,w)||m(x,w),h=g(()=>a.value.slice().sort(m)),B=g(()=>a.value.slice().sort(s)),S=g(()=>a.value.slice().sort(c)),P=g(()=>{switch(f.value){case"title":return h.value;case"dateAsc":return B.value;case"dateDesc":return S.value}return[]});I("dialog");function j(){const x={params:{method:"clearTrash"}};ue.post(n+"api/docs/doc.php",x).then(w=>{var O;if(!((O=w==null?void 0:w.data)!=null&&O.result))throw new Error;d("cleared")}).catch(w=>{p.notify(ie(w))})}const U=L(),M=I("collapseTrigger");ge(()=>M.value,()=>{U.value.hide()});function $(){const x={params:{method:"trashList"}};ue.post(n+"api/docs/doc.php",x).then(w=>{var O;if(!((O=w==null?void 0:w.data)!=null&&O.result))throw new Error;a.value.length&&a.value.push({id:0}),a.value=w.data.data.list}).catch(w=>{console.log(w),p.notify(ie(w))})}return o({loadTrash:$}),Ie(()=>{$()}),(x,w)=>(V(),E(Dt,{"default-opened":"",ref_key:"folderRef",ref:U,style:{border:"none"},icon:"folder","header-style":{color:"gray",fontSize:"25px"},label:"\u041A\u043E\u0440\u0437\u0438\u043D\u0430",popup:"","hide-expand-icon":"",duration:200,"content-inset-level":1},{header:u(()=>[r(ke,{style:{width:"100%","border-radius":"1em"}},{default:u(()=>[r(X,{avatar:""},{default:u(()=>[r(me,{name:"delete_sweep",style:{color:"gray"}})]),_:1}),r(X,null,{default:u(()=>w[2]||(w[2]=[Y("\u041A\u043E\u0440\u0437\u0438\u043D\u0430")])),_:1}),a.value.length?(V(),E(X,{key:0,side:""},{default:u(()=>[r(Ne,{title:"\u041E\u0447\u0438\u0441\u0442\u0438\u0442\u044C \u043A\u043E\u0440\u0437\u0438\u043D\u0443",label:"\u041E\u0447\u0438\u0441\u0442\u0438\u0442\u044C",onOnOk:w[0]||(w[0]=O=>j()),throwConfirm:"",danger:"",message:"\u0412\u0441\u0435 \u0444\u0430\u0439\u043B\u044B \u0431\u0443\u0434\u0443\u0442 \u0443\u0434\u0430\u043B\u0435\u043D\u044B",tooltip:"\u041E\u0447\u0438\u0441\u0442\u0438\u0442\u044C \u043A\u043E\u0440\u0437\u0438\u043D\u0443"})]),_:1})):le("",!0)]),_:1})]),default:u(()=>[r(qe,{flat:"",style:{background:"none"},class:"no-padding"},{default:u(()=>[r(Se,null,{default:u(()=>[r(we,{separator:""},{default:u(()=>[(V(!0),re(de,null,xe(P.value,(O,k)=>(V(),E(nt,{key:k,doc:O,onDeleted:w[1]||(w[1]=N=>d("onDelete",N))},null,8,["doc"]))),128))]),_:1})]),_:1}),r(_t,{align:"right"})]),_:1})]),_:1},512))}},aa={__name:"FilteredList",setup(e){const o=I("folderList"),l=g(()=>o.value.slice().reduce((d,a)=>d.concat(a.docs),[])),p=I("filterInput"),n=g(()=>l.value.slice().filter(d=>d.title.toLowerCase().includes(p.value.toLowerCase())));return(d,a)=>(V(),E(we,{separator:""},{default:u(()=>[(V(!0),re(de,null,xe(n.value,f=>(V(),E(nt,{key:f.id,doc:f},null,8,["doc"]))),128))]),_:1}))}},oa={__name:"RenameFolderDialog",setup(e){const o=pe(),l=String("https://api.sakh-orch.ru/"),p=I("folderNameDialog"),n=I("folderId"),d=I("folderList"),a=I("loadList"),f=L("");function m(){const i=d.value.find(s=>s.id===n.value);i&&(f.value=i.title)}function _(){const i={params:{method:"rename",id:n.value,title:f.value}};ue.post(l+"api/docs/folder.php",i).then(s=>{var c;if(!((c=s==null?void 0:s.data)!=null&&c.result))throw new Error;a(),p.value=!1}).catch(s=>{o.notify(ie(s))})}return Ie(()=>{}),(i,s)=>(V(),E(ot,{modelValue:G(p),"onUpdate:modelValue":s[2]||(s[2]=c=>Ee(p)?p.value=c:null),onBeforeShow:s[3]||(s[3]=c=>m())},{default:u(()=>[r(qe,{class:"dialogArea"},{default:u(()=>[r(Se,null,{default:u(()=>[r(Pe,{modelValue:f.value,"onUpdate:modelValue":s[1]||(s[1]=c=>f.value=c),clearable:"",outlined:"",label:"\u0418\u043C\u044F \u043F\u0430\u043F\u043A\u0438",color:"amber"},{append:u(()=>[f.value&&f.value.length?(V(),E(J,{key:0,label:"ok",class:"goldBtn",onClick:s[0]||(s[0]=c=>_())})):le("",!0)]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"]))}};const na={open:"open"},ra=["href"],ia={__name:"PaidServices",setup(e){const o=String("https://api.sakh-orch.ru/"),l=[{descr:"\u041E\u0440\u0433\u0430\u043D\u0438\u0437\u0430\u0446\u0438\u044F \u0438 \u043F\u0440\u043E\u0432\u0435\u0434\u0435\u043D\u0438\u0435 \u043A\u043E\u043D\u0446\u0435\u0440\u0442\u0430 \u0434\u043B\u044F \u0434\u0435\u0442\u0435\u0439 \u0434\u0435\u0442\u0441\u043A\u0438\u0445 \u0441\u0430\u0434\u043E\u0432, \u0448\u043A\u043E\u043B\u044C\u043D\u0438\u043A\u043E\u0432, \u0441\u0442\u0443\u0434\u0435\u043D\u0442\u043E\u0432.",price:"\u0414\u043E\u0433\u043E\u0432\u043E\u0440\u043D\u0430\u044F"},{descr:"\u041A\u043E\u043D\u0446\u0435\u0440\u0442 \u0441 \u043F\u0440\u0438\u0433\u043B\u0430\u0448\u0435\u043D\u0438\u0435\u043C \u0441\u043E\u043B\u0438\u0441\u0442\u0430 \u0438\u0437 \u0421\u0430\u0445\u0430\u043B\u0438\u043D\u0441\u043A\u043E\u0433\u043E \u043A\u0440\u0430\u044F",price:"\u0414\u043E\u0433\u043E\u0432\u043E\u0440\u043D\u0430\u044F"},{descr:"\u041A\u043E\u043D\u0446\u0435\u0440\u0442 \u0441 \u043F\u0440\u0438\u0433\u043B\u0430\u0448\u0435\u043D\u0438\u0435\u043C \u0441\u043E\u043B\u0438\u0441\u0442\u0430 \u0438\u0437 \u0434\u0440\u0443\u0433\u043E\u0433\u043E \u0444\u0435\u0434\u0435\u0440\u0430\u043B\u044C\u043D\u043E\u0433\u043E \u043E\u043A\u0440\u0443\u0433\u0430",price:"\u0414\u043E\u0433\u043E\u0432\u043E\u0440\u043D\u0430\u044F"},{descr:"\u041A\u043E\u043D\u0446\u0435\u0440\u0442 \u0431\u0435\u0437 \u0443\u0447\u0430\u0441\u0442\u0438\u044F \u043F\u0440\u0438\u0433\u043B\u0430\u0448\u0435\u043D\u043D\u043E\u0433\u043E \u0441\u043E\u043B\u0438\u0441\u0442\u0430",price:"\u0414\u043E\u0433\u043E\u0432\u043E\u0440\u043D\u0430\u044F"},{descr:"\u041E\u0440\u0433\u0430\u043D\u0438\u0437\u0430\u0446\u0438\u044F \u0438 (\u0438\u043B\u0438) \u043F\u0440\u043E\u0432\u0435\u0434\u0435\u043D\u0438\u0435 \u0432\u044B\u0435\u0437\u0434\u043D\u043E\u0433\u043E \u043A\u043E\u043D\u0446\u0435\u0440\u0442\u0430",price:"\u0414\u043E\u0433\u043E\u0432\u043E\u0440\u043D\u0430\u044F"}];return(p,n)=>(V(),re("details",na,[n[0]||(n[0]=Z("summary",null,"\u041F\u043B\u0430\u0442\u043D\u044B\u0435 \u0443\u0441\u043B\u0443\u0433\u0438",-1)),n[1]||(n[1]=Z("br",null,null,-1)),Z("a",{class:"flink",href:G(o)+"documents/provisionOnPaidServices.pdf"}," \u041F\u043E\u043B\u043E\u0436\u0435\u043D\u0438\u0435 \u043E \u043F\u043B\u0430\u0442\u043D\u044B\u0445 \u0443\u0441\u043B\u0443\u0433\u0430\u0445 ",8,ra),n[2]||(n[2]=Z("br",null,null,-1)),r(we,{separator:""},{default:u(()=>[(V(),re(de,null,xe(l,(d,a)=>r(ke,{key:a},{default:u(()=>[r(X,null,{default:u(()=>[r(ne,null,{default:u(()=>[Y(ae(d.descr),1)]),_:2},1024),r(ne,{caption:""},{default:u(()=>[Y(" \u0421\u0442\u043E\u0438\u043C\u043E\u0441\u0442\u044C: "+ae(d.price),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)),64))]),_:1}),r(Ql,{phoneNumber:"+7-4242-300-518"})]))}};var ua=Ue(ia,[["__scopeId","data-v-71f0ab84"]]),sa=Te({name:"QTh",props:{props:Object,autoWidth:Boolean},emits:["click"],setup(e,{slots:o,emit:l}){const p=Qe(),{proxy:{$q:n}}=p,d=a=>{l("click",a)};return()=>{if(e.props===void 0)return b("th",{class:e.autoWidth===!0?"q-table--col-auto-width":"",onClick:d},tt(o.default));let a,f;const m=p.vnode.key;if(m){if(a=e.props.colsMap[m],a===void 0)return}else a=e.props.col;if(a.sortable===!0){const i=a.align==="right"?"unshift":"push";f=dl(o.default,[]),f[i](b(me,{class:a.__iconClass,name:n.iconSet.table.arrowUp}))}else f=tt(o.default);const _={class:a.__thClass+(e.autoWidth===!0?" q-table--col-auto-width":""),style:a.headerStyle,onClick:i=>{a.sortable===!0&&e.props.sort(a),d(i)}};return b("th",_,f)}}});const da=["horizontal","vertical","cell","none"];var ca=Te({name:"QMarkupTable",props:{...St,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,wrapCells:Boolean,separator:{type:String,default:"horizontal",validator:e=>da.includes(e)}},setup(e,{slots:o}){const l=Qe(),p=wt(e,l.proxy.$q),n=g(()=>`q-markup-table q-table__container q-table__card q-table--${e.separator}-separator`+(p.value===!0?" q-table--dark q-table__card--dark q-dark":"")+(e.dense===!0?" q-table--dense":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")+(e.square===!0?" q-table--square":"")+(e.wrapCells===!1?" q-table--no-wrap":""));return()=>b("div",{class:n.value},[b("table",{class:"q-table"},tt(o.default))])}});function Ft(e,o){return b("div",e,[b("table",{class:"q-table"},o)])}const fa={list:we,table:ca},va=["list","table","__qtable"];var ma=Te({name:"QVirtualScroll",props:{...Fl,type:{type:String,default:"list",validator:e=>va.includes(e)},items:{type:Array,default:()=>[]},itemsFn:Function,itemsSize:Number,scrollTarget:cl},setup(e,{slots:o,attrs:l}){let p;const n=L(null),d=g(()=>e.itemsSize>=0&&e.itemsFn!==void 0?parseInt(e.itemsSize,10):Array.isArray(e.items)?e.items.length:0),{virtualScrollSliceRange:a,localResetVirtualScroll:f,padVirtualScroll:m,onVirtualScrollEvt:_}=Vl({virtualScrollLength:d,getVirtualScrollTarget:B,getVirtualScrollEl:h}),i=g(()=>{if(d.value===0)return[];const U=(M,$)=>({index:a.value.from+$,item:M});return e.itemsFn===void 0?e.items.slice(a.value.from,a.value.to).map(U):e.itemsFn(a.value.from,a.value.to-a.value.from).map(U)}),s=g(()=>"q-virtual-scroll q-virtual-scroll"+(e.virtualScrollHorizontal===!0?"--horizontal":"--vertical")+(e.scrollTarget!==void 0?"":" scroll")),c=g(()=>e.scrollTarget!==void 0?{}:{tabindex:0});ge(d,()=>{f()}),ge(()=>e.scrollTarget,()=>{P(),S()});function h(){return n.value.$el||n.value}function B(){return p}function S(){p=gl(h(),e.scrollTarget),p.addEventListener("scroll",_,mt.passive)}function P(){p!==void 0&&(p.removeEventListener("scroll",_,mt.passive),p=void 0)}function j(){let U=m(e.type==="list"?"div":"tbody",i.value.map(o.default));return o.before!==void 0&&(U=o.before().concat(U)),bl(o.after,U)}return kt(()=>{f()}),Ie(()=>{S()}),fl(()=>{S()}),vl(()=>{P()}),ml(()=>{P()}),()=>{if(o.default===void 0){console.error("QVirtualScroll: default scoped slot is required for rendering");return}return e.type==="__qtable"?Ft({ref:n,class:"q-table__middle "+s.value},j()):b(fa[e.type],{...l,ref:n,class:[l.class,s.value],...c.value},j)}}});function ga(e,o){return new Date(e)-new Date(o)}const ba={sortMethod:Function,binaryStateSort:Boolean,columnSortOrder:{type:String,validator:e=>e==="ad"||e==="da",default:"ad"}};function pa(e,o,l,p){const n=g(()=>{const{sortBy:f}=o.value;return f&&l.value.find(m=>m.name===f)||null}),d=g(()=>e.sortMethod!==void 0?e.sortMethod:(f,m,_)=>{const i=l.value.find(h=>h.name===m);if(i===void 0||i.field===void 0)return f;const s=_===!0?-1:1,c=typeof i.field=="function"?h=>i.field(h):h=>h[i.field];return f.sort((h,B)=>{let S=c(h),P=c(B);return i.rawSort!==void 0?i.rawSort(S,P,h,B)*s:S==null?-1*s:P==null?1*s:i.sort!==void 0?i.sort(S,P,h,B)*s:lt(S)===!0&&lt(P)===!0?(S-P)*s:gt(S)===!0&&gt(P)===!0?ga(S,P)*s:typeof S=="boolean"&&typeof P=="boolean"?(S-P)*s:([S,P]=[S,P].map(j=>(j+"").toLocaleString().toLowerCase()),S<P?-1*s:S===P?0:s)})});function a(f){let m=e.columnSortOrder;if(pl(f)===!0)f.sortOrder&&(m=f.sortOrder),f=f.name;else{const s=l.value.find(c=>c.name===f);s!==void 0&&s.sortOrder&&(m=s.sortOrder)}let{sortBy:_,descending:i}=o.value;_!==f?(_=f,i=m==="da"):e.binaryStateSort===!0?i=!i:i===!0?m==="ad"?_=null:i=!1:m==="ad"?i=!0:_=null,p({sortBy:_,descending:i,page:1})}return{columnToSort:n,computedSortMethod:d,sort:a}}const ya={filter:[String,Object],filterMethod:Function};function _a(e,o){const l=g(()=>e.filterMethod!==void 0?e.filterMethod:(p,n,d,a)=>{const f=n?n.toLowerCase():"";return p.filter(m=>d.some(_=>{const i=a(_,m)+"";return(i==="undefined"||i==="null"?"":i.toLowerCase()).indexOf(f)!==-1}))});return ge(()=>e.filter,()=>{Ct(()=>{o({page:1},!0)})},{deep:!0}),{computedFilterMethod:l}}function ha(e,o){for(const l in o)if(o[l]!==e[l])return!1;return!0}function bt(e){return e.page<1&&(e.page=1),e.rowsPerPage!==void 0&&e.rowsPerPage<1&&(e.rowsPerPage=0),e}const Sa={pagination:Object,rowsPerPageOptions:{type:Array,default:()=>[5,7,10,15,20,25,50,0]},"onUpdate:pagination":[Function,Array]};function wa(e,o){const{props:l,emit:p}=e,n=L(Object.assign({sortBy:null,descending:!1,page:1,rowsPerPage:l.rowsPerPageOptions.length!==0?l.rowsPerPageOptions[0]:5},l.pagination)),d=g(()=>{const i=l["onUpdate:pagination"]!==void 0?{...n.value,...l.pagination}:n.value;return bt(i)}),a=g(()=>d.value.rowsNumber!==void 0);function f(i){m({pagination:i,filter:l.filter})}function m(i={}){Ct(()=>{p("request",{pagination:i.pagination||d.value,filter:i.filter||l.filter,getCellValue:o})})}function _(i,s){const c=bt({...d.value,...i});if(ha(d.value,c)===!0){a.value===!0&&s===!0&&f(c);return}if(a.value===!0){f(c);return}l.pagination!==void 0&&l["onUpdate:pagination"]!==void 0?p("update:pagination",c):n.value=c}return{innerPagination:n,computedPagination:d,isServerSide:a,requestServerInteraction:m,setPagination:_}}function ka(e,o,l,p,n,d){const{props:a,emit:f,proxy:{$q:m}}=e,_=g(()=>p.value===!0?l.value.rowsNumber||0:d.value),i=g(()=>{const{page:$,rowsPerPage:x}=l.value;return($-1)*x}),s=g(()=>{const{page:$,rowsPerPage:x}=l.value;return $*x}),c=g(()=>l.value.page===1),h=g(()=>l.value.rowsPerPage===0?1:Math.max(1,Math.ceil(_.value/l.value.rowsPerPage))),B=g(()=>s.value===0?!0:l.value.page>=h.value),S=g(()=>(a.rowsPerPageOptions.includes(o.value.rowsPerPage)?a.rowsPerPageOptions:[o.value.rowsPerPage].concat(a.rowsPerPageOptions)).map(x=>({label:x===0?m.lang.table.allRows:""+x,value:x})));ge(h,($,x)=>{if($===x)return;const w=l.value.page;$&&!w?n({page:1}):$<w&&n({page:$})});function P(){n({page:1})}function j(){const{page:$}=l.value;$>1&&n({page:$-1})}function U(){const{page:$,rowsPerPage:x}=l.value;s.value>0&&$*x<_.value&&n({page:$+1})}function M(){n({page:h.value})}return a["onUpdate:pagination"]!==void 0&&f("update:pagination",{...l.value}),{firstRowIndex:i,lastRowIndex:s,isFirstPage:c,isLastPage:B,pagesNumber:h,computedRowsPerPageOptions:S,computedRowsNumber:_,firstPage:P,prevPage:j,nextPage:U,lastPage:M}}const Ca={selection:{type:String,default:"none",validator:e=>["single","multiple","none"].includes(e)},selected:{type:Array,default:()=>[]}},Da=["update:selected","selection"];function Pa(e,o,l,p){const n=g(()=>{const B={};return e.selected.map(p.value).forEach(S=>{B[S]=!0}),B}),d=g(()=>e.selection!=="none"),a=g(()=>e.selection==="single"),f=g(()=>e.selection==="multiple"),m=g(()=>l.value.length!==0&&l.value.every(B=>n.value[p.value(B)]===!0)),_=g(()=>m.value!==!0&&l.value.some(B=>n.value[p.value(B)]===!0)),i=g(()=>e.selected.length);function s(B){return n.value[B]===!0}function c(){o("update:selected",[])}function h(B,S,P,j){o("selection",{rows:S,added:P,keys:B,evt:j});const U=a.value===!0?P===!0?S:[]:P===!0?e.selected.concat(S):e.selected.filter(M=>B.includes(p.value(M))===!1);o("update:selected",U)}return{hasSelectionMode:d,singleSelection:a,multipleSelection:f,allRowsSelected:m,someRowsSelected:_,rowsSelectedNumber:i,isRowSelected:s,clearSelection:c,updateSelection:h}}function pt(e){return Array.isArray(e)?e.slice():[]}const qa={expanded:Array},xa=["update:expanded"];function Ta(e,o){const l=L(pt(e.expanded));ge(()=>e.expanded,a=>{l.value=pt(a)});function p(a){return l.value.includes(a)}function n(a){e.expanded!==void 0?o("update:expanded",a):l.value=a}function d(a,f){const m=l.value.slice(),_=m.indexOf(a);f===!0?_===-1&&(m.push(a),n(m)):_!==-1&&(m.splice(_,1),n(m))}return{isRowExpanded:p,setExpanded:n,updateExpanded:d}}const Fa={visibleColumns:Array};function Va(e,o,l){const p=g(()=>{if(e.columns!==void 0)return e.columns;const f=e.rows[0];return f!==void 0?Object.keys(f).map(m=>({name:m,label:m.toUpperCase(),field:m,align:lt(f[m])?"right":"left",sortable:!0})):[]}),n=g(()=>{const{sortBy:f,descending:m}=o.value;return(e.visibleColumns!==void 0?p.value.filter(i=>i.required===!0||e.visibleColumns.includes(i.name)===!0):p.value).map(i=>{const s=i.align||"right",c=`text-${s}`;return{...i,align:s,__iconClass:`q-table__sort-icon q-table__sort-icon--${s}`,__thClass:c+(i.headerClasses!==void 0?" "+i.headerClasses:"")+(i.sortable===!0?" sortable":"")+(i.name===f?` sorted ${m===!0?"sort-desc":""}`:""),__tdStyle:i.style!==void 0?typeof i.style!="function"?()=>i.style:i.style:()=>null,__tdClass:i.classes!==void 0?typeof i.classes!="function"?()=>c+" "+i.classes:h=>c+" "+i.classes(h):()=>c}})}),d=g(()=>{const f={};return n.value.forEach(m=>{f[m.name]=m}),f}),a=g(()=>e.tableColspan!==void 0?e.tableColspan:n.value.length+(l.value===!0?1:0));return{colList:p,computedCols:n,computedColsMap:d,computedColspan:a}}const Ae="q-table__bottom row items-center",Vt={};Tt.forEach(e=>{Vt[e]={}});var Ra=Te({name:"QTable",props:{rows:{type:Array,required:!0},rowKey:{type:[String,Function],default:"id"},columns:Array,loading:Boolean,iconFirstPage:String,iconPrevPage:String,iconNextPage:String,iconLastPage:String,title:String,hideHeader:Boolean,grid:Boolean,gridHeader:Boolean,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,separator:{type:String,default:"horizontal",validator:e=>["horizontal","vertical","cell","none"].includes(e)},wrapCells:Boolean,virtualScroll:Boolean,virtualScrollTarget:{},...Vt,noDataLabel:String,noResultsLabel:String,loadingLabel:String,selectedRowsLabel:Function,rowsPerPageLabel:String,paginationLabel:Function,color:{type:String,default:"grey-8"},titleClass:[String,Array,Object],tableStyle:[String,Array,Object],tableClass:[String,Array,Object],tableHeaderStyle:[String,Array,Object],tableHeaderClass:[String,Array,Object],cardContainerClass:[String,Array,Object],cardContainerStyle:[String,Array,Object],cardStyle:[String,Array,Object],cardClass:[String,Array,Object],hideBottom:Boolean,hideSelectedBanner:Boolean,hideNoData:Boolean,hidePagination:Boolean,onRowClick:Function,onRowDblclick:Function,onRowContextmenu:Function,...St,...Il,...Fa,...ya,...Sa,...qa,...Ca,...ba},emits:["request","virtualScroll",...El,...xa,...Da],setup(e,{slots:o,emit:l}){const p=Qe(),{proxy:{$q:n}}=p,d=wt(e,n),{inFullscreen:a,toggleFullscreen:f}=Ul(),m=g(()=>typeof e.rowKey=="function"?e.rowKey:t=>t[e.rowKey]),_=L(null),i=L(null),s=g(()=>e.grid!==!0&&e.virtualScroll===!0),c=g(()=>" q-table__card"+(d.value===!0?" q-table__card--dark q-dark":"")+(e.square===!0?" q-table--square":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")),h=g(()=>`q-table__container q-table--${e.separator}-separator column no-wrap`+(e.grid===!0?" q-table--grid":c.value)+(d.value===!0?" q-table--dark":"")+(e.dense===!0?" q-table--dense":"")+(e.wrapCells===!1?" q-table--no-wrap":"")+(a.value===!0?" fullscreen scroll":"")),B=g(()=>h.value+(e.loading===!0?" q-table--loading":""));ge(()=>e.tableStyle+e.tableClass+e.tableHeaderStyle+e.tableHeaderClass+h.value,()=>{s.value===!0&&i.value!==null&&i.value.reset()});const{innerPagination:S,computedPagination:P,isServerSide:j,requestServerInteraction:U,setPagination:M}=wa(p,ye),{computedFilterMethod:$}=_a(e,M),{isRowExpanded:x,setExpanded:w,updateExpanded:O}=Ta(e,l),k=g(()=>{let t=e.rows;if(j.value===!0||t.length===0)return t;const{sortBy:y,descending:q}=P.value;return e.filter&&(t=$.value(t,e.filter,ee.value,ye)),Rt.value!==null&&(t=Bt.value(e.rows===t?t.slice():t,y,q)),t}),N=g(()=>k.value.length),W=g(()=>{let t=k.value;if(j.value===!0)return t;const{rowsPerPage:y}=P.value;return y!==0&&(Fe.value===0&&e.rows!==t?t.length>Ve.value&&(t=t.slice(0,Ve.value)):t=t.slice(Fe.value,Ve.value)),t}),{hasSelectionMode:K,singleSelection:ce,multipleSelection:fe,allRowsSelected:Q,someRowsSelected:C,rowsSelectedNumber:T,isRowSelected:v,clearSelection:D,updateSelection:A}=Pa(e,l,W,m),{colList:oe,computedCols:ee,computedColsMap:Ce,computedColspan:rt}=Va(e,P,K),{columnToSort:Rt,computedSortMethod:Bt,sort:je}=pa(e,P,oe,M),{firstRowIndex:Fe,lastRowIndex:Ve,isFirstPage:ze,isLastPage:He,pagesNumber:Re,computedRowsPerPageOptions:Lt,computedRowsNumber:Be,firstPage:Ye,prevPage:Ke,nextPage:We,lastPage:Ge}=ka(p,S,P,j,M,N),Ot=g(()=>W.value.length===0),$t=g(()=>{const t={};return Tt.forEach(y=>{t[y]=e[y]}),t.virtualScrollItemSize===void 0&&(t.virtualScrollItemSize=e.dense===!0?28:48),t});function At(){s.value===!0&&i.value.reset()}function Mt(){if(e.grid===!0)return Gt();const t=e.hideHeader!==!0?ct:null;if(s.value===!0){const q=o["top-row"],F=o["bottom-row"],R={default:H=>ut(H.item,o.body,H.index)};if(q!==void 0){const H=b("tbody",q({cols:ee.value}));R.before=t===null?()=>H:()=>[t()].concat(H)}else t!==null&&(R.before=t);return F!==void 0&&(R.after=()=>b("tbody",F({cols:ee.value}))),b(ma,{ref:i,class:e.tableClass,style:e.tableStyle,...$t.value,scrollTarget:e.virtualScrollTarget,items:W.value,type:"__qtable",tableColspan:rt.value,onVirtualScroll:Qt},R)}const y=[It()];return t!==null&&y.unshift(t()),Ft({class:["q-table__middle scroll",e.tableClass],style:e.tableStyle},y)}function Nt(t,y){if(i.value!==null){i.value.scrollTo(t,y);return}t=parseInt(t,10);const q=_.value.querySelector(`tbody tr:nth-of-type(${t+1})`);if(q!==null){const F=_.value.querySelector(".q-table__middle.scroll"),R=q.offsetTop-e.virtualScrollStickySizeStart,H=R<F.scrollTop?"decrease":"increase";F.scrollTop=R,l("virtualScroll",{index:t,from:0,to:S.value.rowsPerPage-1,direction:H})}}function Qt(t){l("virtualScroll",t)}function it(){return[b(Pt,{class:"q-table__linear-progress",color:e.color,dark:d.value,indeterminate:!0,trackColor:"transparent"})]}function ut(t,y,q){const F=m.value(t),R=v(F);if(y!==void 0)return y(st({key:F,row:t,pageIndex:q,__trClass:R?"selected":""}));const H=o["body-cell"],z=ee.value.map(te=>{const Oe=o[`body-cell-${te.name}`],$e=Oe!==void 0?Oe:H;return $e!==void 0?$e(Et({key:F,row:t,pageIndex:q,col:te})):b("td",{class:te.__tdClass(t),style:te.__tdStyle(t)},ye(te,t))});if(K.value===!0){const te=o["body-selection"],Oe=te!==void 0?te(Ut({key:F,row:t,pageIndex:q})):[b(Ze,{modelValue:R,color:e.color,dark:d.value,dense:e.dense,"onUpdate:modelValue":($e,Jt)=>{A([F],[t],$e,Jt)}})];z.unshift(b("td",{class:"q-table--col-auto-width"},Oe))}const ve={key:F,class:{selected:R}};return e.onRowClick!==void 0&&(ve.class["cursor-pointer"]=!0,ve.onClick=te=>{l("rowClick",te,t,q)}),e.onRowDblclick!==void 0&&(ve.class["cursor-pointer"]=!0,ve.onDblclick=te=>{l("rowDblclick",te,t,q)}),e.onRowContextmenu!==void 0&&(ve.class["cursor-pointer"]=!0,ve.onContextmenu=te=>{l("rowContextmenu",te,t,q)}),b("tr",ve,z)}function It(){const t=o.body,y=o["top-row"],q=o["bottom-row"];let F=W.value.map((R,H)=>ut(R,t,H));return y!==void 0&&(F=y({cols:ee.value}).concat(F)),q!==void 0&&(F=F.concat(q({cols:ee.value}))),b("tbody",F)}function st(t){return Je(t),t.cols=t.cols.map(y=>he({...y},"value",()=>ye(y,t.row))),t}function Et(t){return Je(t),he(t,"value",()=>ye(t.col,t.row)),t}function Ut(t){return Je(t),t}function Je(t){Object.assign(t,{cols:ee.value,colsMap:Ce.value,sort:je,rowIndex:Fe.value+t.pageIndex,color:e.color,dark:d.value,dense:e.dense}),K.value===!0&&he(t,"selected",()=>v(t.key),(y,q)=>{A([t.key],[t.row],y,q)}),he(t,"expand",()=>x(t.key),y=>{O(t.key,y)})}function ye(t,y){const q=typeof t.field=="function"?t.field(y):y[t.field];return t.format!==void 0?t.format(q,y):q}const _e=g(()=>({pagination:P.value,pagesNumber:Re.value,isFirstPage:ze.value,isLastPage:He.value,firstPage:Ye,prevPage:Ke,nextPage:We,lastPage:Ge,inFullscreen:a.value,toggleFullscreen:f}));function jt(){const t=o.top,y=o["top-left"],q=o["top-right"],F=o["top-selection"],R=K.value===!0&&F!==void 0&&T.value>0,H="q-table__top relative-position row items-center";if(t!==void 0)return b("div",{class:H},[t(_e.value)]);let z;if(R===!0?z=F(_e.value).slice():(z=[],y!==void 0?z.push(b("div",{class:"q-table__control"},[y(_e.value)])):e.title&&z.push(b("div",{class:"q-table__control"},[b("div",{class:["q-table__title",e.titleClass]},e.title)]))),q!==void 0&&(z.push(b("div",{class:"q-table__separator col"})),z.push(b("div",{class:"q-table__control"},[q(_e.value)]))),z.length!==0)return b("div",{class:H},z)}const dt=g(()=>C.value===!0?null:Q.value);function ct(){const t=zt();return e.loading===!0&&o.loading===void 0&&t.push(b("tr",{class:"q-table__progress"},[b("th",{class:"relative-position",colspan:rt.value},it())])),b("thead",t)}function zt(){const t=o.header,y=o["header-cell"];if(t!==void 0)return t(Xe({header:!0})).slice();const q=ee.value.map(F=>{const R=o[`header-cell-${F.name}`],H=R!==void 0?R:y,z=Xe({col:F});return H!==void 0?H(z):b(sa,{key:F.name,props:z},()=>F.label)});if(ce.value===!0&&e.grid!==!0)q.unshift(b("th",{class:"q-table--col-auto-width"}," "));else if(fe.value===!0){const F=o["header-selection"],R=F!==void 0?F(Xe({})):[b(Ze,{color:e.color,modelValue:dt.value,dark:d.value,dense:e.dense,"onUpdate:modelValue":ft})];q.unshift(b("th",{class:"q-table--col-auto-width"},R))}return[b("tr",{class:e.tableHeaderClass,style:e.tableHeaderStyle},q)]}function Xe(t){return Object.assign(t,{cols:ee.value,sort:je,colsMap:Ce.value,color:e.color,dark:d.value,dense:e.dense}),fe.value===!0&&he(t,"selected",()=>dt.value,ft),t}function ft(t){C.value===!0&&(t=!1),A(W.value.map(m.value),W.value,t)}const Le=g(()=>{const t=[e.iconFirstPage||n.iconSet.table.firstPage,e.iconPrevPage||n.iconSet.table.prevPage,e.iconNextPage||n.iconSet.table.nextPage,e.iconLastPage||n.iconSet.table.lastPage];return n.lang.rtl===!0?t.reverse():t});function Ht(){if(e.hideBottom===!0)return;if(Ot.value===!0){if(e.hideNoData===!0)return;const q=e.loading===!0?e.loadingLabel||n.lang.table.loading:e.filter?e.noResultsLabel||n.lang.table.noResults:e.noDataLabel||n.lang.table.noData,F=o["no-data"],R=F!==void 0?[F({message:q,icon:n.iconSet.table.warning,filter:e.filter})]:[b(me,{class:"q-table__bottom-nodata-icon",name:n.iconSet.table.warning}),q];return b("div",{class:Ae+" q-table__bottom--nodata"},R)}const t=o.bottom;if(t!==void 0)return b("div",{class:Ae},[t(_e.value)]);const y=e.hideSelectedBanner!==!0&&K.value===!0&&T.value>0?[b("div",{class:"q-table__control"},[b("div",[(e.selectedRowsLabel||n.lang.table.selectedRecords)(T.value)])])]:[];if(e.hidePagination!==!0)return b("div",{class:Ae+" justify-end"},Kt(y));if(y.length!==0)return b("div",{class:Ae},y)}function Yt(t){M({page:1,rowsPerPage:t.value})}function Kt(t){let y;const{rowsPerPage:q}=P.value,F=e.paginationLabel||n.lang.table.pagination,R=o.pagination,H=e.rowsPerPageOptions.length>1;if(t.push(b("div",{class:"q-table__separator col"})),H===!0&&t.push(b("div",{class:"q-table__control"},[b("span",{class:"q-table__bottom-item"},[e.rowsPerPageLabel||n.lang.table.recordsPerPage]),b(xt,{class:"q-table__select inline q-table__bottom-item",color:e.color,modelValue:q,options:Lt.value,displayValue:q===0?n.lang.table.allRows:q,dark:d.value,borderless:!0,dense:!0,optionsDense:!0,optionsCover:!0,"onUpdate:modelValue":Yt})])),R!==void 0)y=R(_e.value);else if(y=[b("span",q!==0?{class:"q-table__bottom-item"}:{},[q?F(Fe.value+1,Math.min(Ve.value,Be.value),Be.value):F(1,N.value,Be.value)])],q!==0&&Re.value>1){const z={color:e.color,round:!0,dense:!0,flat:!0};e.dense===!0&&(z.size="sm"),Re.value>2&&y.push(b(J,{key:"pgFirst",...z,icon:Le.value[0],disable:ze.value,onClick:Ye})),y.push(b(J,{key:"pgPrev",...z,icon:Le.value[1],disable:ze.value,onClick:Ke}),b(J,{key:"pgNext",...z,icon:Le.value[2],disable:He.value,onClick:We})),Re.value>2&&y.push(b(J,{key:"pgLast",...z,icon:Le.value[3],disable:He.value,onClick:Ge}))}return t.push(b("div",{class:"q-table__control"},y)),t}function Wt(){const t=e.gridHeader===!0?[b("table",{class:"q-table"},[ct()])]:e.loading===!0&&o.loading===void 0?it():void 0;return b("div",{class:"q-table__middle"},t)}function Gt(){const t=o.item!==void 0?o.item:y=>{const q=y.cols.map(R=>b("div",{class:"q-table__grid-item-row"},[b("div",{class:"q-table__grid-item-title"},[R.label]),b("div",{class:"q-table__grid-item-value"},[R.value])]));if(K.value===!0){const R=o["body-selection"],H=R!==void 0?R(y):[b(Ze,{modelValue:y.selected,color:e.color,dark:d.value,dense:e.dense,"onUpdate:modelValue":(z,ve)=>{A([y.key],[y.row],z,ve)}})];q.unshift(b("div",{class:"q-table__grid-item-row"},H),b(_l,{dark:d.value}))}const F={class:["q-table__grid-item-card"+c.value,e.cardClass],style:e.cardStyle};return(e.onRowClick!==void 0||e.onRowDblclick!==void 0)&&(F.class[0]+=" cursor-pointer",e.onRowClick!==void 0&&(F.onClick=R=>{l("RowClick",R,y.row,y.pageIndex)}),e.onRowDblclick!==void 0&&(F.onDblclick=R=>{l("RowDblclick",R,y.row,y.pageIndex)})),b("div",{class:"q-table__grid-item col-xs-12 col-sm-6 col-md-4 col-lg-3"+(y.selected===!0?" q-table__grid-item--selected":"")},[b("div",F,q)])};return b("div",{class:["q-table__grid-content row",e.cardContainerClass],style:e.cardContainerStyle},W.value.map((y,q)=>t(st({key:m.value(y),row:y,pageIndex:q}))))}return Object.assign(p.proxy,{requestServerInteraction:U,setPagination:M,firstPage:Ye,prevPage:Ke,nextPage:We,lastPage:Ge,isRowSelected:v,clearSelection:D,isRowExpanded:x,setExpanded:w,sort:je,resetVirtualScroll:At,scrollTo:Nt,getCellValue:ye}),yl(p.proxy,{filteredSortedRows:()=>k.value,computedRows:()=>W.value,computedRowsNumber:()=>Be.value}),()=>{const t=[jt()],y={ref:_,class:B.value};return e.grid===!0?t.push(Wt()):Object.assign(y,{class:[y.class,e.cardClass],style:e.cardStyle}),t.push(Mt(),Ht()),e.loading===!0&&o.loading!==void 0&&t.push(o.loading()),b("div",y,t)}}});const Ba={__name:"MatTechBase",setup(e){const o={columns:[{name:"\u041D\u0430\u0438\u043C\u0435\u043D\u043E\u0432\u0430\u043D\u0438\u0435",label:"\u041D\u0430\u0438\u043C\u0435\u043D\u043E\u0432\u0430\u043D\u0438\u0435",align:"center",required:!0,bold:!0,field:l=>l.name,format:l=>`${l}`,style:"white-space: normal"},{name:"data",align:"center",label:"\u041F\u043E\u043A\u0430\u0437\u0430\u0442\u0435\u043B\u0438 \u043F\u043E \u0443\u0447\u0440\u0435\u0436\u0434\u0435\u043D\u0438\u044E",field:l=>l.data,format:l=>`${l}`,style:"white-space: normal"}],rows:[{name:"\u0423\u0447\u0440\u0435\u0436\u0434\u0435\u043D\u0438\u0435 \u0437\u0430\u043D\u0438\u043C\u0430\u0435\u0442 \u043E\u0442\u0434\u0435\u043B\u044C\u043D\u043E\u0435 \u0437\u0434\u0430\u043D\u0438\u0435, \u0430\u0440\u0435\u043D\u0434\u0443\u0435\u0442 (\u0443 \u043A\u043E\u0433\u043E), \u0441\u043E\u0432\u043C\u0435\u0441\u0442\u043D\u043E \u0441 \u0434\u0440\u0443\u0433\u0438\u043C\u0438 \u043E\u0440\u0433\u0430\u043D\u0438\u0437\u0430\u0446\u0438\u044F\u043C\u0438 (\u043A\u0430\u043A\u0438\u043C\u0438)",data:"\u0410\u0440\u0435\u043D\u0434\u0443\u0435\u0442 \u0447\u0430\u0441\u0442\u044C \u0437\u0434\u0430\u043D\u0438\u044F \u0443 \u041E\u041E\u041E \xAB\u041B\u0438\u0431\u0435\u0440\u0442\u0438\xBB"},{name:"\u0421\u0438\u0441\u0442\u0435\u043C\u0430 \u043E\u0442\u043E\u043F\u043B\u0435\u043D\u0438\u044F \u0437\u0434\u0430\u043D\u0438\u044F",data:"\u0426\u0435\u043D\u0442\u0440\u0430\u043B\u0438\u0437\u043E\u0432\u0430\u043D\u043D\u043E\u0435 \u0442\u0435\u043F\u043B\u043E\u0441\u043D\u0430\u0431\u0436\u0435\u043D\u0438\u0435"},{name:"\u041D\u0430\u043B\u0438\u0447\u0438\u0435 \u0432\u043E\u0434\u043E\u043F\u0440\u043E\u0432\u043E\u0434\u0430 \u0432 \u0437\u0434\u0430\u043D\u0438\u0438 (\u0434\u0430 \\ \u043D\u0435\u0442)",data:"\u0414\u0430"},{name:"\u041D\u0430\u043B\u0438\u0447\u0438\u0435 \u043A\u0430\u043D\u0430\u043B\u0438\u0437\u0430\u0446\u0438\u0438 \u0432 \u0437\u0434\u0430\u043D\u0438\u0438 (\u0434\u0430 \\ \u043D\u0435\u0442)",data:"\u0414\u0430"},{name:"\u041D\u0430\u043B\u0438\u0447\u0438\u0435 \u0441\u0440\u0435\u0434\u0441\u0442\u0432 \u043F\u0440\u043E\u0442\u0438\u0432\u043E\u043F\u043E\u0436\u0430\u0440\u043D\u043E\u0439 \u0437\u0430\u0449\u0438\u0442\u044B",data:"\u0418\u043C\u0435\u0435\u0442\u0441\u044F"},{name:"\u041D\u0430\u043B\u0438\u0447\u0438\u0435 \u0441\u0440\u0435\u0434\u0441\u0442\u0432 \u043F\u043E\u0436\u0430\u0440\u043D\u043E\u0433\u043E \u043E\u043F\u043E\u0432\u0435\u0449\u0435\u043D\u0438\u044F",data:"\u0417\u0434\u0430\u043D\u0438\u044F \u043E\u0431\u043E\u0440\u0443\u0434\u043E\u0432\u0430\u043D\u044B \u0430\u0432\u0442\u043E\u043C\u0430\u0442\u0438\u0447\u0435\u0441\u043A\u043E\u0439 \u043F\u043E\u0436\u0430\u0440\u043D\u043E\u0439 \u0441\u0438\u0433\u043D\u0430\u043B\u0438\u0437\u0430\u0446\u0438\u0435\u0439, \u0441\u0438\u0441\u0442\u0435\u043C\u0430\u043C\u0438 \u0443\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u044F \u0438 \u043E\u043F\u043E\u0432\u0435\u0449\u0435\u043D\u0438\u044F \u043B\u044E\u0434\u0435\u0439"},{name:"\u0422\u0435\u0445\u043D\u0438\u0447\u0435\u0441\u043A\u043E\u0435 \u0441\u043E\u0441\u0442\u043E\u044F\u043D\u0438\u0435 \u0437\u0434\u0430\u043D\u0438\u044F (\u0443\u0434\u043E\u0432\u043B\u0435\u0442\u0432\u043E\u0440\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0435, \u0442\u0440\u0435\u0431\u0443\u0435\u0442 \u043A\u0430\u043F. \u0440\u0435\u043C\u043E\u043D\u0442\u0430, \u0430\u0432\u0430\u0440\u0438\u0439\u043D\u043E\u0435, \u0442\u0440\u0435\u0431\u0443\u0435\u0442 \u0442\u0435\u043A\u0443\u0449\u0435\u0433\u043E \u0440\u0435\u043C\u043E\u043D\u0442\u0430, \u043F\u043E\u0434\u043B\u0435\u0436\u0438\u0442 \u0441\u043D\u043E\u0441\u0443)",data:"\u0423\u0434\u043E\u0432\u043B\u0435\u0442\u0432\u043E\u0440\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0435"},{name:"\u0414\u043E\u043F\u043E\u043B\u043D\u0438\u0442\u0435\u043B\u044C\u043D\u044B\u0435 \u043E\u0431\u043E\u0440\u0443\u0434\u043E\u0432\u0430\u043D\u0438\u044F \u0437\u0434\u0430\u043D\u0438\u044F",data:"\u041F\u0430\u043D\u0434\u0443\u0441 \u0434\u043B\u044F \u0438\u043D\u0432\u0430\u043B\u0438\u0434\u043E\u0432"},{name:"\u0421\u043E\u043E\u0440\u0443\u0436\u0435\u043D\u0438\u044F \u043D\u0430 \u043F\u0440\u0438\u043B\u0435\u0433\u0430\u044E\u0449\u0435\u0439 \u0442\u0435\u0440\u0440\u0438\u0442\u043E\u0440\u0438\u0438 \u0437\u0434\u0430\u043D\u0438\u044F",data:"\u041F\u0430\u0440\u043A\u043E\u0432\u043E\u0447\u043D\u0430\u044F \u0437\u043E\u043D\u0430"}],initialPagination:{sortBy:"desc",descending:!1,page:1,rowsPerPage:0}};return(l,p)=>(V(),E(Ra,{expanded:[],title:"\u041C\u0430\u0442\u0435\u0440\u0438\u0430\u043B\u044C\u043D\u043E-\u0442\u0435\u0445\u043D\u0438\u0447\u0435\u0441\u043A\u0430\u044F \u0431\u0430\u0437\u0430",pagination:o.initialPagination,columns:o.columns,rows:o.rows,"hide-bottom":"",grid:l.$q.screen.xs,separator:"cell"},null,8,["pagination","columns","rows","grid"]))}};const La={class:"filesArea"},yt="\u0414\u043E\u043A\u0443\u043C\u0435\u043D\u0442\u044B",_o={__name:"DocsPage",setup(e){const o=xl(yt,.6);hl(o);const l=pe(),p=String("https://api.sakh-orch.ru/"),n=I("editMode"),d=L(),a=L(null),f=g(()=>ql(a.value));se("filterInput",f);const m=L();se("folderId",m);const _=L([]);se("folderList",_);const i=L();se("sortType",i);const s=(O,k)=>O.sortPos-k.sortPos,c=g(()=>_.value.slice().sort(s));se("sortedFolders",c);const h=L(!1);se("dialog",h);const B=L(!1);se("folderNameDialog",B);const S=L(!1);se("createFolderDialog",S);const P=L(!1);se("collapseTrigger",P);function j(){P.value=!P.value}function U(){M()}function M(){const O={params:{method:"list"}};ue.post(p+"api/docs/folder.php",O).then(k=>{var N;if(!((N=k==null?void 0:k.data)!=null&&N.result))throw new Error;_.value.length&&_.value.push({sortPos:0}),_.value=k.data.data.list,n.value&&d.value.loadTrash()}).catch(k=>{console.log(k),l.notify(ie(k))})}se("loadList",M);function $(O){M(),l.notify(Me("\u0413\u043E\u0442\u043E\u0432\u043E"))}function x(O){Tl(_.value,"id",O),d.value.loadTrash(),l.notify(Me("\u0413\u043E\u0442\u043E\u0432\u043E"))}function w(){M()}return ge(()=>n.value,()=>{a.value=null,M()}),kt(()=>{M(),i.value="title"}),(O,k)=>(V(),re(de,null,[r(jl,{"page-title":yt},{ToolPanel:u(()=>[G(n)?(V(),E(J,{key:0,label:"\u041D\u043E\u0432\u0430\u044F \u043F\u0430\u043F\u043A\u0430",flat:"",stretch:"",class:"toolBtn",style:{width:"max-content"},icon:"folder",onClick:k[0]||(k[0]=N=>S.value=!0)})):le("",!0),r(ea),r(Pe,{modelValue:a.value,"onUpdate:modelValue":k[1]||(k[1]=N=>a.value=N),type:"search",borderless:"",filled:"",dense:"",clearable:"",style:{width:"10em"}},{append:u(()=>[r(me,{name:"search"})]),_:1},8,["modelValue"]),r(J,{icon:"unfold_less",stretch:"",flat:"",class:"toolBtn",onClick:k[2]||(k[2]=()=>{j()})},{default:u(()=>[r(be,null,{default:u(()=>k[8]||(k[8]=[Y("\u0421\u0432\u0435\u0440\u043D\u0443\u0442\u044C \u0432\u0441\u0435 \u043F\u0430\u043F\u043A\u0438")])),_:1})]),_:1})]),PageContent:u(()=>[Z("div",La,[_.value.length?(V(),re(de,{key:0},[a.value?(V(),E(aa,{key:1})):(V(),E(we,{key:0},{default:u(()=>[(V(!0),re(de,null,xe(c.value,(N,W)=>(V(),E(Yl,{key:N.id,folder:N,idx:W,folderId:N.id,onOnDelFolder:k[3]||(k[3]=K=>x(K)),onOnDelete:k[4]||(k[4]=K=>$(K))},null,8,["folder","idx","folderId"]))),128)),G(n)?(V(),E(la,{key:0,ref_key:"trashRef",ref:d,onCleared:k[5]||(k[5]=N=>M())},null,512)):le("",!0)]),_:1}))],64)):le("",!0),k[9]||(k[9]=Z("br",null,null,-1)),k[10]||(k[10]=Z("hr",null,null,-1)),k[11]||(k[11]=Z("br",null,null,-1)),r(ua),k[12]||(k[12]=Z("br",null,null,-1)),k[13]||(k[13]=Z("hr",null,null,-1)),k[14]||(k[14]=Z("br",null,null,-1)),r(Ba)])]),_:1}),r(Xl,{onFileUploaded:k[6]||(k[6]=N=>U())}),r(ta,{onCreated:k[7]||(k[7]=N=>w())}),r(oa)],64))}};export{_o as default};

import{d as x,i as f,I as c,r as s,c as A,k as B,m as n,n as v,p as d,f as m,z as M,y as F,bi as P,ax as b,C as V,F as K,D as I,l as Q}from"./index.bc11f4d7.js";import{u as E}from"./use-meta.9df972cf.js";import{u as N,g as S}from"./myFuncts.d4b02984.js";import{P as D}from"./PageShell.60dd4b3f.js";import{V as T}from"./VKVideoItem.99b7e353.js";import{V as _}from"./lib.8923d048.js";import{m as W}from"./announce.d13a9b89.js";import{_ as $}from"./plugin-vue_export-helper.21dcd24c.js";import"./QItemLabel.6f822438.js";import"./QImg.448eb956.js";import"./MainFooter.vue_vue_type_style_index_0_scoped_true_lang.c49da512.js";import"./touch.9135741d.js";import"./selection.295e94e6.js";import"./QScrollArea.0b5361ec.js";import"./format.de7e9769.js";import"./QLinearProgress.1a146b15.js";/* empty css                                                    */import"./QList.0e3b907c.js";import"./QSelect.8d95d6c1.js";import"./QMenu.9b09f739.js";import"./position-engine.6616cb3e.js";import"./use-virtual-scroll.18864eed.js";import"./rtl.276c3f1b.js";/* empty css               */import"./BtnDelete.307e8830.js";import"./QTooltip.dcd6f58a.js";import"./axios.63d2f48d.js";import"./SketchImg.a0266007.js";import"./img.c8a2a222.js";import"./myAxios.f72ca8da.js";const j={class:"centralCol"},q={key:0,class:"vidarea"},z=x({__name:"VKVideoPage",setup(O){const u=N(),g=S("\u0412\u0438\u0434\u0435\u043E\u0442\u0435\u043A\u0430");E(g);const w=f("editModes").libVideo;c("editMode",w);const a=s(!1);c("progress",a);const r=s([]),i=s(""),C=s(!1),h=f("scrollWatch");function p(t){C.value=t,h.value=!t}const y=A(()=>{if(!i.value)return r.value;const t=i.value.toLowerCase();return r.value.filter(e=>(e.description?e.description.toLowerCase().includes(t):!1)||(e.recordedAt?e.recordedAt.toLowerCase().includes(t):!1)||(e.title?e.title.toLowerCase().includes(t):!1))}),L=s([]);c("announceList",L);async function l(){a.value=!0;const t=await _.getList(u);r.value=[...t],a.value=!1}async function k(){a.value=!0,await _.updateAllFromVK(u)&&await l(),a.value=!1}return B(async()=>{await W.initAllList(u),await l()}),(t,e)=>(n(),v(D,{"page-title":"\u0412\u0438\u0434\u0435\u043E\u0442\u0435\u043A\u0430"},{ToolPanel:d(()=>[m(M,{icon:"refresh",flat:"",stretch:"",onClick:k}),m(P,{modelValue:i.value,"onUpdate:modelValue":e[0]||(e[0]=o=>i.value=o),style:{width:"100%","max-width":"16em"},label:"\u0444\u0438\u043B\u044C\u0442\u0440",onBlur:e[1]||(e[1]=o=>p(!1)),onFocus:e[2]||(e[2]=o=>p(!0)),"stack-label":"",clearable:""},{append:d(()=>[m(F,{name:"search"})]),_:1},8,["modelValue"])]),PageContent:d(()=>[b("div",j,[r.value.length?(n(),V("div",q,[(n(!0),V(K,null,I(y.value,o=>(n(),v(T,{key:o.id,video:o,onOnSave:l},null,8,["video"]))),128))])):Q("",!0)])]),_:1}))}});var Le=$(z,[["__scopeId","data-v-ef0b6c6e"]]);export{Le as default};

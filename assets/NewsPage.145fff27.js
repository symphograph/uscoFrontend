import{u as N,I as V,i as l,p as B,r as o,c as C,m,n as u,q as c,x as M,B as S,l as Y,f as d,ax as D,au as P}from"./index.ca51f9b8.js";import{Q}from"./QSelect.f870df68.js";import{N as R}from"./NewsList.475eef32.js";import{u as E}from"./use-meta.fb130e7a.js";import{u as b}from"./use-quasar.0f4fe23d.js";import{a as q}from"./axios.ce00a07a.js";import{g as F,n as T}from"./myFuncts.0bfb5495.js";import{P as U}from"./PageShell.351f9e4a.js";import"./QItem.736a484d.js";import"./QItemLabel.3d7eff30.js";import"./QMenu.dc32622b.js";import"./position-engine.ba038f81.js";import"./selection.fa2d85da.js";import"./rtl.276c3f1b.js";import"./format.de7e9769.js";import"./QTooltip.b68e783a.js";import"./QImg.36f1e8ff.js";import"./BtnDelete.d394b30c.js";import"./plugin-vue_export-helper.21dcd24c.js";import"./TouchPan.0c8bfc63.js";import"./touch.9135741d.js";import"./QToolbar.ee3a8402.js";import"./QExpansionItem.b2ac98ab.js";import"./QScrollArea.9e0e33ca.js";import"./QLinearProgress.65037535.js";import"./MainFooter.0cf1fe2d.js";import"./MainFooter.vue_vue_type_style_index_0_scoped_true_lang.914b02a9.js";import"./AnderHeader.44f2eaf2.js";/* empty css                                                    */const j={class:"centralCol"},vt={__name:"NewsPage",setup(I){const f=String("https://api.sakh-orch.ru/"),r=N(),g=V(),y=b();l("progress");const s=l("entryEditMode");B("editMode",s);const a=o(new Date().getFullYear()),i=o();function v(){console.log(a),P(()=>{i.value.loadData()})}const h=o({all:"\u0412\u0441\u0435 \u043D\u043E\u0432\u043E\u0441\u0442\u0438",euterpe:"\u041D\u043E\u0432\u043E\u0441\u0442\u0438 \u042D\u0432\u0442\u0435\u0440\u043F\u044B",other:"\u041D\u043E\u0432\u043E\u0441\u0442\u0438 \u043F\u0430\u0440\u0442\u043D\u0435\u0440\u043E\u0432",usso:"\u041D\u043E\u0432\u043E\u0441\u0442\u0438 \u043E\u0440\u043A\u0435\u0441\u0442\u0440\u0430"});function _(){q.post(f+"api/news/entry.php",{params:{method:"add"}}).then(t=>{r.params.id=t.data.data.id,g.push({path:"/new/"+t.data.data.id})}).catch(t=>{y.notify(T(t))})}function k(){let t=[];for(let e=2018;e<=new Date().getFullYear();e++)t.push(e);return t.reverse()}const p=C(()=>h.value[r.params.category]),w=F(p.value);E(w);const x=o(r.params.category);return(t,e)=>(m(),u(U,{"page-title":p.value},{SideTools:c(()=>[M(s)?(m(),u(S,{key:0,label:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C",stretch:"",flat:"",onClick:_})):Y("",!0),d(Q,{modelValue:a.value,"onUpdate:modelValue":[e[0]||(e[0]=n=>a.value=n),e[1]||(e[1]=n=>v())],options:k(),"emit-value":"",borderless:""},null,8,["modelValue","options"])]),PageContent:c(()=>[D("div",j,[d(R,{year:a.value,limit:100,category:x.value,ref_key:"listRef",ref:i},null,8,["year","category"])])]),_:1},8,["page-title"]))}};export{vt as default};

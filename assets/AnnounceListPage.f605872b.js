import{i as c,m as d,n as f,p as a,f as s,bk as w,bl as B,q as _,t as v,u as V,b as I,G as N,r as n,I as u,z as Q,l as R,ax as S}from"./index.1ed4f0d9.js";import{Q as x}from"./QSelect.224c14af.js";import{Q as $}from"./QTooltip.4f8868a4.js";import{_ as q}from"./AnnounceList.8734dac7.js";import{u as z,g as F}from"./myFuncts.57fb681f.js";import{u as U}from"./use-meta.f76d898d.js";import{Q as T}from"./QItemLabel.91ec210f.js";import{b as W,Q as j}from"./QImg.d3ea3630.js";import{P as G}from"./PageShell.becf8c19.js";import{m as O}from"./announce.75f4185e.js";import{_ as E}from"./plugin-vue_export-helper.21dcd24c.js";import"./QMenu.56bfa58f.js";import"./position-engine.a05a0349.js";import"./selection.d99639c5.js";import"./use-virtual-scroll.757b0b25.js";import"./rtl.276c3f1b.js";import"./format.de7e9769.js";import"./AnnounceCard.b4533ad1.js";import"./BtnDelete.3fcc8c4a.js";import"./axios.58dd5c85.js";import"./hall.dc91fb49.js";import"./myAxios.7a7c879e.js";import"./MainFooter.vue_vue_type_style_index_0_scoped_true_lang.844c9627.js";import"./touch.9135741d.js";import"./QScrollArea.08a568a1.js";import"./QLinearProgress.83dd9361.js";/* empty css                                                    */const H={__name:"SelectSort",emits:["onSelect"],setup(A,{emit:p}){const l=c("sortType"),m=p,g=[{label:"\u0421\u043D\u0430\u0447\u0430\u043B\u0430 \u043D\u043E\u0432\u044B\u0435",value:"dateDesc",caption:"\u041F\u043E \u0443\u0431\u044B\u0432\u0430\u043D\u0438\u044E \u0434\u0430\u0442\u044B"},{label:"\u0421\u043D\u0430\u0447\u0430\u043B\u0430 \u0434\u0430\u0432\u043D\u0438\u0435",value:"dateAsc",caption:"\u041F\u043E \u0432\u043E\u0437\u0440\u0430\u0441\u0442\u0430\u043D\u0438\u044E \u0434\u0430\u0442\u044B"}];return(y,e)=>(d(),f(x,{modelValue:V(l),"onUpdate:modelValue":[e[0]||(e[0]=t=>I(l)?l.value=t:null),e[1]||(e[1]=t=>m("onSelect"))],borderless:"","map-options":"","emit-value":"",options:g},{option:a(t=>[s(W,w(B(t.itemProps)),{default:a(()=>[s(j,null,{default:a(()=>[s(T,null,{default:a(()=>[_(v(t.opt.label),1)]),_:2},1024),s(T,{caption:""},{default:a(()=>[_(v(t.opt.caption),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue"]))}};const J={class:"centralCol"},K={class:"gridArea"},C="\u0410\u043D\u043E\u043D\u0441\u044B",X={__name:"AnnounceListPage",setup(A){const p=F(C);U(p);const l=z(),m=N(),y=c("editModes").announce,e=n(!1);u("compactCard",e);const t=c("progress"),b=n("dateDesc");u("sortType",b);const i=n(new Date().getFullYear());u("evYear",i);const h=n([]);u("announceList",h);const P=c("scrollWatch"),k=n();function D(){P.value=!1,e.value=!e.value,setTimeout(()=>{P.value=!0},500)}function L(){let o=[];for(let r=2018;r<=new Date().getFullYear();r++)o.push(r);return o.reverse()}async function M(){t.value=!0;const o=await O.create(l);console.log(o),o!=null&&o.id&&await m.push({path:"/announce/"+o.id}),t.value=!1}return(o,r)=>(d(),f(G,{pageTitle:C},{ToolPanel:a(()=>[V(y)?(d(),f(Q,{key:0,label:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C",stretch:"",flat:"",onClick:M})):R("",!0),s(x,{modelValue:i.value,"onUpdate:modelValue":r[0]||(r[0]=Y=>i.value=Y),options:L(),"emit-value":"",borderless:""},null,8,["modelValue","options"]),s(H,{onOnSelect:r[1]||(r[1]=()=>{k.value.setScrollPosition("vertical",0,300)})}),s(Q,{icon:e.value?"unfold_less":"unfold_more",flat:"",stretch:"",onClick:D},{default:a(()=>[s($,null,{default:a(()=>[_(v(e.value?"\u041F\u043E\u0434\u0440\u043E\u0431\u043D\u043E":"\u041A\u0440\u0430\u0442\u043A\u043E"),1)]),_:1})]),_:1},8,["icon"])]),PageContent:a(()=>[S("div",J,[S("div",K,[s(q,{year:i.value,method:"listByYear",sort:b.value},null,8,["year","sort"])])])]),_:1}))}};var xe=E(X,[["__scopeId","data-v-2393146c"]]);export{xe as default};

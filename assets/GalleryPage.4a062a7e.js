import{ax as ge,aw as Q,al as _e,ay as he,az as F,aA as X,aC as J,a4 as j,aD as K,r as k,h as f,w as U,v as me,n as ye,p as h,X as be,bi as xe,s as R,bj as Ce,c as H,a as Pe,e as Se,o as pe,l as qe,q as ke,bk as we,N as z,ac as Ae,_ as fe,i as Z,z as I,A as O,H as G,B as C,C as P,bl as $e,D as W,a3 as Ie,I as ee,Q as Te,E as te,J as ae,y as Y,L as Ve,S as Be,T as ne,F as oe,G as De}from"./index.e552dc30.js";import{g as le,s as ie}from"./touch.70a9dd44.js";import{c as Ne}from"./position-engine.a58e5381.js";import{u as Qe}from"./use-cache.b0833c75.js";import{u as Ee,a as Le,b as Me}from"./use-fullscreen.8a2089f6.js";import{api as re}from"./axios.296019ec.js";import{u as ue}from"./use-quasar.acee65a8.js";import{Q as Fe,a as se,b as ce}from"./QItem.9df529e7.js";import{Q as ze}from"./QSelect.1519ed2a.js";import{n as ve}from"./myFuncts.02e9a0a2.js";import{u as Ue}from"./use-meta.355ae365.js";import"./rtl.bc469471.js";import"./format.3e32b8d9.js";function Oe(e){const o=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((i,s)=>{const l=parseFloat(i);l&&(o[s]=l)}),o}var Ge=ge({name:"touch-swipe",beforeMount(e,{value:o,arg:i,modifiers:s}){if(s.mouse!==!0&&Q.has.touch!==!0)return;const l=s.mouseCapture===!0?"Capture":"",t={handler:o,sensitivity:Oe(i),direction:le(s),noop:_e,mouseStart(a){ie(a,t)&&he(a)&&(F(t,"temp",[[document,"mousemove","move",`notPassive${l}`],[document,"mouseup","end","notPassiveCapture"]]),t.start(a,!0))},touchStart(a){if(ie(a,t)){const r=a.target;F(t,"temp",[[r,"touchmove","move","notPassiveCapture"],[r,"touchcancel","end","notPassiveCapture"],[r,"touchend","end","notPassiveCapture"]]),t.start(a)}},start(a,r){Q.is.firefox===!0&&X(e,!0);const _=J(a);t.event={x:_.left,y:_.top,time:Date.now(),mouse:r===!0,dir:!1}},move(a){if(t.event===void 0)return;if(t.event.dir!==!1){j(a);return}const r=Date.now()-t.event.time;if(r===0)return;const _=J(a),b=_.left-t.event.x,p=Math.abs(b),x=_.top-t.event.y,d=Math.abs(x);if(t.event.mouse!==!0){if(p<t.sensitivity[1]&&d<t.sensitivity[1]){t.end(a);return}}else if(p<t.sensitivity[2]&&d<t.sensitivity[2])return;const u=p/r,v=d/r;t.direction.vertical===!0&&p<d&&p<100&&v>t.sensitivity[0]&&(t.event.dir=x<0?"up":"down"),t.direction.horizontal===!0&&p>d&&d<100&&u>t.sensitivity[0]&&(t.event.dir=b<0?"left":"right"),t.direction.up===!0&&p<d&&x<0&&p<100&&v>t.sensitivity[0]&&(t.event.dir="up"),t.direction.down===!0&&p<d&&x>0&&p<100&&v>t.sensitivity[0]&&(t.event.dir="down"),t.direction.left===!0&&p>d&&b<0&&d<100&&u>t.sensitivity[0]&&(t.event.dir="left"),t.direction.right===!0&&p>d&&b>0&&d<100&&u>t.sensitivity[0]&&(t.event.dir="right"),t.event.dir!==!1?(j(a),t.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Ne(),t.styleCleanup=m=>{t.styleCleanup=void 0,document.body.classList.remove("non-selectable");const S=()=>{document.body.classList.remove("no-pointer-events--children")};m===!0?setTimeout(S,50):S()}),t.handler({evt:a,touch:t.event.mouse!==!0,mouse:t.event.mouse,direction:t.event.dir,duration:r,distance:{x:p,y:d}})):t.end(a)},end(a){t.event!==void 0&&(K(t,"temp"),Q.is.firefox===!0&&X(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(!0),a!==void 0&&t.event.dir!==!1&&j(a),t.event=void 0)}};if(e.__qtouchswipe=t,s.mouse===!0){const a=s.mouseCapture===!0||s.mousecapture===!0?"Capture":"";F(t,"main",[[e,"mousedown","mouseStart",`passive${a}`]])}Q.has.touch===!0&&F(t,"main",[[e,"touchstart","touchStart",`passive${s.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,o){const i=e.__qtouchswipe;i!==void 0&&(o.oldValue!==o.value&&(typeof o.value!="function"&&i.end(),i.handler=o.value),i.direction=le(o.modifiers))},beforeUnmount(e){const o=e.__qtouchswipe;o!==void 0&&(K(o,"main"),K(o,"temp"),Q.is.firefox===!0&&X(e,!1),o.styleCleanup!==void 0&&o.styleCleanup(),delete e.__qtouchswipe)}});const Re={name:{required:!0},disable:Boolean},de={setup(e,{slots:o}){return()=>h("div",{class:"q-panel scroll",role:"tabpanel"},R(o.default))}},Xe={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},je=["update:modelValue","beforeTransition","transition"];function Ke(){const{props:e,emit:o,proxy:i}=me(),{getCacheWithFn:s}=Qe();let l,t;const a=k(null),r=k(null);function _(n){const c=e.vertical===!0?"up":"left";q((i.$q.lang.rtl===!0?-1:1)*(n.direction===c?1:-1))}const b=f(()=>[[Ge,_,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),p=f(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),x=f(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),d=f(()=>`--q-transition-duration: ${e.transitionDuration}ms`),u=f(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),v=f(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),m=f(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);U(()=>e.modelValue,(n,c)=>{const y=w(n)===!0?B(n):-1;t!==!0&&T(y===-1?0:y<B(c)?-1:1),a.value!==y&&(a.value=y,o("beforeTransition",n,c),ye(()=>{o("transition",n,c)}))});function S(){q(1)}function E(){q(-1)}function V(n){o("update:modelValue",n)}function w(n){return n!=null&&n!==""}function B(n){return l.findIndex(c=>c.props.name===n&&c.props.disable!==""&&c.props.disable!==!0)}function L(){return l.filter(n=>n.props.disable!==""&&n.props.disable!==!0)}function T(n){const c=n!==0&&e.animated===!0&&a.value!==-1?"q-transition--"+(n===-1?p.value:x.value):null;r.value!==c&&(r.value=c)}function q(n,c=a.value){let y=c+n;for(;y>-1&&y<l.length;){const $=l[y];if($!==void 0&&$.props.disable!==""&&$.props.disable!==!0){T(n),t=!0,o("update:modelValue",$.props.name),setTimeout(()=>{t=!1});return}y+=n}e.infinite===!0&&l.length>0&&c!==-1&&c!==l.length&&q(n,n===-1?l.length:-1)}function D(){const n=B(e.modelValue);return a.value!==n&&(a.value=n),!0}function M(){const n=w(e.modelValue)===!0&&D()&&l[a.value];return e.keepAlive===!0?[h(Ce,v.value,[h(m.value===!0?s(u.value,()=>({...de,name:u.value})):de,{key:u.value,style:d.value},()=>n)])]:[h("div",{class:"q-panel scroll",style:d.value,key:u.value,role:"tabpanel"},[n])]}function g(){if(l.length!==0)return e.animated===!0?[h(be,{name:r.value},M)]:M()}function A(n){return l=xe(R(n.default,[])).filter(c=>c.props!==null&&c.props.slot===void 0&&w(c.props.name)===!0),l.length}function N(){return l}return Object.assign(i,{next:S,previous:E,goTo:V}),{panelIndex:a,panelDirectives:b,updatePanelsList:A,updatePanelIndex:D,getPanelContent:g,getEnabledPanels:L,getPanels:N,isValidPanelName:w,keepAliveProps:v,needsUniqueKeepAliveWrapper:m,goToPanelByOffset:q,goToPanel:V,nextPanel:S,previousPanel:E}}var We=H({name:"QCarouselSlide",props:{...Re,imgSrc:String},setup(e,{slots:o}){const i=f(()=>e.imgSrc?{backgroundImage:`url("${e.imgSrc}")`}:{});return()=>h("div",{class:"q-carousel__slide",style:i.value},R(o.default))}}),Ye=H({name:"QCarouselControl",props:{position:{type:String,default:"bottom-right",validator:e=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(e)},offset:{type:Array,default:()=>[18,18],validator:e=>e.length===2}},setup(e,{slots:o}){const i=f(()=>`q-carousel__control absolute absolute-${e.position}`),s=f(()=>({margin:`${e.offset[1]}px ${e.offset[0]}px`}));return()=>h("div",{class:i.value,style:s.value},R(o.default))}});const He=["top","right","bottom","left"],Je=["regular","flat","outline","push","unelevated"];var Ze=H({name:"QCarousel",props:{...Pe,...Xe,...Ee,transitionPrev:{type:String,default:"fade"},transitionNext:{type:String,default:"fade"},height:String,padding:Boolean,controlColor:String,controlTextColor:String,controlType:{type:String,validator:e=>Je.includes(e),default:"flat"},autoplay:[Number,Boolean],arrows:Boolean,prevIcon:String,nextIcon:String,navigation:Boolean,navigationPosition:{type:String,validator:e=>He.includes(e)},navigationIcon:String,navigationActiveIcon:String,thumbnails:Boolean},emits:[...Le,...je],setup(e,{slots:o}){const{proxy:{$q:i}}=me(),s=Se(e,i);let l=null,t;const{updatePanelsList:a,getPanelContent:r,panelDirectives:_,goToPanel:b,previousPanel:p,nextPanel:x,getEnabledPanels:d,panelIndex:u}=Ke(),{inFullscreen:v}=Me(),m=f(()=>v.value!==!0&&e.height!==void 0?{height:e.height}:{}),S=f(()=>e.vertical===!0?"vertical":"horizontal"),E=f(()=>`q-carousel q-panel-parent q-carousel--with${e.padding===!0?"":"out"}-padding`+(v.value===!0?" fullscreen":"")+(s.value===!0?" q-carousel--dark q-dark":"")+(e.arrows===!0?` q-carousel--arrows-${S.value}`:"")+(e.navigation===!0?` q-carousel--navigation-${L.value}`:"")),V=f(()=>{const g=[e.prevIcon||i.iconSet.carousel[e.vertical===!0?"up":"left"],e.nextIcon||i.iconSet.carousel[e.vertical===!0?"down":"right"]];return e.vertical===!1&&i.lang.rtl===!0?g.reverse():g}),w=f(()=>e.navigationIcon||i.iconSet.carousel.navigationIcon),B=f(()=>e.navigationActiveIcon||w.value),L=f(()=>e.navigationPosition||(e.vertical===!0?"right":"bottom")),T=f(()=>({color:e.controlColor,textColor:e.controlTextColor,round:!0,[e.controlType]:!0,dense:!0}));U(()=>e.modelValue,()=>{e.autoplay&&q()}),U(()=>e.autoplay,g=>{g?q():l!==null&&(clearTimeout(l),l=null)});function q(){const g=we(e.autoplay)===!0?Math.abs(e.autoplay):5e3;l!==null&&clearTimeout(l),l=setTimeout(()=>{l=null,g>=0?x():p()},g)}pe(()=>{e.autoplay&&q()}),qe(()=>{l!==null&&clearTimeout(l)});function D(g,A){return h("div",{class:`q-carousel__control q-carousel__navigation no-wrap absolute flex q-carousel__navigation--${g} q-carousel__navigation--${L.value}`+(e.controlColor!==void 0?` text-${e.controlColor}`:"")},[h("div",{class:"q-carousel__navigation-inner flex flex-center no-wrap"},d().map(A))])}function M(){const g=[];if(e.navigation===!0){const A=o["navigation-icon"]!==void 0?o["navigation-icon"]:n=>h(z,{key:"nav"+n.name,class:`q-carousel__navigation-icon q-carousel__navigation-icon--${n.active===!0?"":"in"}active`,...n.btnProps,onClick:n.onClick}),N=t-1;g.push(D("buttons",(n,c)=>{const y=n.props.name,$=u.value===c;return A({index:c,maxIndex:N,name:y,active:$,btnProps:{icon:$===!0?B.value:w.value,size:"sm",...T.value},onClick:()=>{b(y)}})}))}else if(e.thumbnails===!0){const A=e.controlColor!==void 0?` text-${e.controlColor}`:"";g.push(D("thumbnails",N=>{const n=N.props;return h("img",{key:"tmb#"+n.name,class:`q-carousel__thumbnail q-carousel__thumbnail--${n.name===e.modelValue?"":"in"}active`+A,src:n.imgSrc||n["img-src"],onClick:()=>{b(n.name)}})}))}return e.arrows===!0&&u.value>=0&&((e.infinite===!0||u.value>0)&&g.push(h("div",{key:"prev",class:`q-carousel__control q-carousel__arrow q-carousel__prev-arrow q-carousel__prev-arrow--${S.value} absolute flex flex-center`},[h(z,{icon:V.value[0],...T.value,onClick:p})])),(e.infinite===!0||u.value<t-1)&&g.push(h("div",{key:"next",class:`q-carousel__control q-carousel__arrow q-carousel__next-arrow q-carousel__next-arrow--${S.value} absolute flex flex-center`},[h(z,{icon:V.value[1],...T.value,onClick:x})]))),Ae(o.control,g)}return()=>(t=a(o),h("div",{class:E.value,style:m.value},[ke("div",{class:"q-carousel__slides-container"},r(),"sl-cont",e.swipeable,()=>_.value)].concat(M())))}});const et={class:"q-pa-md",style:{width:"20em"}},tt={class:"q-gutter-md"},at=["src"],nt={__name:"SelMytest",emits:["iAmSelected"],setup(e,{emit:o}){const i=Z("albumList"),s=Z("album");return(l,t)=>(I(),O("div",et,[G("div",tt,[C(ze,{filled:"",dark:"",modelValue:Y(s),"onUpdate:modelValue":[t[0]||(t[0]=a=>Ve(s)?s.value=a:null),t[1]||(t[1]=a=>o("iAmSelected"))],options:Y(i),"map-options":"","option-value":"label","emit-value":"",label:"\u0410\u043B\u044C\u0431\u043E\u043C",color:"teal","options-selected-class":"text-deep-orange"},{option:P(a=>[C(Fe,$e(a.itemProps,{dark:""}),{default:P(()=>[C(se,{avatar:""},{default:P(()=>[a.opt.icon?(I(),W(Ie,{key:0,name:a.opt.icon},null,8,["name"])):ee("",!0),a.opt.ava?(I(),W(Te,{key:1,square:""},{default:P(()=>[G("img",{src:a.opt.ava},null,8,at)]),_:2},1024)):ee("",!0)]),_:2},1024),C(se,null,{default:P(()=>[C(ce,null,{default:P(()=>[te(ae(a.opt.label),1)]),_:2},1024),C(ce,{caption:""},{default:P(()=>[te(ae(a.opt.description),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","options"])])]))}};var ot=fe(nt,[["__scopeId","data-v-5c2a289b"]]);const lt={class:"q-pa-md"},it={__name:"PhotoArea",setup(e){const o=Be(),i=ue(),s=k([]),l=String("https://api.sakh-orch.ru/"),t=k([]);ne("albumList",t);const a=k(1),r=k(0);ne("album",r);const _=k(!0);k(!0);function b(){console.log("react"),d(),_.value=!0}function p(){re.post(l+"/api/get/album.php",{params:{what:"options",album:0,token:12345}}).then(u=>{var v,m;t.value=(m=(v=u==null?void 0:u.data)==null?void 0:v.options)!=null?m:[],x(),d()}).catch(u=>{i.notify(ve(u))})}function x(){r.value==="0"?(seldata.value.selected=seldata.value.options[seldata.value.options.length-1],r.value=seldata.value.selected.label):(seldata.value.selected.label=r.value,seldata.value.selected.value="/img/albums/"+r.value)}function d(){ue(),re.post(l+"/api/album.php",{params:{what:"data",album:r.value,token:12345}}).then(u=>{var v,m;s.value=(m=(v=u==null?void 0:u.data)==null?void 0:v.files)!=null?m:[]}).catch(u=>{i.notify(ve(u))})}return U(s,()=>{a.value=s.value[0]}),pe(()=>{r.value=o.params.album*1,p(r.value)}),(u,v)=>(I(),O(oe,null,[G("div",lt,[C(Ze,{swipeable:"",animated:"",arrows:"",dark:"",modelValue:a.value,"onUpdate:modelValue":v[1]||(v[1]=m=>a.value=m),fullscreen:_.value,"onUpdate:fullscreen":v[2]||(v[2]=m=>_.value=m),thumbnails:"",infinite:""},{control:P(()=>[C(Ye,{position:"top-right",offset:[18,18]},{default:P(()=>[C(z,{push:"",round:"",dense:"",color:"white","text-color":"primary",icon:_.value.value?"fullscreen_exit":"fullscreen",onClick:v[0]||(v[0]=m=>_.value=!_.value)},null,8,["icon"])]),_:1})]),default:P(()=>[(I(!0),O(oe,null,De(s.value,m=>(I(),W(We,{key:m,name:m,"img-src":Y(l)+"/img/albums/"+r.value+"/"+m},null,8,["name","img-src"]))),128))]),_:1},8,["modelValue","fullscreen"])]),C(ot,{onIAmSelected:b})],64))}};const rt={class:"content"},ut={class:"eventsarea"},st={__name:"GalleryPage",setup(e){return Ue({title:"\u0413\u0430\u043B\u0435\u0440\u0435\u044F"}),(i,s)=>(I(),O("div",rt,[G("div",ut,[C(it)])]))}};var Pt=fe(st,[["__scopeId","data-v-35cd0869"]]);export{Pt as default};

import{n as p}from"./myFuncts.0887c750.js";import{a as _}from"./axios.42d422c9.js";import{u as f}from"./use-quasar.f463e671.js";import{i as m,p as e,r,w as v,k as A,J as y,m as L,n as M}from"./index.e0f85654.js";const B={__name:"LibLayout",setup(b){const l=String("https://sakh-orch.ru/stapi/"),c=f(),d=m("editModes").lib;e("editMode",d);const o=r([]);e("AuthorSelectList",o);const s=r(!1);e("loadingAuthors",s);const i=r(0);e("selectedAuthorId",i);const n=r(null);e("selectedAuthor",n),v(i,()=>{n.value=o.value.find(t=>t.id===i.value)});function h(){s.value=!0,_.post(l+"epoint/lib/author.php",{params:{method:"all"}}).then(t=>{var u,a;o.value=(a=(u=t==null?void 0:t.data)==null?void 0:u.data)!=null?a:[]}).catch(t=>{o.value=[],c.notify(p(t))}).finally(()=>{s.value=!1})}return A(()=>{h()}),(t,u)=>{const a=y("router-view");return L(),M(a)}}};export{B as default};

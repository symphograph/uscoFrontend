import{Q as N}from"./QLinearProgress.fc7f3331.js";import{u as b}from"./use-quasar.398cde02.js";import{api as L}from"./axios.6846aef0.js";import{Q as x}from"./QImg.a05b652a.js";import{f as S}from"./myFuncts.1e6ef4e3.js";import{r as a,f as l,g as _,A as e,h as Q,av as f,J as y,F as w,_ as I,D as B,E as D,u as q,d as E,i as V,w as g,a as $,j as k,c as v,au as j}from"./index.9111738a.js";const n=s=>(B("data-v-1b38ea6a"),s=s(),D(),s),F={class:"narea"},R={class:"nimg_block"},U=["href"],A={class:"tcol"},C={class:"ntitle"},J=["href"],M=n(()=>e("br",null,null,-1)),P=["href"],z=n(()=>e("br",null,null,-1)),G=n(()=>e("br",null,null,-1)),H={class:"ndate"},K=n(()=>e("br",null,null,-1)),O=n(()=>e("br",null,null,-1)),T=n(()=>e("hr",null,null,-1)),W=n(()=>e("br",null,null,-1)),X={__name:"NewItem",props:{item:a(null)},setup(s){const t=s;function d(){return String("https://api.sakh-orch.ru/")+t.item.img}function i(){return t.item.evid?"/announce/"+t.item.evid:t.item.refLink?t.item.refLink:"/new/"+t.item.id}return(c,o)=>(l(),_(w,null,[e("div",F,[e("div",R,[e("div",null,[e("a",{href:i()},[Q(x,{src:d(),ratio:1920/1080,fit:"fill"},null,8,["src"])],8,U)])]),e("div",A,[e("div",C,[e("a",{href:i()},f(s.item.title),9,J)]),M,e("a",{href:i()},f(s.item.descr),9,P),z,G,e("span",H,f(y(S)(s.item.date)),1),K])]),O,T,W],64))}};var Y=I(X,[["__scopeId","data-v-1b38ea6a"]]);const Z={class:"newscol"},ee={key:2,class:"noEntyes"},te={__name:"NewsList",props:{query:a(null),category:a(null),year:a(null),limit:a(null)},setup(s){const t=s,d=String("https://api.sakh-orch.ru/"),i=q();E(),b();const c=V("progress"),o=a([]);a("\u041B\u0443\u0447\u0448\u0438\u0435 \u043D\u043E\u0432\u043E\u0441\u0442\u0438 - \u044D\u0442\u043E \u0438\u0445 \u043E\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u0435.");const m=a(t.category);g(()=>t.query,()=>{h()},{deep:!0}),g(i,r=>{m.value=r.params.category,h()});function h(){!m.value||(c.value=!0,L.post(d+"api/news/entry/list.php",{params:{category:m.value,year:t.year,limit:t.limit}}).then(r=>{var p,u;o.value=(u=(p=r==null?void 0:r.data)==null?void 0:p.data)!=null?u:[]}).catch(r=>{o.value=[]}).finally(()=>{c.value=!1}))}return $(()=>{h()}),(r,p)=>(l(),_("div",Z,[y(c)?(l(),k(N,{key:0,indeterminate:"",color:"secondary",class:"q-mt-sm"})):v("",!0),o.value.length?(l(!0),_(w,{key:1},j(o.value,u=>(l(),k(Y,{key:u.id,item:u},null,8,["item"]))),128)):v("",!0),!o.value&&!y(c)?(l(),_("h5",ee," \u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0435. \u041F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u043E\u0431\u043D\u043E\u0432\u0438\u0442\u044C \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0443. ")):v("",!0)]))}};var ie=I(te,[["__scopeId","data-v-fc4e2fc4"]]);export{ie as N};

import{_ as S,S as V,aR as D,i as p,r as t,h as u,z as m,A as I,H as r,J as b,y as n,D as q,I as x,B as d,N as P,O as Q,P as M}from"./index.9ebc3289.js";import{Q as R}from"./QSelect.0b4a74eb.js";import{N as C}from"./NewsList.2be59d7a.js";import{u as E}from"./use-meta.d05aa2a1.js";import{u as U}from"./use-quasar.db85b148.js";import{api as Y}from"./axios.4bd335be.js";import"./QItem.dae1c400.js";import"./rtl.146cb05f.js";import"./position-engine.fcbe0861.js";import"./format.3e32b8d9.js";import"./QLinearProgress.af9f1556.js";import"./LocalStorage.1f8ab6a2.js";import"./QImg.6e4db293.js";import"./use-ratio.c85728c3.js";import"./myFuncts.b846463d.js";import"./moment.9709ab41.js";const j=a=>(Q("data-v-498639cf"),a=a(),M(),a),z={class:"eventsarea"},A={class:"p_title"},F={class:"selectors"},H=j(()=>r("br",null,null,-1)),J={__name:"NewsPage",setup(a){const _=String("https://api.sakh-orch.ru/"),s=V(),v=D(),i=U(),y=p("editMode"),f=p("token"),g=t([2018,2019,2020,2021,2022,2023]),o=t(new Date().getFullYear());t(100);const h=t({all:"\u0412\u0441\u0435 \u043D\u043E\u0432\u043E\u0441\u0442\u0438",euterpe:"\u041D\u043E\u0432\u043E\u0441\u0442\u0438 \u042D\u0432\u0442\u0435\u0440\u043F\u044B",partners:"\u041D\u043E\u0432\u043E\u0441\u0442\u0438 \u043F\u0430\u0440\u0442\u043D\u0435\u0440\u043E\u0432",usco:"\u041D\u043E\u0432\u043E\u0441\u0442\u0438 \u043E\u0440\u043A\u0435\u0441\u0442\u0440\u0430"});function k(){Y.post(_+"api/set/news/addentry.php",{params:{token:f.value}}).then(e=>{if(e.data.error)return i.notify({color:"negative",position:"center",message:e.data.error,icon:"report_problem",closeBtn:"\u0417\u0430\u043A\u0440\u044B\u0442\u044C"}),!1;e.data.result&&(i.notify({type:"positive",position:"center",message:"\u0413\u043E\u0442\u043E\u0432\u043E",timeout:1,closeBtn:"\u041E\u043A"}),s.params.id=e.data.data.id,v.push({path:"/new/"+e.data.data.id}))}).catch(()=>{i.notify({color:"negative",position:"center",message:"\u0421\u0435\u0440\u0432\u0435\u0440 \u043D\u0435 \u043E\u0442\u0432\u0435\u0447\u0430\u0435\u0442",timeout:1,icon:"report_problem",closeBtn:"\u0417\u0430\u043A\u0440\u044B\u0442\u044C"})})}const B=u(()=>h[s.params.category]);E({title:"\u041D\u043E\u0432\u043E\u0441\u0442\u0438"});const c=t(s.params.category),N=u(()=>({year:o.value,category:c.value,limit:100}));return(e,l)=>(m(),I("div",z,[r("div",A,[r("div",null,b(n(B)),1),r("div",F,[n(y)?(m(),q(P,{key:0,label:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C",onClick:k})):x("",!0),d(R,{modelValue:o.value,"onUpdate:modelValue":l[0]||(l[0]=w=>o.value=w),options:g.value,"emit-value":""},null,8,["modelValue","options"])])]),H,d(C,{query:n(N),year:o.value,limit:100,category:c.value},null,8,["query","year","category"])]))}};var ce=S(J,[["__scopeId","data-v-498639cf"]]);export{ce as default};

import{Q as I}from"./QLinearProgress.557267f9.js";import"./LocalStorage.0d33c692.js";import{u as N}from"./use-quasar.31d66723.js";import{api as b}from"./axios.512df4e1.js";import{Q as L}from"./QImg.4ded629f.js";import{f as S}from"./myFuncts.b846463d.js";import{r as a,z as i,A as c,H as e,B as x,J as p,y as B,F as k,_ as w,O as Q,P as D,S as q,aR as R,i as V,w as y,o as $,D as g,I as h,G as E}from"./index.b9c3de56.js";const r=s=>(Q("data-v-20b082e6"),s=s(),D(),s),F={class:"narea"},P={class:"nimg_block"},U=["href"],j={class:"tcol"},z={class:"ntitle"},A=["href"],C=r(()=>e("br",null,null,-1)),G=["href"],H=r(()=>e("br",null,null,-1)),J=r(()=>e("br",null,null,-1)),M={class:"ndate"},O=r(()=>e("br",null,null,-1)),K=r(()=>e("br",null,null,-1)),T=r(()=>e("hr",null,null,-1)),W=r(()=>e("br",null,null,-1)),X={__name:"NewItem",props:{item:a(null)},setup(s){const t=s;function _(){return String("https://api.sakh-orch.ru/")+t.item.img}function u(){return t.item.evid?"/announce/"+t.item.evid:t.item.refLink?t.item.refLink:"/new/"+t.item.id}return(f,n)=>(i(),c(k,null,[e("div",F,[e("div",P,[e("div",null,[e("a",{href:u()},[x(L,{src:_(),ratio:1080/684},null,8,["src"])],8,U)])]),e("div",j,[e("div",z,[e("a",{href:u()},p(s.item.title),9,A)]),C,e("a",{href:u()},p(s.item.descr),9,G),H,J,e("span",M,p(B(S)(s.item.date)),1),O])]),K,T,W],64))}};var Y=w(X,[["__scopeId","data-v-20b082e6"]]);const Z={class:"newscol"},ee={key:2,class:"noEntyes"},te={__name:"NewsList",props:{query:a(null),category:a(null),year:a(null),limit:a(null)},setup(s){const t=s,_=String("https://api.sakh-orch.ru/"),u=q();R();const f=V("token");N();const n=a(!1),o=a(null);a("\u041B\u0443\u0447\u0448\u0438\u0435 \u043D\u043E\u0432\u043E\u0441\u0442\u0438 - \u044D\u0442\u043E \u0438\u0445 \u043E\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u0435.");const d=a(t.category);y(()=>t.query,l=>{m()},{deep:!0}),y(u,l=>{d.value=l.params.category,m()});function m(){if(n.value=!0,!d.value){n.value=!1;return}b.post(_+"api/news.php",{params:{category:d.value,year:t.year,limit:t.limit,token:f.value}}).then(l=>{l.data.result?o.value=l.data.data:o.value=null,n.value=!1}).catch(()=>{n.value=!1,o.value=null})}return $(()=>{m()}),(l,se)=>(i(),c("div",Z,[n.value?(i(),g(I,{key:0,indeterminate:"",color:"secondary",class:"q-mt-sm"})):h("",!0),o.value?(i(!0),c(k,{key:1},E(o.value,v=>(i(),g(Y,{key:v.id,item:v},null,8,["item"]))),128)):h("",!0),!o.value&&!n.value?(i(),c("h5",ee," \u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0435. \u041F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u043E\u0431\u043D\u043E\u0432\u0438\u0442\u044C \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0443. ")):h("",!0)]))}};var ce=w(te,[["__scopeId","data-v-73fc02ee"]]);export{ce as N};

import{Q as Au}from"./QScrollArea.e21ff25f.js";import{u as xu}from"./use-meta.531af4f0.js";import{u as oe}from"./use-quasar.5214fbba.js";import{a as ae,c as wu}from"./axios.b85bf3b3.js";import{Q}from"./QItemLabel.a5827065.js";import{Q as K,a as Z}from"./QItem.ec456296.js";import{V as Du,X as Cu,bf as Su,Z as Vu,di as Eu,r as S,c as F,w as Be,aK as Bu,W as Hu,h as B,g as Mu,dk as qu,au as Iu,a6 as Uu,a4 as $u,ak as Te,B as te,i as G,m as h,E as L,f as u,q as a,x as n,b7 as de,A as ye,ax as U,n as T,t as $,v as W,C as Pe,y as Le,z as ue,l as P,b as Ke,H as lu,d as Ne,k as au,b8 as nu,b9 as ou,o as We,bl as He,p as J,F as ce,u as iu,I as Ou,a as Fu,D as be,G as Qu}from"./index.24553d31.js";import{Q as Me}from"./QSelect.31d41137.js";import{a as Tu}from"./style.fcef8921.js";/* empty css               */import{u as Ge,b as Pu,c as Lu,_ as Ee,g as Ku,f as Nu,Q as Je,a as Wu}from"./QPopupProxy.a0ce1e03.js";import{T as Yu,b as ju}from"./TouchPan.1a9d4381.js";import{p as ge}from"./format.de7e9769.js";import{C as Ze}from"./ClosePopup.dfbe96ba.js";import{n as ne,a as eu,i as Ru,b as zu,g as Xu}from"./myFuncts.e70b84ba.js";import{A as Gu}from"./AnnounceCard.2f969c46.js";import{S as Ju,Q as Zu}from"./QInnerLoading.2b0cc143.js";import{m as et}from"./myAuth.5621b016.js";import{S as ut}from"./SelectComposer.7369afc7.js";import{Q as tt}from"./QTooltip.69832e01.js";import{_ as Ye}from"./BtnDelete.3dfc38d7.js";import{H as ve}from"./hall.55daaf48.js";import{_ as je}from"./plugin-vue_export-helper.21dcd24c.js";import{Q as uu}from"./QImg.a1706685.js";import{Q as lt}from"./QVideo.e3118aba.js";import{_ as tu}from"./PhoneNumber.75744567.js";import"./QToolbarTitle.54567fce.js";import"./QToolbar.eadc92d4.js";import"./QLinearProgress.e362525d.js";import{M as at}from"./MainFooter.3479873d.js";import"./QMenu.f20ee8b7.js";import"./position-engine.affa8945.js";import"./selection.601d92fa.js";import"./rtl.276c3f1b.js";import"./use-file.997771a7.js";import"./get-emits-object.a3f16783.js";import"./use-render-cache.3aae9b27.js";import"./touch.9135741d.js";import"./QList.f8872f3d.js";import"./AuthorItem.89ca454b.js";/* empty css                                                               *//* empty css                                                                   */import"./MainFooter.vue_vue_type_style_index_0_scoped_true_lang.a493ab19.js";function nt(l,M){if(l.hour!==null){if(l.minute===null)return"minute";if(M===!0&&l.second===null)return"second"}return"hour"}function ot(){const l=new Date;return{hour:l.getHours(),minute:l.getMinutes(),second:l.getSeconds(),millisecond:l.getMilliseconds()}}var it=Du({name:"QTime",props:{...Cu,...Su,...Ge,modelValue:{required:!0,validator:l=>typeof l=="string"||l===null},mask:{...Ge.mask,default:null},format24h:{type:Boolean,default:null},defaultDate:{type:String,validator:l=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(l)},options:Function,hourOptions:Array,minuteOptions:Array,secondOptions:Array,withSeconds:Boolean,nowBtn:Boolean},emits:Pu,setup(l,{slots:M,emit:f}){const w=Mu(),{$q:c}=w.proxy,o=Vu(l,c),{tabindex:k,headerClass:O,getLocale:r,getCurrentDate:D}=Lu(l,c),p=Eu(l),b=qu(p);let g,A;const q=S(null),E=F(()=>we()),C=F(()=>r()),V=F(()=>su()),N=Ee(l.modelValue,E.value,C.value,l.calendar,V.value),v=S(nt(N)),i=S(N),H=S(N.hour===null||N.hour<12),Ae=F(()=>`q-time q-time--${l.landscape===!0?"landscape":"portrait"}`+(o.value===!0?" q-time--dark q-dark":"")+(l.disable===!0?" disabled":l.readonly===!0?" q-time--readonly":"")+(l.bordered===!0?" q-time--bordered":"")+(l.square===!0?" q-time--square no-border-radius":"")+(l.flat===!0?" q-time--flat no-shadow":"")),_e=F(()=>{const e=i.value;return{hour:e.hour===null?"--":Y.value===!0?ge(e.hour):String(H.value===!0?e.hour===0?12:e.hour:e.hour>12?e.hour-12:e.hour),minute:e.minute===null?"--":ge(e.minute),second:e.second===null?"--":ge(e.second)}}),Y=F(()=>l.format24h!==null?l.format24h:c.lang.date.format24h),qe=F(()=>{const e=v.value==="hour",t=e===!0?12:60,d=i.value[v.value];let I=`rotate(${Math.round(d*(360/t))-180}deg) translateX(-50%)`;return e===!0&&Y.value===!0&&i.value.hour>=12&&(I+=" scale(.7)"),{transform:I}}),xe=F(()=>i.value.hour!==null),me=F(()=>xe.value===!0&&i.value.minute!==null),R=F(()=>l.hourOptions!==void 0?e=>l.hourOptions.includes(e):l.options!==void 0?e=>l.options(e,null,null):null),fe=F(()=>l.minuteOptions!==void 0?e=>l.minuteOptions.includes(e):l.options!==void 0?e=>l.options(i.value.hour,e,null):null),pe=F(()=>l.secondOptions!==void 0?e=>l.secondOptions.includes(e):l.options!==void 0?e=>l.options(i.value.hour,i.value.minute,e):null),z=F(()=>{if(R.value===null)return null;const e=x(0,11,R.value),t=x(12,11,R.value);return{am:e,pm:t,values:e.values.concat(t.values)}}),ie=F(()=>fe.value!==null?x(0,59,fe.value):null),se=F(()=>pe.value!==null?x(0,59,pe.value):null),he=F(()=>{switch(v.value){case"hour":return z.value;case"minute":return ie.value;case"second":return se.value}}),Ie=F(()=>{let e,t,d=0,y=1;const I=he.value!==null?he.value.values:void 0;v.value==="hour"?Y.value===!0?(e=0,t=23):(e=0,t=11,H.value===!1&&(d=12)):(e=0,t=55,y=5);const X=[];for(let _=e,j=e;_<=t;_+=y,j++){const re=_+d,yu=I!==void 0&&I.includes(re)===!1,bu=v.value==="hour"&&_===0?Y.value===!0?"00":"12":_;X.push({val:re,index:j,disable:yu,label:bu})}return X}),m=F(()=>[[Yu,ru,void 0,{stop:!0,prevent:!0,mouse:!0}]]);Be(()=>l.modelValue,e=>{const t=Ee(e,E.value,C.value,l.calendar,V.value);(t.dateHash!==i.value.dateHash||t.timeHash!==i.value.timeHash)&&(i.value=t,t.hour===null?v.value="hour":H.value=t.hour<12)}),Be([E,C],()=>{Iu(()=>{Qe()})});function s(){const e={...D(),...ot()};Qe(e),Object.assign(i.value,e),v.value="hour"}function x(e,t,d){const y=Array.apply(null,{length:t+1}).map((I,X)=>{const _=X+e;return{index:_,val:d(_)===!0}}).filter(I=>I.val===!0).map(I=>I.index);return{min:y[0],max:y[y.length-1],values:y,threshold:t+1}}function le(e,t,d){const y=Math.abs(e-t);return Math.min(y,d-y)}function ee(e,{min:t,max:d,values:y,threshold:I}){if(e===t)return t;if(e<t||e>d)return le(e,t,I)<=le(e,d,I)?t:d;const X=y.findIndex(re=>e<=re),_=y[X-1],j=y[X];return e-_<=j-e?_:j}function we(){return l.calendar!=="persian"&&l.mask!==null?l.mask:`HH:mm${l.withSeconds===!0?":ss":""}`}function su(){if(typeof l.defaultDate!="string"){const e=D(!0);return e.dateHash=Ku(e),e}return Ee(l.defaultDate,"YYYY/MM/DD",void 0,l.calendar)}function Ue(){return Uu(w)===!0||he.value!==null&&(he.value.values.length===0||v.value==="hour"&&Y.value!==!0&&z.value[H.value===!0?"am":"pm"].values.length===0)}function $e(){const e=q.value,{top:t,left:d,width:y}=e.getBoundingClientRect(),I=y/2;return{top:t+I,left:d+I,dist:I*.7}}function ru(e){if(Ue()!==!0){if(e.isFirst===!0){g=$e(),A=De(e.evt,g);return}A=De(e.evt,g,A),e.isFinal===!0&&(g=!1,A=null,Re())}}function Re(){v.value==="hour"?v.value="minute":l.withSeconds&&v.value==="minute"&&(v.value="second")}function De(e,t,d){const y=Bu(e),I=Math.abs(y.top-t.top),X=Math.sqrt(Math.pow(Math.abs(y.top-t.top),2)+Math.pow(Math.abs(y.left-t.left),2));let _,j=Math.asin(I/X)*(180/Math.PI);if(y.top<t.top?j=t.left<y.left?90-j:270+j:j=t.left<y.left?j+90:270-j,v.value==="hour"){if(_=j/30,z.value!==null){const re=Y.value!==!0?H.value===!0:z.value.am.values.length!==0&&z.value.pm.values.length!==0?X>=t.dist:z.value.am.values.length!==0;_=ee(_+(re===!0?0:12),z.value[re===!0?"am":"pm"])}else _=Math.round(_),Y.value===!0?X<t.dist?_<12&&(_+=12):_===12&&(_=0):H.value===!0&&_===12?_=0:H.value===!1&&_!==12&&(_+=12);Y.value===!0&&(H.value=_<12)}else _=Math.round(j/6)%60,v.value==="minute"&&ie.value!==null?_=ee(_,ie.value):v.value==="second"&&se.value!==null&&(_=ee(_,se.value));return d!==_&&gu[v.value](_),_}const Oe={hour(){v.value="hour"},minute(){v.value="minute"},second(){v.value="second"}};function du(e){e.keyCode===13&&ze()}function cu(e){e.keyCode===13&&Xe()}function vu(e){Ue()!==!0&&(c.platform.is.desktop!==!0&&De(e,$e()),Re())}function mu(e){Ue()!==!0&&De(e,$e())}function fu(e){if(e.keyCode===13)v.value="hour";else if([37,39].includes(e.keyCode)){const t=e.keyCode===37?-1:1;if(z.value!==null){const d=Y.value===!0?z.value.values:z.value[H.value===!0?"am":"pm"].values;if(d.length===0)return;if(i.value.hour===null)Ce(d[0]);else{const y=(d.length+d.indexOf(i.value.hour)+t)%d.length;Ce(d[y])}}else{const d=Y.value===!0?24:12,y=Y.value!==!0&&H.value===!1?12:0,I=i.value.hour===null?-t:i.value.hour;Ce(y+(24+I+t)%d)}}}function pu(e){if(e.keyCode===13)v.value="minute";else if([37,39].includes(e.keyCode)){const t=e.keyCode===37?-1:1;if(ie.value!==null){const d=ie.value.values;if(d.length===0)return;if(i.value.minute===null)Se(d[0]);else{const y=(d.length+d.indexOf(i.value.minute)+t)%d.length;Se(d[y])}}else{const d=i.value.minute===null?-t:i.value.minute;Se((60+d+t)%60)}}}function hu(e){if(e.keyCode===13)v.value="second";else if([37,39].includes(e.keyCode)){const t=e.keyCode===37?-1:1;if(se.value!==null){const d=se.value.values;if(d.length===0)return;if(i.value.seconds===null)Ve(d[0]);else{const y=(d.length+d.indexOf(i.value.second)+t)%d.length;Ve(d[y])}}else{const d=i.value.second===null?-t:i.value.second;Ve((60+d+t)%60)}}}function Ce(e){i.value.hour!==e&&(i.value.hour=e,ke())}function Se(e){i.value.minute!==e&&(i.value.minute=e,ke())}function Ve(e){i.value.second!==e&&(i.value.second=e,ke())}const gu={hour:Ce,minute:Se,second:Ve};function ze(){H.value===!1&&(H.value=!0,i.value.hour!==null&&(i.value.hour-=12,ke()))}function Xe(){H.value===!0&&(H.value=!1,i.value.hour!==null&&(i.value.hour+=12,ke()))}function Fe(e){const t=l.modelValue;v.value!==e&&t!==void 0&&t!==null&&t!==""&&typeof t!="string"&&(v.value=e)}function ke(){if(R.value!==null&&R.value(i.value.hour)!==!0){i.value=Ee(),Fe("hour");return}if(fe.value!==null&&fe.value(i.value.minute)!==!0){i.value.minute=null,i.value.second=null,Fe("minute");return}if(l.withSeconds===!0&&pe.value!==null&&pe.value(i.value.second)!==!0){i.value.second=null,Fe("second");return}i.value.hour===null||i.value.minute===null||l.withSeconds===!0&&i.value.second===null||Qe()}function Qe(e){const t=Object.assign({...i.value},e),d=l.calendar==="persian"?ge(t.hour)+":"+ge(t.minute)+(l.withSeconds===!0?":"+ge(t.second):""):Nu(new Date(t.year,t.month===null?null:t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond),E.value,C.value,t.year,t.timezoneOffset);t.changed=d!==l.modelValue,f("update:modelValue",d,t)}function _u(){const e=[B("div",{class:"q-time__link "+(v.value==="hour"?"q-time__link--active":"cursor-pointer"),tabindex:k.value,onClick:Oe.hour,onKeyup:fu},_e.value.hour),B("div",":"),B("div",xe.value===!0?{class:"q-time__link "+(v.value==="minute"?"q-time__link--active":"cursor-pointer"),tabindex:k.value,onKeyup:pu,onClick:Oe.minute}:{class:"q-time__link"},_e.value.minute)];l.withSeconds===!0&&e.push(B("div",":"),B("div",me.value===!0?{class:"q-time__link "+(v.value==="second"?"q-time__link--active":"cursor-pointer"),tabindex:k.value,onKeyup:hu,onClick:Oe.second}:{class:"q-time__link"},_e.value.second));const t=[B("div",{class:"q-time__header-label row items-center no-wrap",dir:"ltr"},e)];return Y.value===!1&&t.push(B("div",{class:"q-time__header-ampm column items-between no-wrap"},[B("div",{class:"q-time__link "+(H.value===!0?"q-time__link--active":"cursor-pointer"),tabindex:k.value,onClick:ze,onKeyup:du},"AM"),B("div",{class:"q-time__link "+(H.value!==!0?"q-time__link--active":"cursor-pointer"),tabindex:k.value,onClick:Xe,onKeyup:cu},"PM")])),B("div",{class:"q-time__header flex flex-center no-wrap "+O.value},t)}function ku(){const e=i.value[v.value];return B("div",{class:"q-time__content col relative-position"},[B($u,{name:"q-transition--scale"},()=>B("div",{key:"clock"+v.value,class:"q-time__container-parent absolute-full"},[B("div",{ref:q,class:"q-time__container-child fit overflow-hidden"},[Te(B("div",{class:"q-time__clock cursor-pointer non-selectable",onClick:vu,onMousedown:mu},[B("div",{class:"q-time__clock-circle fit"},[B("div",{class:"q-time__clock-pointer"+(i.value[v.value]===null?" hidden":l.color!==void 0?` text-${l.color}`:""),style:qe.value}),Ie.value.map(t=>B("div",{class:`q-time__clock-position row flex-center q-time__clock-pos-${t.index}`+(t.val===e?" q-time__clock-position--active "+O.value:t.disable===!0?" q-time__clock-position--disable":"")},[B("span",t.label)]))])]),m.value)])])),l.nowBtn===!0?B(te,{class:"q-time__now-button absolute",icon:c.iconSet.datetime.now,unelevated:!0,size:"sm",round:!0,color:l.color,textColor:l.textColor,tabindex:k.value,onClick:s}):null])}return w.proxy.setNow=s,()=>{const e=[ku()],t=Hu(M.default);return t!==void 0&&e.push(B("div",{class:"q-time__actions"},t)),l.name!==void 0&&l.disable!==!0&&b(e,"push"),B("div",{class:Ae.value,tabindex:-1},[_u(),B("div",{class:"q-time__main col overflow-auto"},e)])}}});const st={class:"q-pa-md",style:{"max-width":"300px",padding:"0"}},rt={class:"row items-center justify-end"},dt={class:"row items-center justify-end"},ct={__name:"DateTime",props:{evDateTime:S("2019-02-01 12:44")},emits:["update:date"],setup(l,{emit:M}){const f=G("Announce");return S(l.evDateTime),(c,o)=>(h(),L("div",st,[u(de,{filled:"",modelValue:n(f).eventTime,"onUpdate:modelValue":o[2]||(o[2]=k=>n(f).eventTime=k),mask:"####-##-## ##:##"},{prepend:a(()=>[u(ye,{name:"event",class:"cursor-pointer"},{default:a(()=>[u(Je,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[u(Wu,{modelValue:n(f).eventTime,"onUpdate:modelValue":o[0]||(o[0]=k=>n(f).eventTime=k),mask:"YYYY-MM-DD HH:mm"},{default:a(()=>[U("div",rt,[Te(u(te,{label:"\u0417\u0430\u043A\u0440\u044B\u0442\u044C",color:"primary",flat:""},null,512),[[Ze]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),append:a(()=>[u(ye,{name:"access_time",class:"cursor-pointer"},{default:a(()=>[u(Je,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[u(it,{modelValue:n(f).eventTime,"onUpdate:modelValue":o[1]||(o[1]=k=>n(f).eventTime=k),mask:"YYYY-MM-DD HH:mm",format24h:""},{default:a(()=>[U("div",dt,[Te(u(te,{label:"\u0417\u0430\u043A\u0440\u044B\u0442\u044C",color:"primary",flat:""},null,512),[[Ze]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},vt={__name:"WorkSelectItem",props:{work:Object},setup(l){const M=oe();return(f,w)=>(h(),T(Z,{clickable:"",dense:""},{default:a(()=>[u(K,null,{default:a(()=>[u(Q,null,{default:a(()=>[$(W(l.work.titleRu),1)]),_:1}),u(Q,{caption:""},{default:a(()=>[$(W(l.work.titleEn),1)]),_:1})]),_:1}),u(K,{side:"",class:"opus"},{default:a(()=>[u(Q,{caption:""},{default:a(()=>{var c;return[$(W((c=l.work.opus)!=null?c:"Op.?"),1)]}),_:1}),u(Q,{caption:""},{default:a(()=>{var c;return[$(W((c=l.work.icatno)!=null?c:"cat\u2116.?"),1)]}),_:1}),u(Q,{caption:""},{default:a(()=>{var c;return[$(W((c=l.work.catalogIndex)!=null?c:"catIdx: ?"),1)]}),_:1}),u(te,{dense:"","icon-right":"content_copy",flat:"",label:`ID: ${l.work.id}`,onClick:w[0]||(w[0]=Pe(c=>f.copy(l.work.id,n(M)),["prevent","stop"]))},null,8,["label"])]),_:1})]),_:1}))}},mt={__name:"AddWorkDialog",emits:["workSelected"],setup(l,{emit:M}){const f=oe(),w=String("https://api.staff.sakh-orch.ru/"),c=G("isOpenAddWorkDialog"),o=S(!1),k=G("selectedAuthorId");G("selectedAuthor");const O=M,r=S([]),D=S(null);function p(){console.log("authorSelected"),k.value&&(o.value=!0,ae.post(w+"/api/lib/work.php",{params:{method:"list",authorId:k.value}}).then(g=>{var A,q;r.value=(q=(A=g==null?void 0:g.data)==null?void 0:A.data)!=null?q:[]}).catch(g=>{r.value=[],f.notify(notifyError(g))}).finally(()=>{o.value=!1}))}function b(){o.value=!1}return(g,A)=>(h(),T(lu,{modelValue:n(c),"onUpdate:modelValue":A[2]||(A[2]=q=>Ke(c)?c.value=q:null),onBeforeHide:b},{default:a(()=>[u(Le,{bordered:"",class:"dialogArea"},{default:a(()=>[u(ue,null,{default:a(()=>[u(ut,{onItSel:p})]),_:1}),n(k)?(h(),T(ue,{key:0},{default:a(()=>[u(Me,{modelValue:D.value,"onUpdate:modelValue":[A[0]||(A[0]=q=>D.value=q),A[1]||(A[1]=q=>O("workSelected",D.value))],options:r.value,"option-label":"titleRu","option-value":"id","map-options":"",label:"\u041F\u0440\u043E\u0438\u0437\u0432\u0435\u0434\u0435\u043D\u0438\u0435"},{option:a(q=>[u(vt,{work:q.opt},null,8,["work"])]),_:1},8,["modelValue","options"])]),_:1})):P("",!0)]),_:1})]),_:1},8,["modelValue"]))}},ft=Ne({__name:"SuggestSelect",emits:["saved"],setup(l,{emit:M}){const f=oe(),w=String("https://api.sakh-orch.ru/"),c=String("https://api.staff.sakh-orch.ru/"),o=S(""),k=S(null),O=S([{title:{text:"\u0421\u0430\u0445\u0430\u043B\u0438\u043D\u0441\u043A\u0438\u0439 \u043C\u0435\u0436\u0434\u0443\u043D\u0430\u0440\u043E\u0434\u043D\u044B\u0439 \u0442\u0435\u0430\u0442\u0440\u0430\u043B\u044C\u043D\u044B\u0439 \u0446\u0435\u043D\u0442\u0440 \u0438\u043C\u0435\u043D\u0438 \u0410\u043D\u0442\u043E\u043D\u0430 \u041F\u0430\u0432\u043B\u043E\u0432\u0438\u0447\u0430 \u0427\u0435\u0445\u043E\u0432\u0430",hl:[{begin:26,end:31}]},subtitle:{text:"\u0422\u0435\u0430\u0442\u0440 \xB7 \u041A\u043E\u043C\u043C\u0443\u043D\u0438\u0441\u0442\u0438\u0447\u0435\u0441\u043A\u0438\u0439 \u043F\u0440\u043E\u0441\u043F\u0435\u043A\u0442, 35",hl:[{begin:0,end:5}]},tags:["business","theatre","museum","concert hall"],distance:{value:1178.70231,text:"1.18 \u043A\u043C"}},{title:{text:"\u0421\u0430\u0445\u0430\u043B\u0438\u043D\u0441\u043A\u0438\u0439 \u0442\u0435\u0430\u0442\u0440 \u043A\u0443\u043A\u043E\u043B",hl:[{begin:12,end:17}]},subtitle:{text:"\u0422\u0435\u0430\u0442\u0440 \xB7 \u041A\u043E\u043C\u043C\u0443\u043D\u0438\u0441\u0442\u0438\u0447\u0435\u0441\u043A\u0438\u0439 \u043F\u0440\u043E\u0441\u043F\u0435\u043A\u0442, 28\u0410",hl:[{begin:0,end:5}]},tags:["business","theatre","office service"],distance:{value:1224.330864,text:"1.22 \u043A\u043C"}},{title:{text:"\u041C\u043E\u0441\u043A\u043E\u0432\u0441\u043A\u0438\u0439 \u0434\u0440\u0430\u043C\u0430\u0442\u0438\u0447\u0435\u0441\u043A\u0438\u0439 \u0442\u0435\u0430\u0442\u0440 \u0438\u043C\u0435\u043D\u0438 \u041C. \u041D. \u0415\u0440\u043C\u043E\u043B\u043E\u0432\u043E\u0439",hl:[{begin:25,end:30}]},subtitle:{text:"\u0422\u0435\u0430\u0442\u0440 \xB7 \u041C\u043E\u0441\u043A\u0432\u0430, \u0422\u0432\u0435\u0440\u0441\u043A\u0430\u044F \u0443\u043B\u0438\u0446\u0430, 5/6",hl:[{begin:0,end:5}]},tags:["business","theatre"],distance:{value:6655148389e-3,text:"6655.15 \u043A\u043C"}},{title:{text:"\u0422\u0430\u0442\u0430\u0440\u0441\u043A\u0438\u0439 \u0433\u043E\u0441\u0443\u0434\u0430\u0440\u0441\u0442\u0432\u0435\u043D\u043D\u044B\u0439 \u0442\u0435\u0430\u0442\u0440 \u043A\u0443\u043A\u043E\u043B \u042D\u043A\u0438\u044F\u0442",hl:[{begin:26,end:31}]},subtitle:{text:"\u0422\u0435\u0430\u0442\u0440 \xB7 \u041A\u0430\u0437\u0430\u043D\u044C, \u041F\u0435\u0442\u0435\u0440\u0431\u0443\u0440\u0433\u0441\u043A\u0430\u044F \u0443\u043B\u0438\u0446\u0430, 57",hl:[{begin:0,end:5}]},tags:["business","theatre"],distance:{value:6077098052e-3,text:"6077.10 \u043A\u043C"}},{title:{text:"\u0422\u0435\u0430\u0442\u0440 \u0434\u0440\u0430\u043C\u044B \u0438 \u043A\u043E\u043C\u0435\u0434\u0438\u0438",hl:[{begin:0,end:5}]},subtitle:{text:"\u0422\u0435\u0430\u0442\u0440 \xB7 \u041F\u0435\u0442\u0440\u043E\u043F\u0430\u0432\u043B\u043E\u0432\u0441\u043A-\u041A\u0430\u043C\u0447\u0430\u0442\u0441\u043A\u0438\u0439, \u041B\u0435\u043D\u0438\u043D\u0441\u043A\u0430\u044F \u0443\u043B\u0438\u0446\u0430, 75",hl:[{begin:0,end:5}]},tags:["business","theatre"],distance:{value:1321394665e-3,text:"1321.39 \u043A\u043C"}},{title:{text:"\u0422\u0435\u0430\u0442\u0440 \u041A\u043E\u043B\u0435\u0441\u043E",hl:[{begin:0,end:5}]},subtitle:{text:"\u041E\u0441\u0442\u0430\u043D\u043E\u0432\u043A\u0430 \u043E\u0431\u0449\u0435\u0441\u0442\u0432\u0435\u043D\u043D\u043E\u0433\u043E \u0442\u0440\u0430\u043D\u0441\u043F\u043E\u0440\u0442\u0430 \xB7 \u0422\u043E\u043B\u044C\u044F\u0442\u0442\u0438, \u041B\u0435\u043D\u0438\u043D\u0433\u0440\u0430\u0434\u0441\u043A\u0430\u044F \u0443\u043B\u0438\u0446\u0430, 33\u0410\u04411"},tags:["business","bus stop"],distance:{value:6203127608e-3,text:"6203.13 \u043A\u043C"}},{title:{text:"\u0422\u0435\u0430\u0442\u0440\u0430\u043B\u044C\u043D\u0430\u044F",hl:[{begin:0,end:5}]},subtitle:{text:"\u041E\u0441\u0442\u0430\u043D\u043E\u0432\u043A\u0430 \u043E\u0431\u0449\u0435\u0441\u0442\u0432\u0435\u043D\u043D\u043E\u0433\u043E \u0442\u0440\u0430\u043D\u0441\u043F\u043E\u0440\u0442\u0430 \xB7 \u0421\u043E\u0447\u0438, \u0410-147"},tags:["business","bus stop"],distance:{value:7445799203e-3,text:"7445.80 \u043A\u043C"}}]),r=S([...O.value]),D=M;function p(E,C){if(!E){r.value=[];return}C(()=>{b(E)})}function b(E){const C="https://suggest-maps.yandex.ru/v1/suggest";wu.get(C,{params:{apikey:o.value,text:E,ull:"142.728060,46.966085",print_address:1,strict_bounds:1,attrs:"uri"},withCredentials:!1,headers:{"Content-Type":"application/json",Accept:"application/json"}}).then(V=>{var v;if(!((v=V==null?void 0:V.data)!=null&&v.results))return;const N=V.data.results;N.forEach((i,H)=>{i.label=i.address.formatted_address,i.value=H}),r.value=N}).catch(V=>{console.error(V),f.notify(ne(V))})}function g(){ae.post(w+"api/ya/suggest.php",{params:{method:"add",suggest:k.value}}).then(E=>{var C;if(!((C=E==null?void 0:E.data)!=null&&C.result))throw new Error;D("saved",E.data.data.id)}).catch(E=>{f.notify(ne(E))})}function A(){!k.value||g()}function q(){const E=c+"api/ya/suggest.php",C={method:"getApiKey"};ae.post(E,{params:C}).then(V=>{var N;if(!((N=V==null?void 0:V.data)!=null&&N.result))throw new Error("SuggestApiKey Error");o.value=V.data.data.key}).catch(V=>{console.error(V),f.notify(ne(V))})}return au(()=>{q()}),(E,C)=>o.value?(h(),T(Me,{key:0,modelValue:k.value,"onUpdate:modelValue":[C[0]||(C[0]=V=>k.value=V),A],options:r.value,"use-input":"","fill-input":"","hide-selected":"",clearable:"",onFilter:p},{option:a(V=>[u(Z,nu(ou(V.itemProps)),{default:a(()=>[u(K,null,{default:a(()=>[u(Q,null,{default:a(()=>[$(W(V.opt.title.text),1)]),_:2},1024),u(Q,{caption:""},{default:a(()=>{var N,v;return[$(W((v=(N=V.opt)==null?void 0:N.address)==null?void 0:v.formatted_address),1)]}),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","options"])):P("",!0)}}),pt={class:"text-h6"},ht=Ne({__name:"HallDialog",setup(l){const M=oe(),f=G("clickedHall"),w=G("IsHallDialogOpen"),c=S(!1);We(()=>{});async function o(){c.value=!0,await f.value.save(M)&&(ve.List.value=await ve.getList(M),w.value=!1),c.value=!1}function k(p){f.value.suggestId=p}function O(){f.value||(f.value=new ve)}function r(){}async function D(p){c.value=!0,await p.del(M)&&(w.value=!1),c.value=!1}return(p,b)=>(h(),T(lu,{modelValue:n(w),"onUpdate:modelValue":b[3]||(b[3]=g=>Ke(w)?w.value=g:null),onBeforeShow:O,onBeforeHide:r},{default:a(()=>[u(Le,{bordered:"",class:"dialogArea"},{default:a(()=>[u(K,null,{default:a(()=>[U("div",pt,W(n(f).id>0?"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0437\u0430\u043B":"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0437\u0430\u043B"),1)]),_:1}),u(ue,null,{default:a(()=>[u(de,{modelValue:n(f).name,"onUpdate:modelValue":b[0]||(b[0]=g=>n(f).name=g),label:"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435","stack-label":""},null,8,["modelValue"]),n(f).id===-1?(h(),T(ft,{key:0,onSaved:k})):(h(),T(Z,{key:1},{default:a(()=>[u(K,null,{default:a(()=>[u(Q,null,{default:a(()=>{var g,A,q;return[$(W((q=(A=(g=n(f))==null?void 0:g.suggest)==null?void 0:A.address)==null?void 0:q.formatted),1)]}),_:1})]),_:1})]),_:1}))]),_:1}),u(He,null,{default:a(()=>[u(ju),n(f).id>0?(h(),T(Ye,{key:0,label:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C",loading:c.value,"throw-confirm":"",title:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0437\u0430\u043B",danger:"",onOnOk:b[1]||(b[1]=g=>D(n(f)))},null,8,["loading"])):P("",!0),u(te,{label:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C",disable:!n(f).suggestId,loading:c.value,color:"green",onClick:b[2]||(b[2]=g=>o())},null,8,["disable","loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]))}}),gt=Ne({__name:"HallSelect",emits:["selected"],setup(l,{emit:M}){const f=oe(),w=G("selectedHall"),c=S(!1),o=S(!1);J("IsHallDialogOpen",c);const k=S(),O=M;function r(g=null){g||(g=new ve),b.value=new ve(g),c.value=!0}function D(){b.value=w.value,O("selected",w.value)}async function p(g){o.value=!0,await g.del(f)&&(c.value=!1),o.value=!1}const b=S(new ve);return J("clickedHall",b),au(()=>{}),(g,A)=>{var q,E;return h(),L(ce,null,[u(Me,{modelValue:n(w),"onUpdate:modelValue":[A[1]||(A[1]=C=>Ke(w)?w.value=C:null),A[2]||(A[2]=C=>D())],label:"\u041C\u0435\u0441\u0442\u043E \u043F\u0440\u043E\u0432\u0435\u0434\u0435\u043D\u0438\u044F","map-options":"","option-label":"name","option-value":"id",options:(E=(q=n(ve).List)==null?void 0:q.value)!=null?E:[],ref_key:"selRef",ref:k},{append:a(()=>[u(te,{icon:"add",round:"",onClick:A[0]||(A[0]=Pe(C=>r(),["prevent","stop"]))},{default:a(()=>[u(tt,null,{default:a(()=>A[3]||(A[3]=[$("\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0437\u0430\u043B")])),_:1})]),_:1})]),option:a(C=>[u(Z,nu(ou(C.itemProps)),{default:a(()=>[u(K,null,{default:a(()=>[u(Q,null,{default:a(()=>[$(W(C.opt.name),1)]),_:2},1024),u(Q,{caption:""},{default:a(()=>[$(W(C.opt.suggest.address.formatted),1)]),_:2},1024)]),_:2},1024),u(K,{side:""},{default:a(()=>[u(Ye,{danger:"","throw-confirm":"",flat:"",loading:o.value,tooltip:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0437\u0430\u043B",title:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0437\u0430\u043B: "+C.opt.name,onOnOk:V=>p(C.opt)},null,8,["loading","title","onOnOk"])]),_:2},1024),u(K,{side:""},{default:a(()=>[u(te,{icon:"edit",flat:"",onClick:Pe(V=>r(C.opt),["prevent","stop"])},null,8,["onClick"])]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","options"]),u(ht)],64)}}});const _t={key:0,class:"eventsarea"},kt={class:"editArea"},yt={key:0,class:"card"},bt={class:"editor"},At={style:{display:"flex","justify-content":"space-between"}},xt={key:0,class:"uploads"},wt={style:{width:"100%"}},Dt={class:"uploads"},Ct={__name:"AnnounceEditor",emits:["reload","posterUploaded"],setup(l,{expose:M,emit:f}){const w=String("https://api.staff.sakh-orch.ru/"),c=String("https://api.sakh-orch.ru/"),o=oe(),k=iu(),O=Ou(),r=G("Announce"),D=S(r.value.Hall);J("selectedHall",D);function p(m){console.log(m),r.value.hallId=m.id,r.value.Hall=m}const b=S("");J("pwUrl",b);const g=f,A={};function q(){}const E=[{label:"\u0412\u0445\u043E\u0434 \u0441\u0432\u043E\u0431\u043E\u0434\u043D\u044B\u0439",value:2},{label:"\u0411\u0438\u043B\u0435\u0442\u044B \u0432 \u043F\u0440\u043E\u0434\u0430\u0436\u0435",value:3},{label:"\u0412\u0445\u043E\u0434 \u043F\u043E \u043F\u0440\u0438\u0433\u043B\u0430\u0441\u0438\u0442\u0435\u043B\u044C\u043D\u044B\u043C",value:4},{label:"\u041F\u0440\u043E\u0434\u0430\u0436\u0430 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043D\u0430",value:5}],C=S(null),V=S(null),N=S(!1);J("isOpenAddWorkDialog",N);const v=S([]);J("AuthorSelectList",v);const i=S(!1);J("loadingAuthors",i);const H=S(0);J("selectedAuthorId",H);const Ae=S(null);J("selectedAuthor",Ae),Be(H,()=>{Ae.value=v.value.find(m=>m.id===H.value)});function _e(){i.value=!0,ae.post(w+"/api/lib/author.php",{params:{method:"all"}}).then(m=>{var s,x;v.value=(x=(s=m==null?void 0:m.data)==null?void 0:s.data)!=null?x:[]}).catch(m=>{v.value=[],o.notify(ne(m))}).finally(()=>{i.value=!1})}function Y(m){return{url:c+"api/event/poster.php",headers:[{name:"ACCESSTOKEN",value:et.self.AccessToken}],formFields:[{name:"id",value:r.value.id},{name:"method",value:"add"}]}}function qe(m){o.notify(eu("\u0417\u0430\u0433\u0440\u0443\u0436\u0435\u043D\u043E")),g("posterUploaded")}function xe(m){o.notify(eu("\u0417\u0430\u0433\u0440\u0443\u0436\u0435\u043D\u043E")),g("posterUploaded"),C.value.reset(),me.value=!0}const me=S(!1);let R=null;Be(me,m=>{console.log("photoWatcher"),m&&!R?R=setInterval(Ie,3e3):!m&&R&&(clearInterval(R),R=null)});function fe(m){var x,le,ee;let s=(ee=(le=JSON.parse((x=m==null?void 0:m.xhr)==null?void 0:x.response))==null?void 0:le.error)!=null?ee:"";o.notify(ne(null,s))}function pe(){V.value.saveData()}function z(){O.push({path:"/announces"})}function ie(){g("reload")}function se(){delete r.value.sketch,delete r.value.sketchId}function he(){ae.post(c+"api/event/announce.php",{params:{method:"updateMarkdown",id:r.value.id,markdown:r.value.description}}).then(m=>{var s;if(!((s=m==null?void 0:m.data)!=null&&s.result))throw new Error;r.value.parsedMD=m==null?void 0:m.data.data}).catch(m=>{})}function Ie(){ae.post(c+"api/event/poster.php",{params:{method:"get",announceId:k.params.evid}}).then(m=>{var s,x,le,ee,we;if(!((s=m==null?void 0:m.data)!=null&&s.result))throw new Error;r.value.poster=(le=(x=m==null?void 0:m.data)==null?void 0:x.data)!=null?le:null,((we=(ee=r.value)==null?void 0:ee.poster)==null?void 0:we.status)!=="process"&&(me.value=!1)}).catch(m=>{me.value=!1,o.notify(ne(m))}).finally(()=>{})}return M({}),We(()=>{_e()}),Fu(()=>{R&&clearInterval(R)}),(m,s)=>(h(),L(ce,null,[n(r)?(h(),L("div",_t,[U("div",kt,[n(o).platform.is.desktop?(h(),L("div",yt,[n(r).Hall?(h(),T(Gu,{key:0,onIamDeleted:z,onNewAnnounce:ie,onDelSketch:se,ref_key:"rAnnounceCard",ref:V,Announce:n(r),pwUrl:b.value},null,8,["Announce","pwUrl"])):P("",!0)])):P("",!0),U("div",bt,[U("div",At,[u(ct,{date:n(r).eventTime,"onUpdate:date":[s[0]||(s[0]=x=>n(r).eventTime=x),s[1]||(s[1]=x=>void 0)]},null,8,["date"])]),s[11]||(s[11]=U("br",null,null,-1)),s[12]||(s[12]=U("hr",null,null,-1)),n(o).platform.is.desktop?(h(),L("div",xt,[U("div",wt,[u(Ju,{id:n(r).id,type:"event",onOnUploaded:qe},null,8,["id"])])])):(h(),T(Z,{key:1},{default:a(()=>[u(K,null,{default:a(()=>[u(Q,{caption:""},{default:a(()=>s[10]||(s[10]=[$(" \u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430 \u044D\u0441\u043A\u0438\u0437\u0430 \u043D\u0435 \u043F\u043E\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u043C\u043E\u0431\u0438\u043B\u044C\u043D\u044B\u0435 \u0443\u0441\u0442\u0440\u043E\u0439\u0441\u0442\u0432\u0430 ")])),_:1})]),_:1})]),_:1})),u(be,{spaced:"1em"}),u(de,{name:"progName",modelValue:n(r).progName,"onUpdate:modelValue":s[2]||(s[2]=x=>n(r).progName=x),label:"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435"},null,8,["modelValue"]),u(gt,{onSelected:p}),u(Me,{modelValue:n(r).pay,"onUpdate:modelValue":s[3]||(s[3]=x=>n(r).pay=x),"emit-value":"","map-options":"",label:"\u0423\u0441\u043B\u043E\u0432\u0438\u044F \u0432\u0445\u043E\u0434\u0430",options:E},null,8,["modelValue"]),s[13]||(s[13]=U("br",null,null,-1)),[3,4].includes(n(r).pay)?(h(),T(de,{key:2,type:"text",modelValue:n(r).ticketLink,"onUpdate:modelValue":s[4]||(s[4]=x=>n(r).ticketLink=x),label:"\u0421\u0441\u044B\u043B\u043A\u0430 \u043D\u0430 \u043F\u0440\u0438\u043E\u0431\u0440\u0435\u0442\u0435\u043D\u0438\u0435 \u0431\u0438\u043B\u0435\u0442\u043E\u0432"},null,8,["modelValue"])):P("",!0),s[14]||(s[14]=U("br",null,null,-1)),u(de,{type:"number",modelValue:n(r).age,"onUpdate:modelValue":s[5]||(s[5]=x=>n(r).age=x),label:"\u0412\u043E\u0437\u0440\u0430\u0441\u0442\u043D\u044B\u0435 \u043E\u0433\u0440\u0430\u043D\u0438\u0447\u0435\u043D\u0438\u044F"},null,8,["modelValue"]),s[15]||(s[15]=U("br",null,null,-1)),u(de,{name:"evDescr",modelValue:n(r).sdescr,"onUpdate:modelValue":s[6]||(s[6]=x=>n(r).sdescr=x),type:"textarea",autogrow:"",label:"\u041A\u0440\u0430\u0442\u043A\u043E\u0435 \u043E\u043F\u0438\u0441\u0430\u043D\u0438\u0435"},null,8,["modelValue"]),s[16]||(s[16]=U("br",null,null,-1)),u(de,{name:"evText",modelValue:n(r).description,"onUpdate:modelValue":[s[7]||(s[7]=x=>n(r).description=x),s[8]||(s[8]=x=>he())],type:"textarea",autogrow:"",debounce:300,label:"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435"},null,8,["modelValue"]),u(be,{spaced:"1em"}),U("div",Dt,[u(Tu,{modelValue:A,"onUpdate:modelValue":s[9]||(s[9]=x=>A=x),style:{width:"100%"},label:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C \u0430\u0444\u0438\u0448\u0443",factory:Y,ref_key:"posterUploader",ref:C,onUploaded:xe,onFailed:fe,"no-thumbnails":""},null,512)]),u(He,{align:"right"},{default:a(()=>[u(te,{label:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C",onClick:pe,color:"green"})]),_:1})]),u(be,{spaced:"1em"})])])):P("",!0),s[18]||(s[18]=U("br",null,null,-1)),s[19]||(s[19]=U("hr",null,null,-1)),s[20]||(s[20]=U("br",null,null,-1)),P("",!0),u(mt)],64))}};var St=je(Ct,[["__scopeId","data-v-19bd34cc"]]);const Vt={key:0,class:"posterArea relative-position"},Et={key:0,style:{position:"absolute",right:"1em",top:"1em","z-index":"10"}},Bt={class:"eventboxin"},Ht={key:0},Mt=["innerHTML"],qt={key:1},It={key:1,class:"videoItem"},Ut={__name:"AnnounceDescr",emits:["delPoster"],setup(l,{emit:M}){const f=String("https://api.sakh-orch.ru/"),w=oe(),c=G("editMode"),o=G("Announce"),k=F(()=>{let D=w.platform.is.mobile?1080:480;return o.value.poster?Ru(f,o.value.poster.md5,o.value.poster.ext,D):"/error.err"});function O(){return"https://vk.com/share.php?url="+String("https://sakh-orch.ru/")+"/announce/"+String(o.value.id)+"&title="+String(o.value.progName)+"&noparse=true&image="+String(k.value)}function r(){ae.post(f+"api/event/poster.php",{params:{method:"unlink",id:o.value.id}}).then(D=>{var p;if(!((p=D==null?void 0:D.data)!=null&&p.result))throw new Error;delete o.value.poster,delete o.value.posterId}).catch(D=>{w.notify(ne(D))})}return(D,p)=>(h(),L(ce,null,[n(o).poster?(h(),L("div",Vt,[n(c)?(h(),L("div",Et,[u(Ye,{"throw-confirm":"",title:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0430\u0444\u0438\u0448\u0443",tooltip:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0430\u0444\u0438\u0448\u0443",onOnOk:p[0]||(p[0]=b=>r())})])):P("",!0),n(o).poster.status==="process"?(h(),T(Z,{key:1},{default:a(()=>[u(uu),u(K,null,{default:a(()=>[u(Zu,{showing:"",label:"\u041E\u0431\u0440\u0430\u0431\u043E\u0442\u043A\u0430"})]),_:1})]),_:1})):(h(),T(uu,{key:2,src:k.value},{error:a(()=>p[1]||(p[1]=[U("img",{src:"/img/news/default_sketch.svg"},null,-1)])),_:1},8,["src"]))])):P("",!0),U("div",Bt,[u(Le,{class:"transparent no-padding",flat:""},{default:a(()=>[u(ue,{class:"no-padding"},{default:a(()=>[u(Z,null,{default:a(()=>[u(K,null,{default:a(()=>[u(Q,{class:"title"},{default:a(()=>[$(W(n(o).progName),1)]),_:1}),u(Q,{class:"title"},{default:a(()=>[$(W(n(zu)(n(o).eventTime)),1)]),_:1})]),_:1})]),_:1})]),_:1}),u(ue,null,{default:a(()=>[(h(!0),L(ce,null,Qu(n(o).parsedMD,(b,g)=>(h(),L(ce,{key:g},[b.type==="text"?(h(),L("div",Ht,[b.content!==`
`?(h(),L("div",{key:0,innerHTML:b.content,class:"textBlock"},null,8,Mt)):(h(),L("br",qt))])):P("",!0),b.type==="video"?(h(),L("div",It,[u(lt,{ratio:16/9,src:"https://www.youtube.com/embed/"+b.content},null,8,["src"])])):P("",!0)],64))),128))]),_:1}),!n(o).completed&&[3,4].includes(n(o).pay)&&n(o).ticketLink?(h(),T(He,{key:0,align:"right"})):P("",!0),u(ue,null,{default:a(()=>[u(Z,{dense:""},{default:a(()=>[u(Q,{caption:""},{default:a(()=>p[2]||(p[2]=[$(" \u0423\u0432\u0430\u0436\u0430\u0435\u043C\u044B\u0435 \u043F\u043E\u0441\u0435\u0442\u0438\u0442\u0435\u043B\u0438, \u0443\u0431\u0435\u0434\u0438\u0442\u0435\u043B\u044C\u043D\u0430\u044F \u043F\u0440\u043E\u0441\u044C\u0431\u0430 \u0441\u043E\u0431\u043B\u044E\u0434\u0430\u0442\u044C \u043C\u0435\u0440\u044B \u0431\u0435\u0437\u043E\u043F\u0430\u0441\u043D\u043E\u0441\u0442\u0438 \u0432 \u0441\u0432\u044F\u0437\u0438 \u0441 \u0440\u0430\u0441\u043F\u0440\u043E\u0441\u0442\u0440\u0430\u043D\u0435\u043D\u0438\u0435\u043C \u043A\u043E\u0440\u043E\u043D\u0430\u0432\u0438\u0440\u0443\u0441\u043D\u043E\u0439 \u0438\u043D\u0444\u0435\u043A\u0446\u0438\u0438! ")])),_:1})]),_:1})]),_:1}),u(ue,null,{default:a(()=>[u(Z,{clickable:"",href:n(o).Hall.map,target:"_blank"},{default:a(()=>[u(K,{avatar:""},{default:a(()=>[u(ye,{name:"place"})]),_:1}),u(K,null,{default:a(()=>[u(Q,null,{default:a(()=>[$(W(n(o).Hall.name),1)]),_:1}),u(Q,{caption:""},{default:a(()=>[$(W(n(o).Hall.address),1)]),_:1})]),_:1})]),_:1},8,["href"])]),_:1}),!n(o).completed&&[3,4].includes(n(o).pay)&&n(o).ticketLink?(h(),T(ue,{key:1},{default:a(()=>[u(Z,{clickable:"",href:n(o).ticketLink,target:"_blank"},{default:a(()=>[n(o).pay===3?(h(),L(ce,{key:0},[u(K,{avatar:""},{default:a(()=>[u(ye,{name:"shopping_cart"})]),_:1}),u(K,null,{default:a(()=>[u(Q,null,{default:a(()=>p[3]||(p[3]=[$("\u041A\u0443\u043F\u0438\u0442\u044C \u0431\u0438\u043B\u0435\u0442")])),_:1}),(h(),T(Q,{key:0,caption:""},{default:a(()=>p[4]||(p[4]=[$("+ \u0414\u043E\u0441\u0442\u0443\u043F\u043D\u043E \u043F\u043E \u043F\u0443\u0448\u043A\u0438\u043D\u0441\u043A\u043E\u0439 \u043A\u0430\u0440\u0442\u0435")])),_:1}))]),_:1})],64)):P("",!0),n(o).pay===4?(h(),L(ce,{key:1},[u(K,{avatar:""},{default:a(()=>[u(ye,{name:"img:/img/uds.svg"})]),_:1}),u(K,null,{default:a(()=>[u(Q,null,{default:a(()=>p[5]||(p[5]=[$("\u041F\u043E\u043B\u0443\u0447\u0438\u0442\u044C \u043F\u0440\u0438\u0433\u043B\u0430\u0441\u0438\u0442\u0435\u043B\u044C\u043D\u044B\u0439")])),_:1})]),_:1})],64)):P("",!0)]),_:1},8,["href"])]),_:1})):P("",!0),u(be),u(ue,{class:"no-padding"},{default:a(()=>[u(tu,{"phone-number":"+7-(4242)-300-518"}),u(tu,{"phone-number":"+7-(962)-416-36-89"})]),_:1}),u(be,{spaced:"1em"}),u(He,{align:"right"},{default:a(()=>[u(te,{href:O(),target:"_blank",outline:"",icon:"img:/img/logo/vk/VK Logo Black & White.svg",label:"\u041F\u043E\u0434\u0435\u043B\u0438\u0442\u044C\u0441\u044F"},null,8,["href"])]),_:1})]),_:1})])],64))}};var $t=je(Ut,[["__scopeId","data-v-10491d29"]]);const Ot={class:"centralCol"},Ft={class:"eventboxl"},Qt={__name:"AnnouncePage",setup(l){const M=Xu("\u0410\u043D\u043E\u043D\u0441");xu(M);const f=oe(),w=G("editMode"),c=String("https://api.sakh-orch.ru/"),o=iu(),k=S(),O=S(null);J("Announce",O);function r(){ae.post(c+"api/event/announce.php",{params:{method:"get",id:o.params.evid}}).then(D=>{var p,b;O.value=(b=(p=D==null?void 0:D.data)==null?void 0:p.data)!=null?b:null,console.log("Announce loaded")}).catch(D=>{f.notify(ne(D))})}return We(()=>{r()}),(D,p)=>(h(),T(Au,{class:"col myScrollArea"},{default:a(()=>[U("div",Ot,[n(w)&&O.value?(h(),T(St,{key:0,onPosterUploaded:r,onReload:r,ref_key:"editorRef",ref:k},null,512)):P("",!0),U("div",Ft,[O.value?(h(),T($t,{key:0,onDelPoster:p[0]||(p[0]=()=>{k.value.delPoster()})})):P("",!0)])]),u(at)]),_:1}))}};var El=je(Qt,[["__scopeId","data-v-beb09c0a"]]);export{El as default};

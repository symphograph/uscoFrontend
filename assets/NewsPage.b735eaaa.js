import{I as N,H as V,i as p,p as x,r as o,c as C,m,n as u,q as c,v as S,A as Y,l as B,f as d,ax as D,au as P}from"./index.0397f575.js";import{Q}from"./QSelect.c136fed9.js";import{N as R}from"./NewsList.f5edad68.js";import{u as b}from"./use-meta.64659eb5.js";import{u as q}from"./use-quasar.e3a3eea5.js";import{a as E}from"./axios.4457879b.js";import{g as F,n as T}from"./myFuncts.4c1c0a46.js";import{P as U}from"./PageShell.7c45db9f.js";import"./QImg.ed2e8a35.js";import"./QItemLabel.a10d727b.js";import"./QMenu.a86e8c95.js";import"./position-engine.a50f21d0.js";import"./selection.ab5a7a92.js";import"./rtl.276c3f1b.js";import"./format.de7e9769.js";import"./QTooltip.1fff9ced.js";import"./BtnDelete.223bae22.js";import"./plugin-vue_export-helper.21dcd24c.js";import"./MainFooter.vue_vue_type_style_index_0_scoped_true_lang.cdb5b0a7.js";import"./touch.9135741d.js";import"./QScrollArea.a21302d6.js";import"./QLinearProgress.6d0c67fe.js";/* empty css                                                    */const j={class:"centralCol"},ce={__name:"NewsPage",setup(A){const f=String("https://sakh-orch.ru/api/"),r=N(),g=V(),v=q();p("progress");const s=p("editModes").entry;x("editMode",s);const a=o(new Date().getFullYear()),i=o();function y(){console.log(a),P(()=>{i.value.loadData()})}const h=o({all:"\u0412\u0441\u0435 \u043D\u043E\u0432\u043E\u0441\u0442\u0438",euterpe:"\u041D\u043E\u0432\u043E\u0441\u0442\u0438 \u042D\u0432\u0442\u0435\u0440\u043F\u044B",other:"\u041D\u043E\u0432\u043E\u0441\u0442\u0438 \u043F\u0430\u0440\u0442\u043D\u0435\u0440\u043E\u0432",usso:"\u041D\u043E\u0432\u043E\u0441\u0442\u0438 \u043E\u0440\u043A\u0435\u0441\u0442\u0440\u0430"});function _(){E.post(f+"epoint/news/entry.php",{params:{method:"add"}}).then(e=>{r.params.id=e.data.data.id,g.push({path:"/new/"+e.data.data.id})}).catch(e=>{v.notify(T(e))})}function k(){let e=[];for(let t=2018;t<=new Date().getFullYear();t++)e.push(t);return e.reverse()}const n=C(()=>h.value[r.params.category]),w=F(n.value);b(w);const M=o(r.params.category);return(e,t)=>(m(),u(U,{"page-title":n.value},{SideTools:c(()=>[S(s)?(m(),u(Y,{key:0,label:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C",stretch:"",flat:"",onClick:_})):B("",!0),d(Q,{modelValue:a.value,"onUpdate:modelValue":[t[0]||(t[0]=l=>a.value=l),t[1]||(t[1]=l=>y())],options:k(),"emit-value":"",borderless:""},null,8,["modelValue","options"])]),PageContent:c(()=>[D("div",j,[d(R,{year:a.value,limit:100,category:M.value,ref_key:"listRef",ref:i},null,8,["year","category"])])]),_:1},8,["page-title"]))}};export{ce as default};

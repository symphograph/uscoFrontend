import{_ as S,u as b,d as w,i,r as n,p as A,J as u,f as d,g as D,A as o,j as _,c,h as p,a4 as x,D as E,E as I}from"./index.36eea272.js";import{Q as f}from"./QSelect.2bc9c9b1.js";import{Q as P}from"./QLinearProgress.ec8898af.js";import{_ as U}from"./AnnounceList.7ef51ea5.js";import{u as M}from"./use-quasar.d602a2c0.js";import{u as N}from"./use-meta.14098067.js";import{api as j}from"./axios.34a5d64a.js";import{b as C,n as F}from"./myFuncts.24341304.js";import"./QItemSection.3e5ccdeb.js";import"./rtl.ca3627ff.js";import"./position-engine.a766c331.js";import"./format.3e32b8d9.js";import"./AnnounceCard.fd538319.js";import"./QImg.329a704f.js";import"./use-ratio.c08aaacd.js";import"./QTooltip.94141f7a.js";import"./jwt-decode.esm.74bd4619.js";const H=s=>(E("data-v-365de284"),s=s(),I(),s),R={key:0,class:"content"},q={class:"eventsarea"},J={class:"p_title"},K=H(()=>o("div",null,"\u0410\u043D\u043E\u043D\u0441\u044B",-1)),O={class:"selectors"},$={class:"gridarea"},z={__name:"AnnounceListPage",setup(s){N({title:"\u0410\u043D\u043E\u043D\u0441\u044B"});const h=String("https://api.sakh-orch.ru/"),m=M();b();const g=w(),y=i("editMode"),V=i("progress"),k=i("Halls"),l=n({label:"\u0421\u043D\u0430\u0447\u0430\u043B\u0430 \u043D\u043E\u0432\u044B\u0435",value:0}),Y=n([{label:"\u0421\u043D\u0430\u0447\u0430\u043B\u0430 \u043D\u043E\u0432\u044B\u0435",value:0},{label:"\u0421\u043D\u0430\u0447\u0430\u043B\u0430 \u0441\u0442\u0430\u0440\u044B\u0435",value:1}]),r=n(new Date().getFullYear()),B=n([]);A("announceList",B);function L(){let e=[];for(let t=2018;t<=new Date().getFullYear();t++)e.push(t);return e.reverse()}function Q(){j.post(h+"api/event/announce.php",{params:{method:"add"}}).then(e=>{var t,a,v;if(!((t=e==null?void 0:e.data)!=null&&t.result))throw new Error;m.notify(C((v=(a=e==null?void 0:e.data)==null?void 0:a.result)!=null?v:null)),g.push({path:"/announce/"+e.data.data.id})}).catch(e=>{m.notify(F(e))})}return(e,t)=>u(k)?(d(),D("div",R,[o("div",q,[o("div",J,[K,o("div",O,[u(y)?(d(),_(x,{key:0,label:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C",onClick:Q})):c("",!0),p(f,{modelValue:r.value,"onUpdate:modelValue":t[0]||(t[0]=a=>r.value=a),options:L(),"emit-value":""},null,8,["modelValue","options"]),p(f,{modelValue:l.value,"onUpdate:modelValue":t[1]||(t[1]=a=>l.value=a),options:Y.value},null,8,["modelValue","options"])])]),u(V)?(d(),_(P,{key:0,indeterminate:"",color:"secondary"})):c("",!0),o("div",$,[p(U,{evYear:r.value,"onUpdate:evYear":t[2]||(t[2]=a=>r.value=a),method:"listByYear",sort:l.value.value},null,8,["evYear","sort"])])])])):c("",!0)}};var me=S(z,[["__scopeId","data-v-365de284"]]);export{me as default};

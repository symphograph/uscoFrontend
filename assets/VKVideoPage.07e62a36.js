import{i as k,p,r as i,k as x,m as s,n as f,q as d,f as c,A as P,z as w,bi as B,ax as K,D as v,F as M,E as b,l as A}from"./index.11572179.js";import{a as C}from"./axios.8f562e2b.js";import{n as F}from"./myFuncts.7f91abf8.js";import{u as I}from"./use-quasar.894b47c5.js";import"./QList.f13a658d.js";import"./WorkItem.bee3cc17.js";import{P as L}from"./PageShell.f9f99083.js";import"./QImg.5a36287c.js";import"./QItemLabel.06f6b55b.js";/* empty css                                                               */import{_ as Q}from"./plugin-vue_export-helper.21dcd24c.js";import{V as E}from"./VKVideoItem.ab59bc2d.js";import{V as _}from"./lib.be306c2e.js";import"./BtnDelete.3d55e9b3.js";import"./QTooltip.280a1a0c.js";import"./position-engine.1bf61849.js";import"./selection.93775355.js";import"./MainFooter.vue_vue_type_style_index_0_scoped_true_lang.55812a5a.js";import"./touch.9135741d.js";import"./QScrollArea.dd54d94c.js";import"./format.de7e9769.js";import"./QLinearProgress.5ceb5230.js";/* empty css                                                    */import"./QSelect.44bc25a7.js";import"./QMenu.924c0b17.js";import"./rtl.276c3f1b.js";/* empty css               */import"./myAxios.d5d7b004.js";const N={class:"centralCol"},S={key:0,class:"vidarea"},q={__name:"VKVideoPage",setup(T){const l=I(),V=String("https://sakh-orch.ru/api/"),h=k("editModes").libVideo;p("editMode",h);const t=i(!1);p("progress",t);const n=i([]),u=i(""),r=i([]);p("announceList",r);async function m(){t.value=!0;const e=await _.getList(l);n.value=[...e],t.value=!1}async function g(){t.value=!0,await _.updateAllFromVK(l)&&await m(),t.value=!1}function y(){t.value=!0,C.post(V+"epoint/event/announce.php",{params:{method:"listAll"}}).then(e=>{var o,a;r.value=[],r.value=(a=(o=e==null?void 0:e.data)==null?void 0:o.data)!=null?a:[]}).catch(e=>{l.notify(F(e)),r.value=[]}).finally(()=>{t.value=!1})}return x(()=>{y(),m()}),(e,o)=>(s(),f(L,{"page-title":"\u0412\u0438\u0434\u0435\u043E\u0442\u0435\u043A\u0430"},{ToolPanel:d(()=>[c(P,{icon:"refresh",flat:"",stretch:"",onClick:g}),c(B,{modelValue:u.value,"onUpdate:modelValue":o[0]||(o[0]=a=>u.value=a),style:{width:"100%","max-width":"16em"},label:"\u0444\u0438\u043B\u044C\u0442\u0440","stack-label":"",clearable:""},{append:d(()=>[c(w,{name:"search"})]),_:1},8,["modelValue"])]),PageContent:d(()=>[K("div",N,[n.value.length?(s(),v("div",S,[(s(!0),v(M,null,b(n.value,a=>(s(),f(E,{key:a.id,video:a,onOnSave:m},null,8,["video"]))),128))])):A("",!0)])]),_:1}))}};var ve=Q(q,[["__scopeId","data-v-d9d5fad4"]]);export{ve as default};

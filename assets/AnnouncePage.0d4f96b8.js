import{Q as Du,M as Cu}from"./QScrollArea.226a754b.js";import{u as Su}from"./use-meta.954081db.js";import{u as se}from"./use-quasar.76d5ad23.js";import{a as oe,c as Vu}from"./axios.13a9dd52.js";import{Q}from"./QItemLabel.b098b72c.js";import{Q as K,b as Z,a as Ge}from"./QImg.9acd5dae.js";import{V as Eu,X as Bu,bb as Mu,Z as Hu,di as qu,r as D,c as O,w as Me,aL as Iu,W as Uu,h as B,g as $u,dk as Ou,au as Fu,a6 as Qu,a4 as Tu,ak as Te,A as te,i as J,m as _,D as T,f as e,q as t,v as n,bi as ae,z as be,ax as M,n as P,t as $,u as W,B as Pe,x as Le,y as ue,l as F,b as Ke,G as au,d as Ne,k as nu,bk as ou,bl as iu,o as We,bm as Ae,p as G,F as ne,I as su,H as Pu,a as Lu,C as _e,ay as Je,E as Ku}from"./index.7551532c.js";import{Q as He}from"./QSelect.0a2c364d.js";import{Q as ru}from"./QTooltip.1d472130.js";import{T as Nu,c as du}from"./MainFooter.vue_vue_type_style_index_0_scoped_true_lang.4310b693.js";import{a as Wu}from"./style.517948bd.js";/* empty css               */import{u as Ze,b as Yu,c as ju,_ as Be,g as Ru,f as zu,Q as eu,a as Xu}from"./QPopupProxy.c1d5f1b5.js";import{p as he}from"./format.de7e9769.js";import{C as uu}from"./ClosePopup.e4c3b7c0.js";import{n as ie,a as tu,i as Gu,c as Ju,g as Zu}from"./myFuncts.c8e6a03d.js";import{A as et,m as ut}from"./AnnounceCard.5e104b04.js";import{S as tt,Q as lt}from"./QInnerLoading.64fc3760.js";import{m as at}from"./myAuth.5621b016.js";import{S as nt}from"./SelectComposer.a09c7b71.js";import{_ as Ye}from"./BtnDelete.7ba2f2d4.js";import{H as ve}from"./hall.11f74722.js";import{_ as je}from"./plugin-vue_export-helper.21dcd24c.js";import{Q as ot}from"./QVideo.a2772fb1.js";import{_ as lu}from"./PhoneNumber.0c042e9f.js";import"./QToolbarTitle.0aa903d2.js";import"./QLinearProgress.f0942189.js";import"./QMenu.db9d8138.js";import"./position-engine.df2ebaa3.js";import"./selection.a1129063.js";import"./rtl.276c3f1b.js";import"./touch.9135741d.js";import"./use-file.fdbfbc86.js";import"./get-emits-object.a3f16783.js";import"./use-render-cache.3aae9b27.js";import"./myAxios.e960540f.js";import"./QList.fa1c4d9a.js";import"./AuthorItem.6ba73463.js";/* empty css                                                               *//* empty css                                                                   */function it(a,q){if(a.hour!==null){if(a.minute===null)return"minute";if(q===!0&&a.second===null)return"second"}return"hour"}function st(){const a=new Date;return{hour:a.getHours(),minute:a.getMinutes(),second:a.getSeconds(),millisecond:a.getMilliseconds()}}var rt=Eu({name:"QTime",props:{...Bu,...Mu,...Ze,modelValue:{required:!0,validator:a=>typeof a=="string"||a===null},mask:{...Ze.mask,default:null},format24h:{type:Boolean,default:null},defaultDate:{type:String,validator:a=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(a)},options:Function,hourOptions:Array,minuteOptions:Array,secondOptions:Array,withSeconds:Boolean,nowBtn:Boolean},emits:Yu,setup(a,{slots:q,emit:f}){const C=$u(),{$q:c}=C.proxy,i=Hu(a,c),{tabindex:b,headerClass:L,getLocale:s,getCurrentDate:V}=ju(a,c),p=qu(a),k=Ou(p);let g,w;const I=D(null),E=O(()=>De()),x=O(()=>s()),S=O(()=>cu()),N=Be(a.modelValue,E.value,x.value,a.calendar,S.value),v=D(it(N)),r=D(N),H=D(N.hour===null||N.hour<12),we=O(()=>`q-time q-time--${a.landscape===!0?"landscape":"portrait"}`+(i.value===!0?" q-time--dark q-dark":"")+(a.disable===!0?" disabled":a.readonly===!0?" q-time--readonly":"")+(a.bordered===!0?" q-time--bordered":"")+(a.square===!0?" q-time--square no-border-radius":"")+(a.flat===!0?" q-time--flat no-shadow":"")),ke=O(()=>{const u=r.value;return{hour:u.hour===null?"--":Y.value===!0?he(u.hour):String(H.value===!0?u.hour===0?12:u.hour:u.hour>12?u.hour-12:u.hour),minute:u.minute===null?"--":he(u.minute),second:u.second===null?"--":he(u.second)}}),Y=O(()=>a.format24h!==null?a.format24h:c.lang.date.format24h),qe=O(()=>{const u=v.value==="hour",l=u===!0?12:60,d=r.value[v.value];let U=`rotate(${Math.round(d*(360/l))-180}deg) translateX(-50%)`;return u===!0&&Y.value===!0&&r.value.hour>=12&&(U+=" scale(.7)"),{transform:U}}),xe=O(()=>r.value.hour!==null),me=O(()=>xe.value===!0&&r.value.minute!==null),R=O(()=>a.hourOptions!==void 0?u=>a.hourOptions.includes(u):a.options!==void 0?u=>a.options(u,null,null):null),fe=O(()=>a.minuteOptions!==void 0?u=>a.minuteOptions.includes(u):a.options!==void 0?u=>a.options(r.value.hour,u,null):null),pe=O(()=>a.secondOptions!==void 0?u=>a.secondOptions.includes(u):a.options!==void 0?u=>a.options(r.value.hour,r.value.minute,u):null),z=O(()=>{if(R.value===null)return null;const u=h(0,11,R.value),l=h(12,11,R.value);return{am:u,pm:l,values:u.values.concat(l.values)}}),re=O(()=>fe.value!==null?h(0,59,fe.value):null),de=O(()=>pe.value!==null?h(0,59,pe.value):null),ge=O(()=>{switch(v.value){case"hour":return z.value;case"minute":return re.value;case"second":return de.value}}),Ie=O(()=>{let u,l,d=0,A=1;const U=ge.value!==null?ge.value.values:void 0;v.value==="hour"?Y.value===!0?(u=0,l=23):(u=0,l=11,H.value===!1&&(d=12)):(u=0,l=55,A=5);const X=[];for(let y=u,j=u;y<=l;y+=A,j++){const ce=y+d,wu=U!==void 0&&U.includes(ce)===!1,xu=v.value==="hour"&&y===0?Y.value===!0?"00":"12":y;X.push({val:ce,index:j,disable:wu,label:xu})}return X}),m=O(()=>[[Nu,vu,void 0,{stop:!0,prevent:!0,mouse:!0}]]);Me(()=>a.modelValue,u=>{const l=Be(u,E.value,x.value,a.calendar,S.value);(l.dateHash!==r.value.dateHash||l.timeHash!==r.value.timeHash)&&(r.value=l,l.hour===null?v.value="hour":H.value=l.hour<12)}),Me([E,x],()=>{Fu(()=>{Qe()})});function o(){const u={...V(),...st()};Qe(u),Object.assign(r.value,u),v.value="hour"}function h(u,l,d){const A=Array.apply(null,{length:l+1}).map((U,X)=>{const y=X+u;return{index:y,val:d(y)===!0}}).filter(U=>U.val===!0).map(U=>U.index);return{min:A[0],max:A[A.length-1],values:A,threshold:l+1}}function le(u,l,d){const A=Math.abs(u-l);return Math.min(A,d-A)}function ee(u,{min:l,max:d,values:A,threshold:U}){if(u===l)return l;if(u<l||u>d)return le(u,l,U)<=le(u,d,U)?l:d;const X=A.findIndex(ce=>u<=ce),y=A[X-1],j=A[X];return u-y<=j-u?y:j}function De(){return a.calendar!=="persian"&&a.mask!==null?a.mask:`HH:mm${a.withSeconds===!0?":ss":""}`}function cu(){if(typeof a.defaultDate!="string"){const u=V(!0);return u.dateHash=Ru(u),u}return Be(a.defaultDate,"YYYY/MM/DD",void 0,a.calendar)}function Ue(){return Qu(C)===!0||ge.value!==null&&(ge.value.values.length===0||v.value==="hour"&&Y.value!==!0&&z.value[H.value===!0?"am":"pm"].values.length===0)}function $e(){const u=I.value,{top:l,left:d,width:A}=u.getBoundingClientRect(),U=A/2;return{top:l+U,left:d+U,dist:U*.7}}function vu(u){if(Ue()!==!0){if(u.isFirst===!0){g=$e(),w=Ce(u.evt,g);return}w=Ce(u.evt,g,w),u.isFinal===!0&&(g=!1,w=null,Re())}}function Re(){v.value==="hour"?v.value="minute":a.withSeconds&&v.value==="minute"&&(v.value="second")}function Ce(u,l,d){const A=Iu(u),U=Math.abs(A.top-l.top),X=Math.sqrt(Math.pow(Math.abs(A.top-l.top),2)+Math.pow(Math.abs(A.left-l.left),2));let y,j=Math.asin(U/X)*(180/Math.PI);if(A.top<l.top?j=l.left<A.left?90-j:270+j:j=l.left<A.left?j+90:270-j,v.value==="hour"){if(y=j/30,z.value!==null){const ce=Y.value!==!0?H.value===!0:z.value.am.values.length!==0&&z.value.pm.values.length!==0?X>=l.dist:z.value.am.values.length!==0;y=ee(y+(ce===!0?0:12),z.value[ce===!0?"am":"pm"])}else y=Math.round(y),Y.value===!0?X<l.dist?y<12&&(y+=12):y===12&&(y=0):H.value===!0&&y===12?y=0:H.value===!1&&y!==12&&(y+=12);Y.value===!0&&(H.value=y<12)}else y=Math.round(j/6)%60,v.value==="minute"&&re.value!==null?y=ee(y,re.value):v.value==="second"&&de.value!==null&&(y=ee(y,de.value));return d!==y&&yu[v.value](y),y}const Oe={hour(){v.value="hour"},minute(){v.value="minute"},second(){v.value="second"}};function mu(u){u.keyCode===13&&ze()}function fu(u){u.keyCode===13&&Xe()}function pu(u){Ue()!==!0&&(c.platform.is.desktop!==!0&&Ce(u,$e()),Re())}function gu(u){Ue()!==!0&&Ce(u,$e())}function hu(u){if(u.keyCode===13)v.value="hour";else if([37,39].includes(u.keyCode)){const l=u.keyCode===37?-1:1;if(z.value!==null){const d=Y.value===!0?z.value.values:z.value[H.value===!0?"am":"pm"].values;if(d.length===0)return;if(r.value.hour===null)Se(d[0]);else{const A=(d.length+d.indexOf(r.value.hour)+l)%d.length;Se(d[A])}}else{const d=Y.value===!0?24:12,A=Y.value!==!0&&H.value===!1?12:0,U=r.value.hour===null?-l:r.value.hour;Se(A+(24+U+l)%d)}}}function _u(u){if(u.keyCode===13)v.value="minute";else if([37,39].includes(u.keyCode)){const l=u.keyCode===37?-1:1;if(re.value!==null){const d=re.value.values;if(d.length===0)return;if(r.value.minute===null)Ve(d[0]);else{const A=(d.length+d.indexOf(r.value.minute)+l)%d.length;Ve(d[A])}}else{const d=r.value.minute===null?-l:r.value.minute;Ve((60+d+l)%60)}}}function ku(u){if(u.keyCode===13)v.value="second";else if([37,39].includes(u.keyCode)){const l=u.keyCode===37?-1:1;if(de.value!==null){const d=de.value.values;if(d.length===0)return;if(r.value.seconds===null)Ee(d[0]);else{const A=(d.length+d.indexOf(r.value.second)+l)%d.length;Ee(d[A])}}else{const d=r.value.second===null?-l:r.value.second;Ee((60+d+l)%60)}}}function Se(u){r.value.hour!==u&&(r.value.hour=u,ye())}function Ve(u){r.value.minute!==u&&(r.value.minute=u,ye())}function Ee(u){r.value.second!==u&&(r.value.second=u,ye())}const yu={hour:Se,minute:Ve,second:Ee};function ze(){H.value===!1&&(H.value=!0,r.value.hour!==null&&(r.value.hour-=12,ye()))}function Xe(){H.value===!0&&(H.value=!1,r.value.hour!==null&&(r.value.hour+=12,ye()))}function Fe(u){const l=a.modelValue;v.value!==u&&l!==void 0&&l!==null&&l!==""&&typeof l!="string"&&(v.value=u)}function ye(){if(R.value!==null&&R.value(r.value.hour)!==!0){r.value=Be(),Fe("hour");return}if(fe.value!==null&&fe.value(r.value.minute)!==!0){r.value.minute=null,r.value.second=null,Fe("minute");return}if(a.withSeconds===!0&&pe.value!==null&&pe.value(r.value.second)!==!0){r.value.second=null,Fe("second");return}r.value.hour===null||r.value.minute===null||a.withSeconds===!0&&r.value.second===null||Qe()}function Qe(u){const l=Object.assign({...r.value},u),d=a.calendar==="persian"?he(l.hour)+":"+he(l.minute)+(a.withSeconds===!0?":"+he(l.second):""):zu(new Date(l.year,l.month===null?null:l.month-1,l.day,l.hour,l.minute,l.second,l.millisecond),E.value,x.value,l.year,l.timezoneOffset);l.changed=d!==a.modelValue,f("update:modelValue",d,l)}function bu(){const u=[B("div",{class:"q-time__link "+(v.value==="hour"?"q-time__link--active":"cursor-pointer"),tabindex:b.value,onClick:Oe.hour,onKeyup:hu},ke.value.hour),B("div",":"),B("div",xe.value===!0?{class:"q-time__link "+(v.value==="minute"?"q-time__link--active":"cursor-pointer"),tabindex:b.value,onKeyup:_u,onClick:Oe.minute}:{class:"q-time__link"},ke.value.minute)];a.withSeconds===!0&&u.push(B("div",":"),B("div",me.value===!0?{class:"q-time__link "+(v.value==="second"?"q-time__link--active":"cursor-pointer"),tabindex:b.value,onKeyup:ku,onClick:Oe.second}:{class:"q-time__link"},ke.value.second));const l=[B("div",{class:"q-time__header-label row items-center no-wrap",dir:"ltr"},u)];return Y.value===!1&&l.push(B("div",{class:"q-time__header-ampm column items-between no-wrap"},[B("div",{class:"q-time__link "+(H.value===!0?"q-time__link--active":"cursor-pointer"),tabindex:b.value,onClick:ze,onKeyup:mu},"AM"),B("div",{class:"q-time__link "+(H.value!==!0?"q-time__link--active":"cursor-pointer"),tabindex:b.value,onClick:Xe,onKeyup:fu},"PM")])),B("div",{class:"q-time__header flex flex-center no-wrap "+L.value},l)}function Au(){const u=r.value[v.value];return B("div",{class:"q-time__content col relative-position"},[B(Tu,{name:"q-transition--scale"},()=>B("div",{key:"clock"+v.value,class:"q-time__container-parent absolute-full"},[B("div",{ref:I,class:"q-time__container-child fit overflow-hidden"},[Te(B("div",{class:"q-time__clock cursor-pointer non-selectable",onClick:pu,onMousedown:gu},[B("div",{class:"q-time__clock-circle fit"},[B("div",{class:"q-time__clock-pointer"+(r.value[v.value]===null?" hidden":a.color!==void 0?` text-${a.color}`:""),style:qe.value}),Ie.value.map(l=>B("div",{class:`q-time__clock-position row flex-center q-time__clock-pos-${l.index}`+(l.val===u?" q-time__clock-position--active "+L.value:l.disable===!0?" q-time__clock-position--disable":"")},[B("span",l.label)]))])]),m.value)])])),a.nowBtn===!0?B(te,{class:"q-time__now-button absolute",icon:c.iconSet.datetime.now,unelevated:!0,size:"sm",round:!0,color:a.color,textColor:a.textColor,tabindex:b.value,onClick:o}):null])}return C.proxy.setNow=o,()=>{const u=[Au()],l=Uu(q.default);return l!==void 0&&u.push(B("div",{class:"q-time__actions"},l)),a.name!==void 0&&a.disable!==!0&&k(u,"push"),B("div",{class:we.value,tabindex:-1},[bu(),B("div",{class:"q-time__main col overflow-auto"},u)])}}});const dt={class:"q-pa-md",style:{"max-width":"300px",padding:"0"}},ct={class:"row items-center justify-end"},vt={class:"row items-center justify-end"},mt={__name:"DateTime",props:{evDateTime:D("2019-02-01 12:44")},emits:["update:date"],setup(a,{emit:q}){const f=J("Announce");return D(a.evDateTime),(c,i)=>(_(),T("div",dt,[e(ae,{filled:"",modelValue:n(f).eventTime,"onUpdate:modelValue":i[2]||(i[2]=b=>n(f).eventTime=b),mask:"####-##-## ##:##"},{prepend:t(()=>[e(be,{name:"event",class:"cursor-pointer"},{default:t(()=>[e(eu,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:t(()=>[e(Xu,{modelValue:n(f).eventTime,"onUpdate:modelValue":i[0]||(i[0]=b=>n(f).eventTime=b),mask:"YYYY-MM-DD HH:mm"},{default:t(()=>[M("div",ct,[Te(e(te,{label:"\u0417\u0430\u043A\u0440\u044B\u0442\u044C",color:"primary",flat:""},null,512),[[uu]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),append:t(()=>[e(be,{name:"access_time",class:"cursor-pointer"},{default:t(()=>[e(eu,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:t(()=>[e(rt,{modelValue:n(f).eventTime,"onUpdate:modelValue":i[1]||(i[1]=b=>n(f).eventTime=b),mask:"YYYY-MM-DD HH:mm",format24h:""},{default:t(()=>[M("div",vt,[Te(e(te,{label:"\u0417\u0430\u043A\u0440\u044B\u0442\u044C",color:"primary",flat:""},null,512),[[uu]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},ft={__name:"WorkSelectItem",props:{work:Object},setup(a){const q=se();return(f,C)=>(_(),P(Z,{clickable:"",dense:""},{default:t(()=>[e(K,null,{default:t(()=>[e(Q,null,{default:t(()=>[$(W(a.work.titleRu),1)]),_:1}),e(Q,{caption:""},{default:t(()=>[$(W(a.work.titleEn),1)]),_:1})]),_:1}),e(K,{side:"",class:"opus"},{default:t(()=>[e(Q,{caption:""},{default:t(()=>{var c;return[$(W((c=a.work.opus)!=null?c:"Op.?"),1)]}),_:1}),e(Q,{caption:""},{default:t(()=>{var c;return[$(W((c=a.work.icatno)!=null?c:"cat\u2116.?"),1)]}),_:1}),e(Q,{caption:""},{default:t(()=>{var c;return[$(W((c=a.work.catalogIndex)!=null?c:"catIdx: ?"),1)]}),_:1}),e(te,{dense:"","icon-right":"content_copy",flat:"",label:`ID: ${a.work.id}`,onClick:C[0]||(C[0]=Pe(c=>f.copy(a.work.id,n(q)),["prevent","stop"]))},null,8,["label"])]),_:1})]),_:1}))}},pt={__name:"AddWorkDialog",emits:["workSelected"],setup(a,{emit:q}){const f=se(),C=String("https://staff.sakh-orch.ru/stapi/"),c=J("isOpenAddWorkDialog"),i=D(!1),b=J("selectedAuthorId");J("selectedAuthor");const L=q,s=D([]),V=D(null);function p(){console.log("authorSelected"),b.value&&(i.value=!0,oe.post(C+"epoint/lib/work.php",{params:{method:"list",authorId:b.value}}).then(g=>{var w,I;s.value=(I=(w=g==null?void 0:g.data)==null?void 0:w.data)!=null?I:[]}).catch(g=>{s.value=[],f.notify(notifyError(g))}).finally(()=>{i.value=!1}))}function k(){i.value=!1}return(g,w)=>(_(),P(au,{modelValue:n(c),"onUpdate:modelValue":w[2]||(w[2]=I=>Ke(c)?c.value=I:null),onBeforeHide:k},{default:t(()=>[e(Le,{bordered:"",class:"dialogArea"},{default:t(()=>[e(ue,null,{default:t(()=>[e(nt,{onItSel:p})]),_:1}),n(b)?(_(),P(ue,{key:0},{default:t(()=>[e(He,{modelValue:V.value,"onUpdate:modelValue":[w[0]||(w[0]=I=>V.value=I),w[1]||(w[1]=I=>L("workSelected",V.value))],options:s.value,"option-label":"titleRu","option-value":"id","map-options":"",label:"\u041F\u0440\u043E\u0438\u0437\u0432\u0435\u0434\u0435\u043D\u0438\u0435"},{option:t(I=>[e(ft,{work:I.opt},null,8,["work"])]),_:1},8,["modelValue","options"])]),_:1})):F("",!0)]),_:1})]),_:1},8,["modelValue"]))}},gt=Ne({__name:"SuggestSelect",emits:["saved"],setup(a,{emit:q}){const f=se(),C=String("https://sakh-orch.ru/api/"),c=String("https://staff.sakh-orch.ru/stapi/"),i=D(""),b=D(null),L=D([{title:{text:"\u0421\u0430\u0445\u0430\u043B\u0438\u043D\u0441\u043A\u0438\u0439 \u043C\u0435\u0436\u0434\u0443\u043D\u0430\u0440\u043E\u0434\u043D\u044B\u0439 \u0442\u0435\u0430\u0442\u0440\u0430\u043B\u044C\u043D\u044B\u0439 \u0446\u0435\u043D\u0442\u0440 \u0438\u043C\u0435\u043D\u0438 \u0410\u043D\u0442\u043E\u043D\u0430 \u041F\u0430\u0432\u043B\u043E\u0432\u0438\u0447\u0430 \u0427\u0435\u0445\u043E\u0432\u0430",hl:[{begin:26,end:31}]},subtitle:{text:"\u0422\u0435\u0430\u0442\u0440 \xB7 \u041A\u043E\u043C\u043C\u0443\u043D\u0438\u0441\u0442\u0438\u0447\u0435\u0441\u043A\u0438\u0439 \u043F\u0440\u043E\u0441\u043F\u0435\u043A\u0442, 35",hl:[{begin:0,end:5}]},tags:["business","theatre","museum","concert hall"],distance:{value:1178.70231,text:"1.18 \u043A\u043C"}},{title:{text:"\u0421\u0430\u0445\u0430\u043B\u0438\u043D\u0441\u043A\u0438\u0439 \u0442\u0435\u0430\u0442\u0440 \u043A\u0443\u043A\u043E\u043B",hl:[{begin:12,end:17}]},subtitle:{text:"\u0422\u0435\u0430\u0442\u0440 \xB7 \u041A\u043E\u043C\u043C\u0443\u043D\u0438\u0441\u0442\u0438\u0447\u0435\u0441\u043A\u0438\u0439 \u043F\u0440\u043E\u0441\u043F\u0435\u043A\u0442, 28\u0410",hl:[{begin:0,end:5}]},tags:["business","theatre","office service"],distance:{value:1224.330864,text:"1.22 \u043A\u043C"}},{title:{text:"\u041C\u043E\u0441\u043A\u043E\u0432\u0441\u043A\u0438\u0439 \u0434\u0440\u0430\u043C\u0430\u0442\u0438\u0447\u0435\u0441\u043A\u0438\u0439 \u0442\u0435\u0430\u0442\u0440 \u0438\u043C\u0435\u043D\u0438 \u041C. \u041D. \u0415\u0440\u043C\u043E\u043B\u043E\u0432\u043E\u0439",hl:[{begin:25,end:30}]},subtitle:{text:"\u0422\u0435\u0430\u0442\u0440 \xB7 \u041C\u043E\u0441\u043A\u0432\u0430, \u0422\u0432\u0435\u0440\u0441\u043A\u0430\u044F \u0443\u043B\u0438\u0446\u0430, 5/6",hl:[{begin:0,end:5}]},tags:["business","theatre"],distance:{value:6655148389e-3,text:"6655.15 \u043A\u043C"}},{title:{text:"\u0422\u0430\u0442\u0430\u0440\u0441\u043A\u0438\u0439 \u0433\u043E\u0441\u0443\u0434\u0430\u0440\u0441\u0442\u0432\u0435\u043D\u043D\u044B\u0439 \u0442\u0435\u0430\u0442\u0440 \u043A\u0443\u043A\u043E\u043B \u042D\u043A\u0438\u044F\u0442",hl:[{begin:26,end:31}]},subtitle:{text:"\u0422\u0435\u0430\u0442\u0440 \xB7 \u041A\u0430\u0437\u0430\u043D\u044C, \u041F\u0435\u0442\u0435\u0440\u0431\u0443\u0440\u0433\u0441\u043A\u0430\u044F \u0443\u043B\u0438\u0446\u0430, 57",hl:[{begin:0,end:5}]},tags:["business","theatre"],distance:{value:6077098052e-3,text:"6077.10 \u043A\u043C"}},{title:{text:"\u0422\u0435\u0430\u0442\u0440 \u0434\u0440\u0430\u043C\u044B \u0438 \u043A\u043E\u043C\u0435\u0434\u0438\u0438",hl:[{begin:0,end:5}]},subtitle:{text:"\u0422\u0435\u0430\u0442\u0440 \xB7 \u041F\u0435\u0442\u0440\u043E\u043F\u0430\u0432\u043B\u043E\u0432\u0441\u043A-\u041A\u0430\u043C\u0447\u0430\u0442\u0441\u043A\u0438\u0439, \u041B\u0435\u043D\u0438\u043D\u0441\u043A\u0430\u044F \u0443\u043B\u0438\u0446\u0430, 75",hl:[{begin:0,end:5}]},tags:["business","theatre"],distance:{value:1321394665e-3,text:"1321.39 \u043A\u043C"}},{title:{text:"\u0422\u0435\u0430\u0442\u0440 \u041A\u043E\u043B\u0435\u0441\u043E",hl:[{begin:0,end:5}]},subtitle:{text:"\u041E\u0441\u0442\u0430\u043D\u043E\u0432\u043A\u0430 \u043E\u0431\u0449\u0435\u0441\u0442\u0432\u0435\u043D\u043D\u043E\u0433\u043E \u0442\u0440\u0430\u043D\u0441\u043F\u043E\u0440\u0442\u0430 \xB7 \u0422\u043E\u043B\u044C\u044F\u0442\u0442\u0438, \u041B\u0435\u043D\u0438\u043D\u0433\u0440\u0430\u0434\u0441\u043A\u0430\u044F \u0443\u043B\u0438\u0446\u0430, 33\u0410\u04411"},tags:["business","bus stop"],distance:{value:6203127608e-3,text:"6203.13 \u043A\u043C"}},{title:{text:"\u0422\u0435\u0430\u0442\u0440\u0430\u043B\u044C\u043D\u0430\u044F",hl:[{begin:0,end:5}]},subtitle:{text:"\u041E\u0441\u0442\u0430\u043D\u043E\u0432\u043A\u0430 \u043E\u0431\u0449\u0435\u0441\u0442\u0432\u0435\u043D\u043D\u043E\u0433\u043E \u0442\u0440\u0430\u043D\u0441\u043F\u043E\u0440\u0442\u0430 \xB7 \u0421\u043E\u0447\u0438, \u0410-147"},tags:["business","bus stop"],distance:{value:7445799203e-3,text:"7445.80 \u043A\u043C"}}]),s=D([...L.value]),V=q;function p(E,x){if(!E){s.value=[];return}x(()=>{k(E)})}function k(E){const x="https://suggest-maps.yandex.ru/v1/suggest";Vu.get(x,{params:{apikey:i.value,text:E,ull:"142.728060,46.966085",print_address:1,strict_bounds:1,attrs:"uri"},withCredentials:!1,headers:{"Content-Type":"application/json",Accept:"application/json"}}).then(S=>{var v;if(!((v=S==null?void 0:S.data)!=null&&v.results))return;const N=S.data.results;N.forEach((r,H)=>{r.label=r.address.formatted_address,r.value=H}),s.value=N}).catch(S=>{console.error(S),f.notify(ie(S))})}function g(){oe.post(C+"epoint/ya/suggest.php",{params:{method:"add",suggest:b.value}}).then(E=>{var x;if(!((x=E==null?void 0:E.data)!=null&&x.result))throw new Error;V("saved",E.data.data.id)}).catch(E=>{f.notify(ie(E))})}function w(){!b.value||g()}function I(){const E=c+"epoint/ya/suggest.php",x={method:"getApiKey"};oe.post(E,{params:x}).then(S=>{var N;if(!((N=S==null?void 0:S.data)!=null&&N.result))throw new Error("SuggestApiKey Error");i.value=S.data.data.key}).catch(S=>{console.error(S),f.notify(ie(S))})}return nu(()=>{I()}),(E,x)=>i.value?(_(),P(He,{key:0,modelValue:b.value,"onUpdate:modelValue":[x[0]||(x[0]=S=>b.value=S),w],options:s.value,"use-input":"","fill-input":"","hide-selected":"",clearable:"",onFilter:p},{option:t(S=>[e(Z,ou(iu(S.itemProps)),{default:t(()=>[e(K,null,{default:t(()=>[e(Q,null,{default:t(()=>[$(W(S.opt.title.text),1)]),_:2},1024),e(Q,{caption:""},{default:t(()=>{var N,v;return[$(W((v=(N=S.opt)==null?void 0:N.address)==null?void 0:v.formatted_address),1)]}),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","options"])):F("",!0)}}),ht={class:"text-h6"},_t=Ne({__name:"HallDialog",setup(a){const q=se(),f=J("clickedHall"),C=J("IsHallDialogOpen"),c=D(!1);We(()=>{});async function i(){c.value=!0,await f.value.save(q)&&(ve.List.value=await ve.getList(q),C.value=!1),c.value=!1}function b(p){f.value.suggestId=p}function L(){f.value||(f.value=new ve)}function s(){}async function V(p){c.value=!0,await p.del(q)&&(C.value=!1),c.value=!1}return(p,k)=>(_(),P(au,{modelValue:n(C),"onUpdate:modelValue":k[3]||(k[3]=g=>Ke(C)?C.value=g:null),onBeforeShow:L,onBeforeHide:s},{default:t(()=>[e(Le,{bordered:"",class:"dialogArea"},{default:t(()=>[e(K,null,{default:t(()=>[M("div",ht,W(n(f).id>0?"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0437\u0430\u043B":"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0437\u0430\u043B"),1)]),_:1}),e(ue,null,{default:t(()=>[e(ae,{modelValue:n(f).name,"onUpdate:modelValue":k[0]||(k[0]=g=>n(f).name=g),label:"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435","stack-label":""},null,8,["modelValue"]),n(f).id===-1?(_(),P(gt,{key:0,onSaved:b})):(_(),P(Z,{key:1},{default:t(()=>[e(K,null,{default:t(()=>[e(Q,null,{default:t(()=>{var g,w,I;return[$(W((I=(w=(g=n(f))==null?void 0:g.suggest)==null?void 0:w.address)==null?void 0:I.formatted),1)]}),_:1})]),_:1})]),_:1}))]),_:1}),e(Ae,null,{default:t(()=>[e(du),n(f).id>0?(_(),P(Ye,{key:0,label:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C",loading:c.value,"throw-confirm":"",title:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0437\u0430\u043B",danger:"",onOnOk:k[1]||(k[1]=g=>V(n(f)))},null,8,["loading"])):F("",!0),e(te,{label:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C",disable:!n(f).suggestId,loading:c.value,color:"green",onClick:k[2]||(k[2]=g=>i())},null,8,["disable","loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]))}}),kt=Ne({__name:"HallSelect",emits:["selected"],setup(a,{emit:q}){const f=se(),C=J("selectedHall"),c=D(!1),i=D(!1);G("IsHallDialogOpen",c);const b=D(),L=q;function s(g=null){g||(g=new ve),k.value=new ve(g),c.value=!0}function V(){k.value=C.value,L("selected",C.value)}async function p(g){i.value=!0,await g.del(f)&&(c.value=!1),i.value=!1}const k=D(new ve);return G("clickedHall",k),nu(()=>{}),(g,w)=>{var I,E;return _(),T(ne,null,[e(He,{modelValue:n(C),"onUpdate:modelValue":[w[1]||(w[1]=x=>Ke(C)?C.value=x:null),w[2]||(w[2]=x=>V())],label:"\u041C\u0435\u0441\u0442\u043E \u043F\u0440\u043E\u0432\u0435\u0434\u0435\u043D\u0438\u044F","map-options":"","option-label":"name","option-value":"id",options:(E=(I=n(ve).List)==null?void 0:I.value)!=null?E:[],ref_key:"selRef",ref:b},{append:t(()=>[e(te,{icon:"add",round:"",onClick:w[0]||(w[0]=Pe(x=>s(),["prevent","stop"]))},{default:t(()=>[e(ru,null,{default:t(()=>w[3]||(w[3]=[$("\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0437\u0430\u043B")])),_:1})]),_:1})]),option:t(x=>[e(Z,ou(iu(x.itemProps)),{default:t(()=>[e(K,null,{default:t(()=>[e(Q,null,{default:t(()=>[$(W(x.opt.name),1)]),_:2},1024),e(Q,{caption:""},{default:t(()=>[$(W(x.opt.suggest.address.formatted),1)]),_:2},1024)]),_:2},1024),e(K,{side:""},{default:t(()=>[e(Ye,{danger:"","throw-confirm":"",flat:"",loading:i.value,tooltip:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0437\u0430\u043B",title:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0437\u0430\u043B: "+x.opt.name,onOnOk:S=>p(x.opt)},null,8,["loading","title","onOnOk"])]),_:2},1024),e(K,{side:""},{default:t(()=>[e(te,{icon:"edit",flat:"",onClick:Pe(S=>s(x.opt),["prevent","stop"])},null,8,["onClick"])]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","options"]),e(_t)],64)}}});const yt={key:0,class:"eventsarea"},bt={class:"editArea"},At={key:0,class:"card"},wt={class:"editor"},xt={style:{display:"flex","justify-content":"space-between"}},Dt={key:0,class:"uploads"},Ct={style:{width:"100%"}},St={class:"uploads"},Vt={__name:"AnnounceEditor",emits:["reload","posterUploaded"],setup(a,{expose:q,emit:f}){const C=String("https://staff.sakh-orch.ru/stapi/"),c=String("https://sakh-orch.ru/api/"),i=se(),b=su(),L=Pu(),s=J("Announce"),V=D(s.value.Hall);G("selectedHall",V);function p(m){console.log(m),s.value.hallId=m.id,s.value.Hall=m}const k=D("");G("pwUrl",k);const g=f,w={};function I(){}const E=[{label:"\u0412\u0445\u043E\u0434 \u0441\u0432\u043E\u0431\u043E\u0434\u043D\u044B\u0439",value:2},{label:"\u0411\u0438\u043B\u0435\u0442\u044B \u0432 \u043F\u0440\u043E\u0434\u0430\u0436\u0435",value:3},{label:"\u0412\u0445\u043E\u0434 \u043F\u043E \u043F\u0440\u0438\u0433\u043B\u0430\u0441\u0438\u0442\u0435\u043B\u044C\u043D\u044B\u043C",value:4},{label:"\u041F\u0440\u043E\u0434\u0430\u0436\u0430 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043D\u0430",value:5}],x=D(null),S=D(null),N=D(!1);G("isOpenAddWorkDialog",N);const v=D([]);G("AuthorSelectList",v);const r=D(!1);G("loadingAuthors",r);const H=D(0);G("selectedAuthorId",H);const we=D(null);G("selectedAuthor",we),Me(H,()=>{we.value=v.value.find(m=>m.id===H.value)});function ke(){r.value=!0,oe.post(C+"epoint/lib/author.php",{params:{method:"all"}}).then(m=>{var o,h;v.value=(h=(o=m==null?void 0:m.data)==null?void 0:o.data)!=null?h:[]}).catch(m=>{v.value=[],i.notify(ie(m))}).finally(()=>{r.value=!1})}function Y(m){return{url:c+"epoint/event/poster.php",headers:[{name:"ACCESSTOKEN",value:at.self.AccessToken}],formFields:[{name:"id",value:s.value.id},{name:"method",value:"add"}]}}function qe(m){i.notify(tu("\u0417\u0430\u0433\u0440\u0443\u0436\u0435\u043D\u043E")),g("posterUploaded")}function xe(m){i.notify(tu("\u0417\u0430\u0433\u0440\u0443\u0436\u0435\u043D\u043E")),g("posterUploaded"),x.value.reset(),me.value=!0}const me=D(!1);let R=null;Me(me,m=>{console.log("photoWatcher"),m&&!R?R=setInterval(Ie,3e3):!m&&R&&(clearInterval(R),R=null)});function fe(m){var h,le,ee;let o=(ee=(le=JSON.parse((h=m==null?void 0:m.xhr)==null?void 0:h.response))==null?void 0:le.error)!=null?ee:"";i.notify(ie(null,o))}function pe(){ut.save(i,s.value)}function z(){L.push({path:"/announces"})}function re(){g("reload")}function de(){delete s.value.sketch,delete s.value.sketchId}function ge(){oe.post(c+"epoint/event/announce.php",{params:{method:"updateMarkdown",id:s.value.id,markdown:s.value.description}}).then(m=>{var o;if(!((o=m==null?void 0:m.data)!=null&&o.result))throw new Error;s.value.parsedMD=m==null?void 0:m.data.data}).catch(m=>{})}function Ie(){oe.post(c+"epoint/event/poster.php",{params:{method:"get",announceId:b.params.evid}}).then(m=>{var o,h,le,ee,De;if(!((o=m==null?void 0:m.data)!=null&&o.result))throw new Error;s.value.poster=(le=(h=m==null?void 0:m.data)==null?void 0:h.data)!=null?le:null,((De=(ee=s.value)==null?void 0:ee.poster)==null?void 0:De.status)!=="process"&&(me.value=!1)}).catch(m=>{me.value=!1,i.notify(ie(m))}).finally(()=>{})}return q({}),We(()=>{ke()}),Lu(()=>{R&&clearInterval(R)}),(m,o)=>(_(),T(ne,null,[n(s)?(_(),T("div",yt,[M("div",bt,[n(i).platform.is.desktop?(_(),T("div",At,[n(s).Hall?(_(),P(et,{key:0,onIamDeleted:z,onNewAnnounce:re,onDelSketch:de,ref_key:"rAnnounceCard",ref:S,Announce:n(s),pwUrl:k.value},null,8,["Announce","pwUrl"])):F("",!0)])):F("",!0),M("div",wt,[M("div",xt,[e(mt,{date:n(s).eventTime,"onUpdate:date":[o[0]||(o[0]=h=>n(s).eventTime=h),o[1]||(o[1]=h=>void 0)]},null,8,["date"])]),o[18]||(o[18]=M("br",null,null,-1)),o[19]||(o[19]=M("hr",null,null,-1)),n(i).platform.is.desktop?(_(),T("div",Dt,[M("div",Ct,[e(tt,{id:n(s).id,type:"event",onOnUploaded:qe},null,8,["id"])])])):(_(),P(Z,{key:1},{default:t(()=>[e(K,null,{default:t(()=>[e(Q,{caption:""},{default:t(()=>o[13]||(o[13]=[$(" \u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430 \u044D\u0441\u043A\u0438\u0437\u0430 \u043D\u0435 \u043F\u043E\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u043C\u043E\u0431\u0438\u043B\u044C\u043D\u044B\u0435 \u0443\u0441\u0442\u0440\u043E\u0439\u0441\u0442\u0432\u0430 ")])),_:1})]),_:1})]),_:1})),e(_e,{spaced:"1em"}),e(ae,{name:"progName",modelValue:n(s).progName,"onUpdate:modelValue":o[2]||(o[2]=h=>n(s).progName=h),label:"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435"},null,8,["modelValue"]),e(kt,{onSelected:p}),e(He,{modelValue:n(s).pay,"onUpdate:modelValue":o[3]||(o[3]=h=>n(s).pay=h),"emit-value":"","map-options":"",label:"\u0423\u0441\u043B\u043E\u0432\u0438\u044F \u0432\u0445\u043E\u0434\u0430",options:E},null,8,["modelValue"]),o[20]||(o[20]=M("br",null,null,-1)),[3,4].includes(n(s).pay)?(_(),T(ne,{key:2},[e(ae,{type:"text",modelValue:n(s).ticketLink,"onUpdate:modelValue":o[4]||(o[4]=h=>n(s).ticketLink=h),label:"\u0421\u0441\u044B\u043B\u043A\u0430 \u043D\u0430 \u043F\u0440\u0438\u043E\u0431\u0440\u0435\u0442\u0435\u043D\u0438\u0435 \u0431\u0438\u043B\u0435\u0442\u043E\u0432"},null,8,["modelValue"]),o[15]||(o[15]=M("br",null,null,-1)),e(ae,{modelValue:n(s).radarioEventId,"onUpdate:modelValue":o[5]||(o[5]=h=>n(s).radarioEventId=h),type:"number","stack-label":"",placeholder:"1234567",label:"ID \u043C\u0435\u0440\u043E\u043F\u0440\u0438\u044F\u0442\u0438\u044F \u043D\u0430 Radario"},{default:t(()=>[e(ru,null,{default:t(()=>o[14]||(o[14]=[$("\u0426\u0438\u0444\u0440\u044B \u0432 \u043A\u043E\u043D\u0446\u0435 \u0441\u0441\u044B\u043B\u043A\u0438 \u043D\u0430 \u043F\u043E\u043A\u0443\u043F\u043A\u0443 \u0431\u0438\u043B\u0435\u0442\u043E\u0432")])),_:1})]),_:1},8,["modelValue"]),o[16]||(o[16]=M("br",null,null,-1)),e(Ae,null,{default:t(()=>[e(Je,{modelValue:n(s).isPushkin,"onUpdate:modelValue":o[6]||(o[6]=h=>n(s).isPushkin=h),label:"\u041F\u0443\u0448\u043A\u0438\u043D\u0441\u043A\u0430\u044F \u043A\u0430\u0440\u0442\u0430",color:"green"},null,8,["modelValue"]),e(du),e(Je,{modelValue:n(s).isShowTicketCount,"onUpdate:modelValue":o[7]||(o[7]=h=>n(s).isShowTicketCount=h),color:"green",label:"\u041E\u0441\u0442\u0430\u0442\u043E\u043A \u0431\u0438\u043B\u0435\u0442\u043E\u0432"},null,8,["modelValue"])]),_:1}),o[17]||(o[17]=M("br",null,null,-1))],64)):F("",!0),e(ae,{type:"number",modelValue:n(s).age,"onUpdate:modelValue":o[8]||(o[8]=h=>n(s).age=h),label:"\u0412\u043E\u0437\u0440\u0430\u0441\u0442\u043D\u044B\u0435 \u043E\u0433\u0440\u0430\u043D\u0438\u0447\u0435\u043D\u0438\u044F"},null,8,["modelValue"]),o[21]||(o[21]=M("br",null,null,-1)),e(_e,{spaced:""}),e(ae,{name:"evDescr",modelValue:n(s).sdescr,"onUpdate:modelValue":o[9]||(o[9]=h=>n(s).sdescr=h),type:"textarea",autogrow:"",label:"\u041A\u0440\u0430\u0442\u043A\u043E\u0435 \u043E\u043F\u0438\u0441\u0430\u043D\u0438\u0435"},null,8,["modelValue"]),o[22]||(o[22]=M("br",null,null,-1)),e(ae,{name:"evText",modelValue:n(s).description,"onUpdate:modelValue":[o[10]||(o[10]=h=>n(s).description=h),o[11]||(o[11]=h=>ge())],type:"textarea",autogrow:"",debounce:300,label:"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435"},null,8,["modelValue"]),e(_e,{spaced:"1em"}),M("div",St,[e(Wu,{modelValue:w,"onUpdate:modelValue":o[12]||(o[12]=h=>w=h),style:{width:"100%"},label:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C \u0430\u0444\u0438\u0448\u0443",factory:Y,ref_key:"posterUploader",ref:x,onUploaded:xe,onFailed:fe,"no-thumbnails":""},null,512)]),e(Ae,{align:"right"},{default:t(()=>[e(te,{label:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C",onClick:pe,color:"green"})]),_:1})]),e(_e,{spaced:"1em"})])])):F("",!0),o[24]||(o[24]=M("br",null,null,-1)),o[25]||(o[25]=M("hr",null,null,-1)),o[26]||(o[26]=M("br",null,null,-1)),F("",!0),e(pt)],64))}};var Et=je(Vt,[["__scopeId","data-v-3d81744a"]]);const Bt={key:0,class:"posterArea relative-position"},Mt={key:0,style:{position:"absolute",right:"1em",top:"1em","z-index":"10"}},Ht={class:"eventboxin"},qt={key:0},It=["innerHTML"],Ut={key:1},$t={key:1,class:"videoItem"},Ot={__name:"AnnounceDescr",emits:["delPoster"],setup(a,{emit:q}){const f=String("https://sakh-orch.ru/api/"),C=se(),c=J("editMode"),i=J("Announce"),b=O(()=>{let V=C.platform.is.mobile?1080:480;return i.value.poster?Gu(f,i.value.poster.md5,i.value.poster.ext,V):"/img/news/default_sketch.svg"});function L(){return"https://vk.com/share.php?url="+String("https://sakh-orch.ru/")+"/announce/"+String(i.value.id)+"&title="+String(i.value.progName)+"&noparse=true&image="+String(b.value)}function s(){oe.post(f+"epoint/event/poster.php",{params:{method:"unlink",id:i.value.id}}).then(V=>{var p;if(!((p=V==null?void 0:V.data)!=null&&p.result))throw new Error;delete i.value.poster,delete i.value.posterId}).catch(V=>{C.notify(ie(V))})}return(V,p)=>(_(),T(ne,null,[n(i).poster?(_(),T("div",Bt,[n(c)?(_(),T("div",Mt,[e(Ye,{"throw-confirm":"",title:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0430\u0444\u0438\u0448\u0443",tooltip:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0430\u0444\u0438\u0448\u0443",onOnOk:p[0]||(p[0]=k=>s())})])):F("",!0),n(i).poster.status==="process"?(_(),P(Z,{key:1},{default:t(()=>[e(Ge),e(K,null,{default:t(()=>[e(lt,{showing:"",label:"\u041E\u0431\u0440\u0430\u0431\u043E\u0442\u043A\u0430"})]),_:1})]),_:1})):(_(),P(Ge,{key:2,src:b.value},{error:t(()=>p[1]||(p[1]=[M("img",{src:"/img/news/default_sketch.svg"},null,-1)])),_:1},8,["src"]))])):F("",!0),M("div",Ht,[e(Le,{class:"transparent no-padding",flat:""},{default:t(()=>[e(ue,{class:"no-padding"},{default:t(()=>[e(Z,null,{default:t(()=>[e(K,null,{default:t(()=>[e(Q,{class:"title"},{default:t(()=>[$(W(n(i).progName),1)]),_:1}),e(Q,{class:"title"},{default:t(()=>[$(W(n(Ju)(n(i).eventTime)),1)]),_:1})]),_:1})]),_:1})]),_:1}),e(ue,null,{default:t(()=>[(_(!0),T(ne,null,Ku(n(i).parsedMD,(k,g)=>(_(),T(ne,{key:g},[k.type==="text"?(_(),T("div",qt,[k.content!==`
`?(_(),T("div",{key:0,innerHTML:k.content,class:"textBlock"},null,8,It)):(_(),T("br",Ut))])):F("",!0),k.type==="video"?(_(),T("div",$t,[e(ot,{ratio:16/9,src:"https://www.youtube.com/embed/"+k.content},null,8,["src"])])):F("",!0)],64))),128))]),_:1}),!n(i).completed&&[3,4].includes(n(i).pay)&&n(i).ticketLink?(_(),P(Ae,{key:0,align:"right"})):F("",!0),e(ue,null,{default:t(()=>[e(Z,{dense:""},{default:t(()=>[e(Q,{caption:""},{default:t(()=>p[2]||(p[2]=[$(" \u0423\u0432\u0430\u0436\u0430\u0435\u043C\u044B\u0435 \u043F\u043E\u0441\u0435\u0442\u0438\u0442\u0435\u043B\u0438, \u0443\u0431\u0435\u0434\u0438\u0442\u0435\u043B\u044C\u043D\u0430\u044F \u043F\u0440\u043E\u0441\u044C\u0431\u0430 \u0441\u043E\u0431\u043B\u044E\u0434\u0430\u0442\u044C \u043C\u0435\u0440\u044B \u0431\u0435\u0437\u043E\u043F\u0430\u0441\u043D\u043E\u0441\u0442\u0438 \u0432 \u0441\u0432\u044F\u0437\u0438 \u0441 \u0440\u0430\u0441\u043F\u0440\u043E\u0441\u0442\u0440\u0430\u043D\u0435\u043D\u0438\u0435\u043C \u043A\u043E\u0440\u043E\u043D\u0430\u0432\u0438\u0440\u0443\u0441\u043D\u043E\u0439 \u0438\u043D\u0444\u0435\u043A\u0446\u0438\u0438! ")])),_:1})]),_:1})]),_:1}),e(ue,null,{default:t(()=>[e(Z,{clickable:"",href:n(i).Hall.map,target:"_blank"},{default:t(()=>[e(K,{avatar:""},{default:t(()=>[e(be,{name:"place"})]),_:1}),e(K,null,{default:t(()=>[e(Q,null,{default:t(()=>[$(W(n(i).Hall.name),1)]),_:1}),e(Q,{caption:""},{default:t(()=>[$(W(n(i).Hall.suggest.address.formatted),1)]),_:1})]),_:1})]),_:1},8,["href"])]),_:1}),!n(i).completed&&[3,4].includes(n(i).pay)&&n(i).ticketLink?(_(),P(ue,{key:1},{default:t(()=>[e(Z,{clickable:"",href:n(i).ticketLink,target:"_blank"},{default:t(()=>[n(i).pay===3?(_(),T(ne,{key:0},[e(K,{avatar:""},{default:t(()=>[e(be,{name:"shopping_cart"})]),_:1}),e(K,null,{default:t(()=>[e(Q,null,{default:t(()=>p[3]||(p[3]=[$("\u041A\u0443\u043F\u0438\u0442\u044C \u0431\u0438\u043B\u0435\u0442")])),_:1}),n(i).isPushkin?(_(),P(Q,{key:0,caption:""},{default:t(()=>p[4]||(p[4]=[$("+ \u0414\u043E\u0441\u0442\u0443\u043F\u043D\u043E \u043F\u043E \u043F\u0443\u0448\u043A\u0438\u043D\u0441\u043A\u043E\u0439 \u043A\u0430\u0440\u0442\u0435")])),_:1})):F("",!0)]),_:1})],64)):F("",!0),n(i).pay===4?(_(),T(ne,{key:1},[e(K,{avatar:""},{default:t(()=>[e(be,{name:"img:/img/uds.svg"})]),_:1}),e(K,null,{default:t(()=>[e(Q,null,{default:t(()=>p[5]||(p[5]=[$("\u041F\u043E\u043B\u0443\u0447\u0438\u0442\u044C \u043F\u0440\u0438\u0433\u043B\u0430\u0441\u0438\u0442\u0435\u043B\u044C\u043D\u044B\u0439")])),_:1})]),_:1})],64)):F("",!0)]),_:1},8,["href"])]),_:1})):F("",!0),e(_e),e(ue,{class:"no-padding"},{default:t(()=>[e(lu,{"phone-number":"+7-(4242)-300-518"}),e(lu,{"phone-number":"+7-(962)-416-36-89"})]),_:1}),e(_e,{spaced:"1em"}),e(Ae,{align:"right"},{default:t(()=>[e(te,{href:L(),target:"_blank",outline:"",icon:"img:/img/logo/vk/VK Logo Black & White.svg",label:"\u041F\u043E\u0434\u0435\u043B\u0438\u0442\u044C\u0441\u044F"},null,8,["href"])]),_:1})]),_:1})])],64))}};var Ft=je(Ot,[["__scopeId","data-v-f32b83ae"]]);const Qt={class:"centralCol"},Tt={class:"eventboxl"},Pt={__name:"AnnouncePage",setup(a){const q=Zu("\u0410\u043D\u043E\u043D\u0441");Su(q);const f=se(),c=J("editModes").announce;G("editMode",c);const i=String("https://sakh-orch.ru/api/"),b=su(),L=D(),s=D(null);G("Announce",s);function V(){oe.post(i+"epoint/event/announce.php",{params:{method:"get",id:b.params.evid}}).then(p=>{var k,g;s.value=(g=(k=p==null?void 0:p.data)==null?void 0:k.data)!=null?g:null,console.log("Announce loaded")}).catch(p=>{f.notify(ie(p))})}return We(()=>{V()}),(p,k)=>(_(),P(Du,{class:"col myScrollArea"},{default:t(()=>[M("div",Qt,[n(c)&&s.value?(_(),P(Et,{key:0,onPosterUploaded:V,onReload:V,ref_key:"editorRef",ref:L},null,512)):F("",!0),M("div",Tt,[s.value?(_(),P(Ft,{key:0,onDelPoster:k[0]||(k[0]=()=>{L.value.delPoster()})})):F("",!0)])]),e(Cu)]),_:1}))}};var Vl=je(Pt,[["__scopeId","data-v-6738d0fd"]]);export{Vl as default};

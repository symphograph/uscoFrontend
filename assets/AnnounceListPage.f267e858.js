import{_ as S,i as r,S as b,aR as A,r as l,y as p,z as d,A as I,H as a,D as Y,I as m,B as u,N as x,O as D,P as N}from"./index.9ebc3289.js";import{Q as v}from"./QSelect.0b4a74eb.js";import{_ as P}from"./AnnounceList.a50a5074.js";import{u as Q}from"./use-quasar.db85b148.js";import{u as U}from"./use-meta.d05aa2a1.js";import{api as H}from"./axios.4bd335be.js";import"./QItem.dae1c400.js";import"./rtl.146cb05f.js";import"./position-engine.fcbe0861.js";import"./format.3e32b8d9.js";import"./AnnounceCard.00380cf0.js";import"./QImg.6e4db293.js";import"./use-ratio.c85728c3.js";import"./QTooltip.ebc35013.js";import"./myFuncts.b846463d.js";import"./moment.9709ab41.js";const L=s=>(D("data-v-dcf6ce4a"),s=s(),N(),s),M={key:0,class:"content"},R={class:"eventsarea"},w={class:"p_title"},C=L(()=>a("div",null,"\u0410\u0444\u0438\u0448\u0438",-1)),j={class:"selectors"},q={class:"gridarea"},z={__name:"AnnounceListPage",setup(s){U({title:"\u0410\u043D\u043E\u043D\u0441\u044B"});const _=String("https://api.sakh-orch.ru/"),i=Q(),f=r("token");r("lvl"),b();const g=A(),h=r("editMode");l(null);const k=r("Halls"),c=l({label:"\u0421\u043D\u0430\u0447\u0430\u043B\u0430 \u043D\u043E\u0432\u044B\u0435",value:0}),y=l([{label:"\u0421\u043D\u0430\u0447\u0430\u043B\u0430 \u043D\u043E\u0432\u044B\u0435",value:0},{label:"\u0421\u043D\u0430\u0447\u0430\u043B\u0430 \u0441\u0442\u0430\u0440\u044B\u0435",value:1}]),B=[2023,2022,2021,2020,2019,2018],n=l(new Date().getFullYear());function V(){H.post(_+"api/set/announces/addannounce.php",{params:{token:f.value}}).then(t=>{if(t.data.result)return i.notify({type:"positive",position:"center",message:"\u0413\u043E\u0442\u043E\u0432\u043E",timeout:1,closeBtn:"\u041E\u043A"}),g.push({path:"/announce/"+t.data.data.ev_id}),!0;let e="\u041E\u0439! \u041A\u0430\u043A\u0430\u044F \u0434\u043E\u0441\u0430\u0434\u0430!";t.data.error&&(e=t.data.error),i.notify({color:"negative",position:"center",message:e,icon:"report_problem",closeBtn:"\u0417\u0430\u043A\u0440\u044B\u0442\u044C"})}).catch(()=>{i.notify({color:"negative",position:"center",message:"\u0421\u0435\u0440\u0432\u0435\u0440 \u043D\u0435 \u043E\u0442\u0432\u0435\u0447\u0430\u0435\u0442",icon:"report_problem",closeBtn:"\u0417\u0430\u043A\u0440\u044B\u0442\u044C"})})}return(t,e)=>p(k)?(d(),I("div",M,[a("div",R,[a("div",w,[C,a("div",j,[p(h)?(d(),Y(x,{key:0,label:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C",onClick:V})):m("",!0),u(v,{modelValue:n.value,"onUpdate:modelValue":e[0]||(e[0]=o=>n.value=o),options:B,"emit-value":""},null,8,["modelValue"]),u(v,{modelValue:c.value,"onUpdate:modelValue":e[1]||(e[1]=o=>c.value=o),options:y.value},null,8,["modelValue","options"])])]),a("div",q,[u(P,{evYear:n.value,"onUpdate:evYear":e[2]||(e[2]=o=>n.value=o),sort:c.value.value},null,8,["evYear","sort"])])])])):m("",!0)}};var re=S(z,[["__scopeId","data-v-dcf6ce4a"]]);export{re as default};

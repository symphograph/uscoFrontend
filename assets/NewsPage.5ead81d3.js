import{Q as B}from"./QToolbarTitle.a3293233.js";import{Q as m}from"./QToolbar.246d14da.js";import{Q as C}from"./QSpace.b4e0a77c.js";import{u as D,G as S,i as c,r as o,c as Y,m as l,A as F,a7 as d,f as t,q as n,b0 as M,C as f,n as _,l as g,F as P,v as R,a1 as q,x as E,al as L}from"./index.7ddf54de.js";import{Q as U}from"./QSelect.ce6ecb16.js";import{Q as $}from"./QLinearProgress.f77bc0a4.js";import{N as j}from"./NewsList.bdb738b6.js";import{u as z}from"./use-meta.34b46143.js";import{u as A}from"./use-quasar.bae2301b.js";import{api as G}from"./axios.a22f84a8.js";import{g as I,n as H}from"./myFuncts.3679a5e3.js";import{_ as J}from"./plugin-vue_export-helper.21dcd24c.js";import"./QItem.cbdda9a5.js";import"./QItemLabel.af98036f.js";import"./format.6e35a30b.js";import"./position-engine.da29bb58.js";import"./rtl.b51694b1.js";import"./QTooltip.79185bb0.js";import"./QImg.b604589a.js";import"./use-ratio.18934406.js";const K={class:"selectors"},O={__name:"NewsPage",setup(W){const v=String("https://api.sakh-orch.ru/"),s=D(),y=S(),Q=A(),w=c("progress"),h=c("editMode"),r=o(new Date().getFullYear()),i=o();function k(){console.log(r),L(()=>{i.value.loadData()})}const N=o({all:"\u0412\u0441\u0435 \u043D\u043E\u0432\u043E\u0441\u0442\u0438",euterpe:"\u041D\u043E\u0432\u043E\u0441\u0442\u0438 \u042D\u0432\u0442\u0435\u0440\u043F\u044B",other:"\u041D\u043E\u0432\u043E\u0441\u0442\u0438 \u043F\u0430\u0440\u0442\u043D\u0435\u0440\u043E\u0432",usso:"\u041D\u043E\u0432\u043E\u0441\u0442\u0438 \u043E\u0440\u043A\u0435\u0441\u0442\u0440\u0430"});function x(){G.post(v+"api/news/entry.php",{params:{method:"add"}}).then(e=>{s.params.id=e.data.data.id,y.push({path:"/new/"+e.data.data.id})}).catch(e=>{Q.notify(H(e))})}function V(){let e=[];for(let a=2018;a<=new Date().getFullYear();a++)e.push(a);return e.reverse()}const p=Y(()=>N.value[s.params.category]),b=I(p.value);z(b);const T=o(s.params.category);return(e,a)=>(l(),F(P,null,[d("div",{class:M(["pageToolbar",e.$q.platform.is.desktop?"no-wrap":"wrap"])},[t(m,null,{default:n(()=>[t(B,null,{default:n(()=>[R(q(p.value),1)]),_:1})]),_:1}),t(m,null,{default:n(()=>[t(C),d("div",K,[f(h)?(l(),_(E,{key:0,label:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C",onClick:x})):g("",!0),t(U,{modelValue:r.value,"onUpdate:modelValue":[a[0]||(a[0]=u=>r.value=u),a[1]||(a[1]=u=>k())],options:V(),"emit-value":"",borderless:""},null,8,["modelValue","options"])])]),_:1})],2),f(w)?(l(),_($,{key:0,indeterminate:"",color:"secondary"})):g("",!0),t(j,{year:r.value,limit:100,category:T.value,ref_key:"listRef",ref:i},null,8,["year","category"])],64))}};var ye=J(O,[["__scopeId","data-v-d2f6cc56"]]);export{ye as default};

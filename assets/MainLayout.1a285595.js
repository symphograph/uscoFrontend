import{u as A,d as j}from"./myFuncts.74a70e4a.js";import{a as N}from"./axios.038569ac.js";import{S as Q,A as y,a as E,m as M}from"./myAuth.b47766b8.js";import{H as S}from"./hall.f8ee9fc7.js";import{d as z,i as L,k as I,o as V,l as T,r as n,m as c,n as k,p as t,f as e,Q as G,q as d,t as J,u as p,v as K,x,y as O,z as X,A as Y,B as Z,C as $,F as B,D as ee,b as te,E as oe,G as ae,H as se,I as i,w as ne,J as le}from"./index.5c8c6e25.js";import{P as w}from"./LocalStorage.bc5eb9ca.js";import{u as ie}from"./use-meta.caf478d4.js";import{Q as m}from"./QItemLabel.9c6df7b6.js";import{Q as u,a as re,b}from"./QImg.8966981e.js";/* empty css               */import{_ as ue}from"./plugin-vue_export-helper.21dcd24c.js";import"./myAxios.eee9d248.js";const ce=z({__name:"AuthComponent",setup(f){const a=A(),g=L("isOptionsLoaded");async function s(){console.log("loadOptions started");const v=await S.getList(a);S.List=n(v),S.List.value.length?(g.value=!0,console.log("options Loaded")):console.error("Halls is empty")}async function r(){await E.register(a)&&await s()}async function _(){await y.refresh(a)&&await s()}return I(()=>{console.log("auth beforeMounted"),N.defaults.headers.common.Accept="application/json"}),V(()=>{console.log("auth Mounted"),!Q.get(a)||!y.get(a)?r():(Q.set(a,Q.get(a)),y.set(a,y.get(a)),_())}),(v,o)=>T("",!0)}}),fe={__name:"DynamicFormItem",props:{btnLabel:String,icon:String,url:String},setup(f){A();const a=f;return(g,s)=>(c(),k(b,{clickable:"",onClick:s[0]||(s[0]=r=>p(j)(f.url,{AccessToken:p(M).self.AccessToken,SessionToken:p(M).self.SessionToken}))},{default:t(()=>[e(u,{avatar:""},{default:t(()=>[e(G,null,{default:t(()=>[e(re,{src:f.icon},null,8,["src"])]),_:1})]),_:1}),e(u,null,{default:t(()=>[e(m,{caption:""},{default:t(()=>s[1]||(s[1]=[d("\u0412\u043E\u0439\u0442\u0438 \u0447\u0435\u0440\u0435\u0437")])),_:1}),e(m,null,{default:t(()=>[d(J(a.btnLabel),1)]),_:1})]),_:1})]),_:1}))}};const de={__name:"LoginDialog",setup(f){const a=L("authTypes"),g=String("https://sakh-orch.ru/auth/"),s=L("showLoginDialog"),r=L("leftDrawerOpen");function _(){r.value=!1}return(v,o)=>(c(),k(oe,{modelValue:p(s),"onUpdate:modelValue":o[3]||(o[3]=l=>te(s)?s.value=l:null),onHide:o[4]||(o[4]=l=>_())},{default:t(()=>[e(K,{class:"dialogArea",style:{color:"var(--dTitle)"}},{default:t(()=>[e(x,null,{default:t(()=>[e(b,{dense:""},{default:t(()=>[e(u,null,{default:t(()=>[e(m,{lines:"1",class:"cardTitle"},{default:t(()=>[e(O,{name:"lock"}),o[5]||(o[5]=d("\u0421\u043B\u0443\u0436\u0435\u0431\u043D\u044B\u0439 \u0432\u0445\u043E\u0434"))]),_:1})]),_:1}),e(u,{side:""},{default:t(()=>[e(X,{round:"",flat:"",icon:"close",onMouseover:o[0]||(o[0]=()=>console.log("kjk")),onClick:o[1]||(o[1]=Y(l=>s.value=!1,["stop","prevent"]))})]),_:1})]),_:1}),e(Z),e(b,null,{default:t(()=>[e(u,null,{default:t(()=>[e(m,null,{default:t(()=>o[6]||(o[6]=[d(" \u041F\u0440\u0435\u0434\u043D\u0430\u0437\u043D\u0430\u0447\u0435\u043D \u0434\u043B\u044F \u0441\u043E\u0442\u0440\u0443\u0434\u043D\u0438\u043A\u043E\u0432 \u043E\u0440\u043A\u0435\u0441\u0442\u0440\u0430 ")])),_:1})]),_:1})]),_:1}),e(b,{clickable:"",to:"/vacancies",onClick:o[2]||(o[2]=l=>s.value=!1)},{default:t(()=>[e(u,null,{default:t(()=>[e(m,{caption:""},{default:t(()=>o[7]||(o[7]=[d(" \u0415\u0441\u043B\u0438 \u0412\u044B \u043D\u0435 \u0441\u043E\u0442\u0440\u0443\u0434\u043D\u0438\u043A \u043E\u0440\u043A\u0435\u0441\u0442\u0440\u0430, \u0442\u043E \u043F\u0440\u0438\u0445\u043E\u0434\u0438\u0442\u0435 \u043A \u043D\u0430\u043C \u0440\u0430\u0431\u043E\u0442\u0430\u0442\u044C. ")])),_:1}),e(m,{caption:""},{default:t(()=>o[8]||(o[8]=[d(" \u0423 \u043D\u0430\u0441 \u0441\u0435\u0439\u0447\u0430\u0441 \u0435\u0441\u0442\u044C \u043D\u0435\u0441\u043A\u043E\u043B\u044C\u043A\u043E \u0438\u043D\u0442\u0435\u0440\u0435\u0441\u043D\u044B\u0445 \u0432\u0430\u043A\u0430\u043D\u0441\u0438\u0439.\u{1F603} ")])),_:1})]),_:1}),e(u,{side:""},{default:t(()=>[e(O,{name:"open_in_new"})]),_:1})]),_:1})]),_:1}),e(x,null,{default:t(()=>[(c(!0),$(B,null,ee(p(a),l=>(c(),k(fe,{key:l.id,btnLabel:l.label,icon:l.img,url:p(g)+l.url},null,8,["btnLabel","icon","url"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"]))}};var me=ue(de,[["__scopeId","data-v-761e7acf"]]);const Se={__name:"MainLayout",setup(f){const a=ae();ie({meta:{viewport:{name:"viewport",content:"initial-scale=1, width=device-width, user-scalable=yes"},equiv:{"http-equiv":"Content-Type",content:"text/html; charset=UTF-8"}}});const s=A(),r=se(),_=n(),v=n([{id:2,label:"\u0422\u0435\u043B\u0435\u0433\u0440\u0430\u043C",url:"login/telegram/login.php",img:"/img/auth/telegram.svg"},{id:3,label:"MailRu",url:"login/mailru/login.php",img:"/img/auth/mailru.svg"},{id:4,label:"Discord",url:"login/discord/login.php",img:"/img/auth/discord.svg"},{id:4,label:"V\u041A\u043E\u043D\u0442\u0430\u043A\u0442\u0435",url:"login/vkontakte/login.php",img:"/img/auth/vkontakte.svg"}]);i("authTypes",v);const o=n(!1);i("progress",o);const l={entry:n(!1),announce:n(!1),doc:n(!1),staff:n(!1),libVideo:n(!1),lib:n(!1)};i("editModes",l);const H=n(!1);i("leftDrawerOpen",H);const C=n(!1);i("isOptionsLoaded",C);const P=n(!1);i("showLoginDialog",P);const D=n(!0);i("scrollWatch",D);const q=n(0);i("scrollPos",q),ne(r,h=>{w.set("lastPath",h.path)});function F(){w.set("CookieConfirm","1")}function R(){w.getItem("CookieConfirm")||s.notify({message:"\u041C\u044B \u0442\u043E\u0436\u0435 \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0435\u043C Cookies. \u041F\u043E\u0442\u043E\u043C\u0443 \u0447\u0442\u043E \u0431\u0435\u0437 \u043D\u0438\u0445 \u043D\u0438\u0447\u0435\u0433\u043E \u043D\u0435 \u0440\u0430\u0431\u043E\u0442\u0430\u0435\u0442.",color:"primary",timeout:0,multiLine:!0,onDismiss:F,icon:"ion-information-circle-outline",actions:[{label:"\u041F\u043E\u043D\u044F\u0442\u043D\u043E",color:"yellow",handler:()=>{}}]})}function U(h=500){D.value=!1,setTimeout(()=>{D.value=!0},h)}return i("stopScrollWatch",U),I(()=>{a.push({path:"/mainfinance"})}),V(()=>{w.set("lastPath",r.path),console.log("mainLayout Mounted"),R()}),(h,pe)=>{const W=le("router-view");return c(),$(B,null,[e(ce,{ref_key:"refAuth",ref:_},null,512),C.value?(c(),k(W,{key:0})):T("",!0),C.value?(c(),k(me,{key:1})):T("",!0)],64)}}};export{Se as default};

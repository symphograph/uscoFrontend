import{_ as S,T as V,aR as D,i as l,r as t,h as p,z as u,A as I,H as s,J as q,y as n,D as x,I as P,B as d,N as Q,O as E,P as M}from"./index.3fe2b884.js";import{Q as R}from"./QSelect.d936a71a.js";import{N as b}from"./NewsList.17e56661.js";import{u as C}from"./use-meta.6863dc63.js";import{u as U}from"./use-quasar.96f986b3.js";import{api as Y}from"./axios.d9966e86.js";import{n as j}from"./myFuncts.02e9a0a2.js";import"./QItem.01445140.js";import"./rtl.57e8da40.js";import"./position-engine.a5e3fe65.js";import"./format.3e32b8d9.js";import"./QLinearProgress.686418b5.js";import"./QImg.82c99bb0.js";import"./use-ratio.d4738d21.js";const z=a=>(E("data-v-f893e22c"),a=a(),M(),a),A={class:"eventsarea"},F={class:"p_title"},H={class:"selectors"},J=z(()=>s("br",null,null,-1)),L={__name:"NewsPage",setup(a){const m=String("https://api.sakh-orch.ru/"),r=V(),_=D(),y=U(),v=l("editMode"),f=l("token"),h=t([2018,2019,2020,2021,2022,2023]),o=t(new Date().getFullYear());t(100);const g=t({all:"\u0412\u0441\u0435 \u043D\u043E\u0432\u043E\u0441\u0442\u0438",euterpe:"\u041D\u043E\u0432\u043E\u0441\u0442\u0438 \u042D\u0432\u0442\u0435\u0440\u043F\u044B",partners:"\u041D\u043E\u0432\u043E\u0441\u0442\u0438 \u043F\u0430\u0440\u0442\u043D\u0435\u0440\u043E\u0432",usco:"\u041D\u043E\u0432\u043E\u0441\u0442\u0438 \u043E\u0440\u043A\u0435\u0441\u0442\u0440\u0430"});function k(){Y.post(m+"api/set/news/addentry.php",{params:{token:f.value}}).then(e=>{r.params.id=e.data.data.id,_.push({path:"/new/"+e.data.data.id})}).catch(e=>{y.notify(j(e))})}const N=p(()=>g[r.params.category]);C({title:"\u041D\u043E\u0432\u043E\u0441\u0442\u0438"});const i=t(r.params.category),w=p(()=>({year:o.value,category:i.value,limit:100}));return(e,c)=>(u(),I("div",A,[s("div",F,[s("div",null,q(n(N)),1),s("div",H,[n(v)?(u(),x(Q,{key:0,label:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C",onClick:k})):P("",!0),d(R,{modelValue:o.value,"onUpdate:modelValue":c[0]||(c[0]=B=>o.value=B),options:h.value,"emit-value":""},null,8,["modelValue","options"])])]),J,d(b,{query:n(w),year:o.value,limit:100,category:i.value},null,8,["query","year","category"])]))}};var ie=S(L,[["__scopeId","data-v-f893e22c"]]);export{ie as default};

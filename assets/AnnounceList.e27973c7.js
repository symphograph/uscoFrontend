import{u as y}from"./use-quasar.06f765f0.js";import{A as w}from"./AnnounceCard.27503e4c.js";import{m as c}from"./entry.33e05696.js";import{d as k,i as u,o as B,w as A,c as F,m as i,D as L,E as g,F as h,n as _,v as C}from"./index.89609573.js";const E=k({__name:"AnnounceList",props:{method:{},year:{},sort:{}},setup(m){const r=y(),d=u("compactCard"),a=u("announceList"),l=u("progress"),n=m;async function o(){var s;l.value=!0;let e;const t=(s=n.year)!=null?s:new Date().getFullYear();switch(n.method){case"futureList":e=await c.listFuture(r);break;case"listByYear":e=await c.listByYear(r,t);break;case"listByHall":e=await c.listByHall(r,t);break;default:e=void 0}a.value=e!=null?e:[],l.value=!1}B(()=>{o()}),A(()=>n.year,()=>{o()});const p=(e,t)=>e.eventTime<t.eventTime?1:-1,v=(e,t)=>e.eventTime>t.eventTime?1:-1,f=F(()=>{if(!a.value||!a.value.length)return[];switch(n.sort){case"dateDesc":return[...a.value].sort(p);case"dateAsc":return[...a.value].sort(v);default:return a.value}});return(e,t)=>(i(!0),L(h,null,g(f.value,s=>(i(),_(w,{key:s.id,announce:s,onIamDeleted:t[0]||(t[0]=D=>o()),compact:C(d)},null,8,["announce","compact"]))),128))}});export{E as _};

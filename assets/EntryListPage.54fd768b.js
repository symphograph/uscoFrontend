import{H as _,G as V,i as n,I as Y,r as a,c as x,m,n as u,p as d,u as D,z as N,l as Q,f as c,au as R}from"./index.1ed4f0d9.js";import{Q as B}from"./QSelect.224c14af.js";import{N as C}from"./NewsList.c4309af0.js";import{u as E}from"./use-meta.f76d898d.js";import{u as P,g as b,a as F}from"./myFuncts.57fb681f.js";import{a as L}from"./axios.58dd5c85.js";import{P as T}from"./PageShell.becf8c19.js";import"./QImg.d3ea3630.js";import"./QItemLabel.91ec210f.js";import"./QMenu.56bfa58f.js";import"./position-engine.a05a0349.js";import"./selection.d99639c5.js";import"./use-virtual-scroll.757b0b25.js";import"./rtl.276c3f1b.js";import"./format.de7e9769.js";import"./QVirtualScroll.2b60d040.js";import"./QList.94cd8ab2.js";import"./QScrollArea.08a568a1.js";import"./MainFooter.vue_vue_type_style_index_0_scoped_true_lang.844c9627.js";import"./touch.9135741d.js";import"./plugin-vue_export-helper.21dcd24c.js";import"./QTooltip.4f8868a4.js";import"./BtnDelete.3fcc8c4a.js";import"./entry.5005a3f9.js";import"./myAxios.7a7c879e.js";import"./QLinearProgress.83dd9361.js";/* empty css                                                    */const ft={__name:"EntryListPage",setup(U){const f=String("https://sakh-orch.ru/api/"),r=_(),y=V(),g=P();n("progress");const s=n("editModes").entry;Y("editMode",s);const o=a(new Date().getFullYear()),i=a();function v(){R(()=>{i.value.loadData()})}const h=a({all:"\u0412\u0441\u0435 \u043D\u043E\u0432\u043E\u0441\u0442\u0438",euterpe:"\u041D\u043E\u0432\u043E\u0441\u0442\u0438 \u042D\u0432\u0442\u0435\u0440\u043F\u044B",other:"\u041D\u043E\u0432\u043E\u0441\u0442\u0438 \u043F\u0430\u0440\u0442\u043D\u0435\u0440\u043E\u0432",usso:"\u041D\u043E\u0432\u043E\u0441\u0442\u0438 \u043E\u0440\u043A\u0435\u0441\u0442\u0440\u0430"});function k(){L.post(f+"epoint/news/entry.php",{params:{method:"add"}}).then(t=>{r.params.id=t.data.data.id,y.push({path:"/new/"+t.data.data.id})}).catch(t=>{g.notify(F(t))})}function M(){let t=[];for(let e=2018;e<=new Date().getFullYear();e++)t.push(e);return t.reverse()}const p=x(()=>h.value[r.params.category]),w=b(p.value);E(w);const S=a(r.params.category);return(t,e)=>(m(),u(T,{"page-title":p.value},{SideTools:d(()=>[D(s)?(m(),u(N,{key:0,label:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C",stretch:"",flat:"",onClick:k})):Q("",!0),c(B,{modelValue:o.value,"onUpdate:modelValue":[e[0]||(e[0]=l=>o.value=l),e[1]||(e[1]=l=>v())],options:M(),"emit-value":"",borderless:""},null,8,["modelValue","options"])]),virtualScroll:d(()=>[c(C,{year:o.value,limit:100,category:S.value,ref_key:"listRef",ref:i},null,8,["year","category"])]),_:1},8,["page-title"]))}};export{ft as default};

import{Q as bu}from"./QScrollArea.7dcee4d9.js";import{u as Au}from"./use-meta.57188834.js";import{u as ae}from"./use-quasar.527a8a9b.js";import{a as ce,c as xu}from"./axios.0b51f5d0.js";import{Q as F}from"./QItemLabel.554eb9e3.js";import{Q as P,a as Z}from"./QItem.1c28b386.js";import{V as Du,X as wu,bf as Cu,Z as Su,di as Vu,r as C,c as O,w as Be,aK as Eu,W as Bu,h as E,g as Hu,dk as Mu,au as qu,a6 as Iu,a4 as $u,ak as Te,B as te,i as z,m as g,E as T,f as u,q as a,x as n,b7 as se,A as ye,ax as M,n as Q,t as I,v as N,C as Pe,y as Le,z as ue,l as L,b as Ne,H as lu,d as Ke,b8 as au,b9 as nu,o as We,bl as He,p as J,k as Uu,F as re,u as ou,I as Ou,a as Fu,D as be,G as Qu}from"./index.0155efd7.js";import{Q as Me}from"./QSelect.07ddbdcc.js";import{a as Tu}from"./style.97152c69.js";/* empty css               */import{u as Ge,b as Pu,c as Lu,_ as Ee,g as Nu,f as Ku,Q as Je,a as Wu}from"./QPopupProxy.34b5e114.js";import{T as Yu,b as ju}from"./TouchPan.7b9894b8.js";import{p as _e}from"./format.de7e9769.js";import{C as Ze}from"./ClosePopup.0d2631a9.js";import{n as ve,a as eu,i as Ru,b as zu,g as Xu}from"./myFuncts.2385ae5b.js";import{A as Gu}from"./AnnounceCard.40b2b5fb.js";import{S as Ju,Q as Zu}from"./QInnerLoading.1b42f65c.js";import{m as et}from"./myAuth.5621b016.js";import{S as ut}from"./SelectComposer.b33db017.js";import{Q as tt}from"./QTooltip.7c374613.js";import{_ as Ye}from"./BtnDelete.7da7cc21.js";import{H as de}from"./hall.25696fc7.js";import{_ as je}from"./plugin-vue_export-helper.21dcd24c.js";import{Q as uu}from"./QImg.3b6c03a2.js";import{Q as lt}from"./QVideo.4117aac4.js";import{_ as tu}from"./PhoneNumber.ec361413.js";import"./QToolbarTitle.54fae288.js";import"./QToolbar.8537c9fb.js";import"./QLinearProgress.ea9c3560.js";import{M as at}from"./MainFooter.f01ee1b3.js";import"./QMenu.c5a4b786.js";import"./position-engine.186084c4.js";import"./selection.b5582e5f.js";import"./rtl.276c3f1b.js";import"./use-file.6d0e9d34.js";import"./get-emits-object.a3f16783.js";import"./use-render-cache.3aae9b27.js";import"./touch.9135741d.js";import"./QList.81e154dd.js";import"./AuthorItem.e59d6f0e.js";/* empty css                                                               *//* empty css                                                                   */import"./MainFooter.vue_vue_type_style_index_0_scoped_true_lang.e9c601d0.js";function nt(l,B){if(l.hour!==null){if(l.minute===null)return"minute";if(B===!0&&l.second===null)return"second"}return"hour"}function ot(){const l=new Date;return{hour:l.getHours(),minute:l.getMinutes(),second:l.getSeconds(),millisecond:l.getMilliseconds()}}var it=Du({name:"QTime",props:{...wu,...Cu,...Ge,modelValue:{required:!0,validator:l=>typeof l=="string"||l===null},mask:{...Ge.mask,default:null},format24h:{type:Boolean,default:null},defaultDate:{type:String,validator:l=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(l)},options:Function,hourOptions:Array,minuteOptions:Array,secondOptions:Array,withSeconds:Boolean,nowBtn:Boolean},emits:Pu,setup(l,{slots:B,emit:_}){const D=Hu(),{$q:v}=D.proxy,o=Su(l,v),{tabindex:y,headerClass:$,getLocale:r,getCurrentDate:w}=Lu(l,v),p=Vu(l),A=Mu(p);let d,f;const S=C(null),U=O(()=>De()),V=O(()=>r()),X=O(()=>iu()),G=Ee(l.modelValue,U.value,V.value,l.calendar,X.value),h=C(nt(G)),s=C(G),q=C(G.hour===null||G.hour<12),Ae=O(()=>`q-time q-time--${l.landscape===!0?"landscape":"portrait"}`+(o.value===!0?" q-time--dark q-dark":"")+(l.disable===!0?" disabled":l.readonly===!0?" q-time--readonly":"")+(l.bordered===!0?" q-time--bordered":"")+(l.square===!0?" q-time--square no-border-radius":"")+(l.flat===!0?" q-time--flat no-shadow":"")),ge=O(()=>{const e=s.value;return{hour:e.hour===null?"--":K.value===!0?_e(e.hour):String(q.value===!0?e.hour===0?12:e.hour:e.hour>12?e.hour-12:e.hour),minute:e.minute===null?"--":_e(e.minute),second:e.second===null?"--":_e(e.second)}}),K=O(()=>l.format24h!==null?l.format24h:v.lang.date.format24h),qe=O(()=>{const e=h.value==="hour",t=e===!0?12:60,c=s.value[h.value];let H=`rotate(${Math.round(c*(360/t))-180}deg) translateX(-50%)`;return e===!0&&K.value===!0&&s.value.hour>=12&&(H+=" scale(.7)"),{transform:H}}),xe=O(()=>s.value.hour!==null),me=O(()=>xe.value===!0&&s.value.minute!==null),Y=O(()=>l.hourOptions!==void 0?e=>l.hourOptions.includes(e):l.options!==void 0?e=>l.options(e,null,null):null),fe=O(()=>l.minuteOptions!==void 0?e=>l.minuteOptions.includes(e):l.options!==void 0?e=>l.options(s.value.hour,e,null):null),pe=O(()=>l.secondOptions!==void 0?e=>l.secondOptions.includes(e):l.options!==void 0?e=>l.options(s.value.hour,s.value.minute,e):null),j=O(()=>{if(Y.value===null)return null;const e=x(0,11,Y.value),t=x(12,11,Y.value);return{am:e,pm:t,values:e.values.concat(t.values)}}),ne=O(()=>fe.value!==null?x(0,59,fe.value):null),oe=O(()=>pe.value!==null?x(0,59,pe.value):null),he=O(()=>{switch(h.value){case"hour":return j.value;case"minute":return ne.value;case"second":return oe.value}}),Ie=O(()=>{let e,t,c=0,b=1;const H=he.value!==null?he.value.values:void 0;h.value==="hour"?K.value===!0?(e=0,t=23):(e=0,t=11,q.value===!1&&(c=12)):(e=0,t=55,b=5);const R=[];for(let k=e,W=e;k<=t;k+=b,W++){const ie=k+c,ku=H!==void 0&&H.includes(ie)===!1,yu=h.value==="hour"&&k===0?K.value===!0?"00":"12":k;R.push({val:ie,index:W,disable:ku,label:yu})}return R}),m=O(()=>[[Yu,su,void 0,{stop:!0,prevent:!0,mouse:!0}]]);Be(()=>l.modelValue,e=>{const t=Ee(e,U.value,V.value,l.calendar,X.value);(t.dateHash!==s.value.dateHash||t.timeHash!==s.value.timeHash)&&(s.value=t,t.hour===null?h.value="hour":q.value=t.hour<12)}),Be([U,V],()=>{qu(()=>{Qe()})});function i(){const e={...w(),...ot()};Qe(e),Object.assign(s.value,e),h.value="hour"}function x(e,t,c){const b=Array.apply(null,{length:t+1}).map((H,R)=>{const k=R+e;return{index:k,val:c(k)===!0}}).filter(H=>H.val===!0).map(H=>H.index);return{min:b[0],max:b[b.length-1],values:b,threshold:t+1}}function le(e,t,c){const b=Math.abs(e-t);return Math.min(b,c-b)}function ee(e,{min:t,max:c,values:b,threshold:H}){if(e===t)return t;if(e<t||e>c)return le(e,t,H)<=le(e,c,H)?t:c;const R=b.findIndex(ie=>e<=ie),k=b[R-1],W=b[R];return e-k<=W-e?k:W}function De(){return l.calendar!=="persian"&&l.mask!==null?l.mask:`HH:mm${l.withSeconds===!0?":ss":""}`}function iu(){if(typeof l.defaultDate!="string"){const e=w(!0);return e.dateHash=Nu(e),e}return Ee(l.defaultDate,"YYYY/MM/DD",void 0,l.calendar)}function $e(){return Iu(D)===!0||he.value!==null&&(he.value.values.length===0||h.value==="hour"&&K.value!==!0&&j.value[q.value===!0?"am":"pm"].values.length===0)}function Ue(){const e=S.value,{top:t,left:c,width:b}=e.getBoundingClientRect(),H=b/2;return{top:t+H,left:c+H,dist:H*.7}}function su(e){if($e()!==!0){if(e.isFirst===!0){d=Ue(),f=we(e.evt,d);return}f=we(e.evt,d,f),e.isFinal===!0&&(d=!1,f=null,Re())}}function Re(){h.value==="hour"?h.value="minute":l.withSeconds&&h.value==="minute"&&(h.value="second")}function we(e,t,c){const b=Eu(e),H=Math.abs(b.top-t.top),R=Math.sqrt(Math.pow(Math.abs(b.top-t.top),2)+Math.pow(Math.abs(b.left-t.left),2));let k,W=Math.asin(H/R)*(180/Math.PI);if(b.top<t.top?W=t.left<b.left?90-W:270+W:W=t.left<b.left?W+90:270-W,h.value==="hour"){if(k=W/30,j.value!==null){const ie=K.value!==!0?q.value===!0:j.value.am.values.length!==0&&j.value.pm.values.length!==0?R>=t.dist:j.value.am.values.length!==0;k=ee(k+(ie===!0?0:12),j.value[ie===!0?"am":"pm"])}else k=Math.round(k),K.value===!0?R<t.dist?k<12&&(k+=12):k===12&&(k=0):q.value===!0&&k===12?k=0:q.value===!1&&k!==12&&(k+=12);K.value===!0&&(q.value=k<12)}else k=Math.round(W/6)%60,h.value==="minute"&&ne.value!==null?k=ee(k,ne.value):h.value==="second"&&oe.value!==null&&(k=ee(k,oe.value));return c!==k&&hu[h.value](k),k}const Oe={hour(){h.value="hour"},minute(){h.value="minute"},second(){h.value="second"}};function ru(e){e.keyCode===13&&ze()}function du(e){e.keyCode===13&&Xe()}function cu(e){$e()!==!0&&(v.platform.is.desktop!==!0&&we(e,Ue()),Re())}function vu(e){$e()!==!0&&we(e,Ue())}function mu(e){if(e.keyCode===13)h.value="hour";else if([37,39].includes(e.keyCode)){const t=e.keyCode===37?-1:1;if(j.value!==null){const c=K.value===!0?j.value.values:j.value[q.value===!0?"am":"pm"].values;if(c.length===0)return;if(s.value.hour===null)Ce(c[0]);else{const b=(c.length+c.indexOf(s.value.hour)+t)%c.length;Ce(c[b])}}else{const c=K.value===!0?24:12,b=K.value!==!0&&q.value===!1?12:0,H=s.value.hour===null?-t:s.value.hour;Ce(b+(24+H+t)%c)}}}function fu(e){if(e.keyCode===13)h.value="minute";else if([37,39].includes(e.keyCode)){const t=e.keyCode===37?-1:1;if(ne.value!==null){const c=ne.value.values;if(c.length===0)return;if(s.value.minute===null)Se(c[0]);else{const b=(c.length+c.indexOf(s.value.minute)+t)%c.length;Se(c[b])}}else{const c=s.value.minute===null?-t:s.value.minute;Se((60+c+t)%60)}}}function pu(e){if(e.keyCode===13)h.value="second";else if([37,39].includes(e.keyCode)){const t=e.keyCode===37?-1:1;if(oe.value!==null){const c=oe.value.values;if(c.length===0)return;if(s.value.seconds===null)Ve(c[0]);else{const b=(c.length+c.indexOf(s.value.second)+t)%c.length;Ve(c[b])}}else{const c=s.value.second===null?-t:s.value.second;Ve((60+c+t)%60)}}}function Ce(e){s.value.hour!==e&&(s.value.hour=e,ke())}function Se(e){s.value.minute!==e&&(s.value.minute=e,ke())}function Ve(e){s.value.second!==e&&(s.value.second=e,ke())}const hu={hour:Ce,minute:Se,second:Ve};function ze(){q.value===!1&&(q.value=!0,s.value.hour!==null&&(s.value.hour-=12,ke()))}function Xe(){q.value===!0&&(q.value=!1,s.value.hour!==null&&(s.value.hour+=12,ke()))}function Fe(e){const t=l.modelValue;h.value!==e&&t!==void 0&&t!==null&&t!==""&&typeof t!="string"&&(h.value=e)}function ke(){if(Y.value!==null&&Y.value(s.value.hour)!==!0){s.value=Ee(),Fe("hour");return}if(fe.value!==null&&fe.value(s.value.minute)!==!0){s.value.minute=null,s.value.second=null,Fe("minute");return}if(l.withSeconds===!0&&pe.value!==null&&pe.value(s.value.second)!==!0){s.value.second=null,Fe("second");return}s.value.hour===null||s.value.minute===null||l.withSeconds===!0&&s.value.second===null||Qe()}function Qe(e){const t=Object.assign({...s.value},e),c=l.calendar==="persian"?_e(t.hour)+":"+_e(t.minute)+(l.withSeconds===!0?":"+_e(t.second):""):Ku(new Date(t.year,t.month===null?null:t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond),U.value,V.value,t.year,t.timezoneOffset);t.changed=c!==l.modelValue,_("update:modelValue",c,t)}function _u(){const e=[E("div",{class:"q-time__link "+(h.value==="hour"?"q-time__link--active":"cursor-pointer"),tabindex:y.value,onClick:Oe.hour,onKeyup:mu},ge.value.hour),E("div",":"),E("div",xe.value===!0?{class:"q-time__link "+(h.value==="minute"?"q-time__link--active":"cursor-pointer"),tabindex:y.value,onKeyup:fu,onClick:Oe.minute}:{class:"q-time__link"},ge.value.minute)];l.withSeconds===!0&&e.push(E("div",":"),E("div",me.value===!0?{class:"q-time__link "+(h.value==="second"?"q-time__link--active":"cursor-pointer"),tabindex:y.value,onKeyup:pu,onClick:Oe.second}:{class:"q-time__link"},ge.value.second));const t=[E("div",{class:"q-time__header-label row items-center no-wrap",dir:"ltr"},e)];return K.value===!1&&t.push(E("div",{class:"q-time__header-ampm column items-between no-wrap"},[E("div",{class:"q-time__link "+(q.value===!0?"q-time__link--active":"cursor-pointer"),tabindex:y.value,onClick:ze,onKeyup:ru},"AM"),E("div",{class:"q-time__link "+(q.value!==!0?"q-time__link--active":"cursor-pointer"),tabindex:y.value,onClick:Xe,onKeyup:du},"PM")])),E("div",{class:"q-time__header flex flex-center no-wrap "+$.value},t)}function gu(){const e=s.value[h.value];return E("div",{class:"q-time__content col relative-position"},[E($u,{name:"q-transition--scale"},()=>E("div",{key:"clock"+h.value,class:"q-time__container-parent absolute-full"},[E("div",{ref:S,class:"q-time__container-child fit overflow-hidden"},[Te(E("div",{class:"q-time__clock cursor-pointer non-selectable",onClick:cu,onMousedown:vu},[E("div",{class:"q-time__clock-circle fit"},[E("div",{class:"q-time__clock-pointer"+(s.value[h.value]===null?" hidden":l.color!==void 0?` text-${l.color}`:""),style:qe.value}),Ie.value.map(t=>E("div",{class:`q-time__clock-position row flex-center q-time__clock-pos-${t.index}`+(t.val===e?" q-time__clock-position--active "+$.value:t.disable===!0?" q-time__clock-position--disable":"")},[E("span",t.label)]))])]),m.value)])])),l.nowBtn===!0?E(te,{class:"q-time__now-button absolute",icon:v.iconSet.datetime.now,unelevated:!0,size:"sm",round:!0,color:l.color,textColor:l.textColor,tabindex:y.value,onClick:i}):null])}return D.proxy.setNow=i,()=>{const e=[gu()],t=Bu(B.default);return t!==void 0&&e.push(E("div",{class:"q-time__actions"},t)),l.name!==void 0&&l.disable!==!0&&A(e,"push"),E("div",{class:Ae.value,tabindex:-1},[_u(),E("div",{class:"q-time__main col overflow-auto"},e)])}}});const st={class:"q-pa-md",style:{"max-width":"300px",padding:"0"}},rt={class:"row items-center justify-end"},dt={class:"row items-center justify-end"},ct={__name:"DateTime",props:{evDateTime:C("2019-02-01 12:44")},emits:["update:date"],setup(l,{emit:B}){const _=z("Announce");return C(l.evDateTime),(v,o)=>(g(),T("div",st,[u(se,{filled:"",modelValue:n(_).eventTime,"onUpdate:modelValue":o[2]||(o[2]=y=>n(_).eventTime=y),mask:"####-##-## ##:##"},{prepend:a(()=>[u(ye,{name:"event",class:"cursor-pointer"},{default:a(()=>[u(Je,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[u(Wu,{modelValue:n(_).eventTime,"onUpdate:modelValue":o[0]||(o[0]=y=>n(_).eventTime=y),mask:"YYYY-MM-DD HH:mm"},{default:a(()=>[M("div",rt,[Te(u(te,{label:"\u0417\u0430\u043A\u0440\u044B\u0442\u044C",color:"primary",flat:""},null,512),[[Ze]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),append:a(()=>[u(ye,{name:"access_time",class:"cursor-pointer"},{default:a(()=>[u(Je,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[u(it,{modelValue:n(_).eventTime,"onUpdate:modelValue":o[1]||(o[1]=y=>n(_).eventTime=y),mask:"YYYY-MM-DD HH:mm",format24h:""},{default:a(()=>[M("div",dt,[Te(u(te,{label:"\u0417\u0430\u043A\u0440\u044B\u0442\u044C",color:"primary",flat:""},null,512),[[Ze]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},vt={__name:"WorkSelectItem",props:{work:Object},setup(l){const B=ae();return(_,D)=>(g(),Q(Z,{clickable:"",dense:""},{default:a(()=>[u(P,null,{default:a(()=>[u(F,null,{default:a(()=>[I(N(l.work.titleRu),1)]),_:1}),u(F,{caption:""},{default:a(()=>[I(N(l.work.titleEn),1)]),_:1})]),_:1}),u(P,{side:"",class:"opus"},{default:a(()=>[u(F,{caption:""},{default:a(()=>{var v;return[I(N((v=l.work.opus)!=null?v:"Op.?"),1)]}),_:1}),u(F,{caption:""},{default:a(()=>{var v;return[I(N((v=l.work.icatno)!=null?v:"cat\u2116.?"),1)]}),_:1}),u(F,{caption:""},{default:a(()=>{var v;return[I(N((v=l.work.catalogIndex)!=null?v:"catIdx: ?"),1)]}),_:1}),u(te,{dense:"","icon-right":"content_copy",flat:"",label:`ID: ${l.work.id}`,onClick:D[0]||(D[0]=Pe(v=>_.copy(l.work.id,n(B)),["prevent","stop"]))},null,8,["label"])]),_:1})]),_:1}))}},mt={__name:"AddWorkDialog",emits:["workSelected"],setup(l,{emit:B}){const _=ae(),D=String("https://api.staff.sakh-orch.ru/"),v=z("isOpenAddWorkDialog"),o=C(!1),y=z("selectedAuthorId");z("selectedAuthor");const $=B,r=C([]),w=C(null);function p(){console.log("authorSelected"),y.value&&(o.value=!0,ce.post(D+"/api/lib/work.php",{params:{method:"list",authorId:y.value}}).then(d=>{var f,S;r.value=(S=(f=d==null?void 0:d.data)==null?void 0:f.data)!=null?S:[]}).catch(d=>{r.value=[],_.notify(notifyError(d))}).finally(()=>{o.value=!1}))}function A(){o.value=!1}return(d,f)=>(g(),Q(lu,{modelValue:n(v),"onUpdate:modelValue":f[2]||(f[2]=S=>Ne(v)?v.value=S:null),onBeforeHide:A},{default:a(()=>[u(Le,{bordered:"",class:"dialogArea"},{default:a(()=>[u(ue,null,{default:a(()=>[u(ut,{onItSel:p})]),_:1}),n(y)?(g(),Q(ue,{key:0},{default:a(()=>[u(Me,{modelValue:w.value,"onUpdate:modelValue":[f[0]||(f[0]=S=>w.value=S),f[1]||(f[1]=S=>$("workSelected",w.value))],options:r.value,"option-label":"titleRu","option-value":"id","map-options":"",label:"\u041F\u0440\u043E\u0438\u0437\u0432\u0435\u0434\u0435\u043D\u0438\u0435"},{option:a(S=>[u(vt,{work:S.opt},null,8,["work"])]),_:1},8,["modelValue","options"])]),_:1})):L("",!0)]),_:1})]),_:1},8,["modelValue"]))}},ft=Ke({__name:"SuggestSelect",emits:["saved"],setup(l,{emit:B}){const _=ae(),D=String("https://api.sakh-orch.ru/"),v=C(null),o=C([{title:{text:"\u0421\u0430\u0445\u0430\u043B\u0438\u043D\u0441\u043A\u0438\u0439 \u043C\u0435\u0436\u0434\u0443\u043D\u0430\u0440\u043E\u0434\u043D\u044B\u0439 \u0442\u0435\u0430\u0442\u0440\u0430\u043B\u044C\u043D\u044B\u0439 \u0446\u0435\u043D\u0442\u0440 \u0438\u043C\u0435\u043D\u0438 \u0410\u043D\u0442\u043E\u043D\u0430 \u041F\u0430\u0432\u043B\u043E\u0432\u0438\u0447\u0430 \u0427\u0435\u0445\u043E\u0432\u0430",hl:[{begin:26,end:31}]},subtitle:{text:"\u0422\u0435\u0430\u0442\u0440 \xB7 \u041A\u043E\u043C\u043C\u0443\u043D\u0438\u0441\u0442\u0438\u0447\u0435\u0441\u043A\u0438\u0439 \u043F\u0440\u043E\u0441\u043F\u0435\u043A\u0442, 35",hl:[{begin:0,end:5}]},tags:["business","theatre","museum","concert hall"],distance:{value:1178.70231,text:"1.18 \u043A\u043C"}},{title:{text:"\u0421\u0430\u0445\u0430\u043B\u0438\u043D\u0441\u043A\u0438\u0439 \u0442\u0435\u0430\u0442\u0440 \u043A\u0443\u043A\u043E\u043B",hl:[{begin:12,end:17}]},subtitle:{text:"\u0422\u0435\u0430\u0442\u0440 \xB7 \u041A\u043E\u043C\u043C\u0443\u043D\u0438\u0441\u0442\u0438\u0447\u0435\u0441\u043A\u0438\u0439 \u043F\u0440\u043E\u0441\u043F\u0435\u043A\u0442, 28\u0410",hl:[{begin:0,end:5}]},tags:["business","theatre","office service"],distance:{value:1224.330864,text:"1.22 \u043A\u043C"}},{title:{text:"\u041C\u043E\u0441\u043A\u043E\u0432\u0441\u043A\u0438\u0439 \u0434\u0440\u0430\u043C\u0430\u0442\u0438\u0447\u0435\u0441\u043A\u0438\u0439 \u0442\u0435\u0430\u0442\u0440 \u0438\u043C\u0435\u043D\u0438 \u041C. \u041D. \u0415\u0440\u043C\u043E\u043B\u043E\u0432\u043E\u0439",hl:[{begin:25,end:30}]},subtitle:{text:"\u0422\u0435\u0430\u0442\u0440 \xB7 \u041C\u043E\u0441\u043A\u0432\u0430, \u0422\u0432\u0435\u0440\u0441\u043A\u0430\u044F \u0443\u043B\u0438\u0446\u0430, 5/6",hl:[{begin:0,end:5}]},tags:["business","theatre"],distance:{value:6655148389e-3,text:"6655.15 \u043A\u043C"}},{title:{text:"\u0422\u0430\u0442\u0430\u0440\u0441\u043A\u0438\u0439 \u0433\u043E\u0441\u0443\u0434\u0430\u0440\u0441\u0442\u0432\u0435\u043D\u043D\u044B\u0439 \u0442\u0435\u0430\u0442\u0440 \u043A\u0443\u043A\u043E\u043B \u042D\u043A\u0438\u044F\u0442",hl:[{begin:26,end:31}]},subtitle:{text:"\u0422\u0435\u0430\u0442\u0440 \xB7 \u041A\u0430\u0437\u0430\u043D\u044C, \u041F\u0435\u0442\u0435\u0440\u0431\u0443\u0440\u0433\u0441\u043A\u0430\u044F \u0443\u043B\u0438\u0446\u0430, 57",hl:[{begin:0,end:5}]},tags:["business","theatre"],distance:{value:6077098052e-3,text:"6077.10 \u043A\u043C"}},{title:{text:"\u0422\u0435\u0430\u0442\u0440 \u0434\u0440\u0430\u043C\u044B \u0438 \u043A\u043E\u043C\u0435\u0434\u0438\u0438",hl:[{begin:0,end:5}]},subtitle:{text:"\u0422\u0435\u0430\u0442\u0440 \xB7 \u041F\u0435\u0442\u0440\u043E\u043F\u0430\u0432\u043B\u043E\u0432\u0441\u043A-\u041A\u0430\u043C\u0447\u0430\u0442\u0441\u043A\u0438\u0439, \u041B\u0435\u043D\u0438\u043D\u0441\u043A\u0430\u044F \u0443\u043B\u0438\u0446\u0430, 75",hl:[{begin:0,end:5}]},tags:["business","theatre"],distance:{value:1321394665e-3,text:"1321.39 \u043A\u043C"}},{title:{text:"\u0422\u0435\u0430\u0442\u0440 \u041A\u043E\u043B\u0435\u0441\u043E",hl:[{begin:0,end:5}]},subtitle:{text:"\u041E\u0441\u0442\u0430\u043D\u043E\u0432\u043A\u0430 \u043E\u0431\u0449\u0435\u0441\u0442\u0432\u0435\u043D\u043D\u043E\u0433\u043E \u0442\u0440\u0430\u043D\u0441\u043F\u043E\u0440\u0442\u0430 \xB7 \u0422\u043E\u043B\u044C\u044F\u0442\u0442\u0438, \u041B\u0435\u043D\u0438\u043D\u0433\u0440\u0430\u0434\u0441\u043A\u0430\u044F \u0443\u043B\u0438\u0446\u0430, 33\u0410\u04411"},tags:["business","bus stop"],distance:{value:6203127608e-3,text:"6203.13 \u043A\u043C"}},{title:{text:"\u0422\u0435\u0430\u0442\u0440\u0430\u043B\u044C\u043D\u0430\u044F",hl:[{begin:0,end:5}]},subtitle:{text:"\u041E\u0441\u0442\u0430\u043D\u043E\u0432\u043A\u0430 \u043E\u0431\u0449\u0435\u0441\u0442\u0432\u0435\u043D\u043D\u043E\u0433\u043E \u0442\u0440\u0430\u043D\u0441\u043F\u043E\u0440\u0442\u0430 \xB7 \u0421\u043E\u0447\u0438, \u0410-147"},tags:["business","bus stop"],distance:{value:7445799203e-3,text:"7445.80 \u043A\u043C"}}]),y=C([...o.value]),$=B;function r(d,f){if(!d){y.value=[];return}f(()=>{w(d)})}function w(d){const f="https://suggest-maps.yandex.ru/v1/suggest",S="79fc56ed-2b44-4a58-939e-64f51f059691";xu.get(f,{params:{apikey:S,text:d,ull:"142.728060,46.966085",print_address:1,strict_bounds:1,attrs:"uri"},withCredentials:!1,headers:{"Content-Type":"application/json",Accept:"application/json"}}).then(U=>{var X;if(!((X=U==null?void 0:U.data)!=null&&X.results))return;let V=U.data.results;V.forEach((G,h)=>{G.label=G.address.formatted_address,G.value=h}),y.value=V}).catch(U=>{_.notify(ve(U))})}function p(){ce.post(D+"api/ya/suggest.php",{params:{method:"add",suggest:v.value}}).then(d=>{var f;if(!((f=d==null?void 0:d.data)!=null&&f.result))throw new Error;$("saved",d.data.data.id)}).catch(d=>{_.notify(ve(d))})}function A(){!v.value||p()}return(d,f)=>(g(),Q(Me,{modelValue:v.value,"onUpdate:modelValue":[f[0]||(f[0]=S=>v.value=S),A],options:y.value,"use-input":"","fill-input":"","hide-selected":"",clearable:"",onFilter:r},{option:a(S=>[u(Z,au(nu(S.itemProps)),{default:a(()=>[u(P,null,{default:a(()=>[u(F,null,{default:a(()=>[I(N(S.opt.title.text),1)]),_:2},1024),u(F,{caption:""},{default:a(()=>{var U,V;return[I(N((V=(U=S.opt)==null?void 0:U.address)==null?void 0:V.formatted_address),1)]}),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","options"]))}}),pt={class:"text-h6"},ht=Ke({__name:"HallDialog",setup(l){const B=ae(),_=z("clickedHall"),D=z("IsHallDialogOpen"),v=C(!1);We(()=>{});async function o(){v.value=!0,await _.value.save(B)&&(de.List.value=await de.getList(B),D.value=!1),v.value=!1}function y(p){_.value.suggestId=p}function $(){_.value||(_.value=new de)}function r(){}async function w(p){v.value=!0,await p.del(B)&&(D.value=!1),v.value=!1}return(p,A)=>(g(),Q(lu,{modelValue:n(D),"onUpdate:modelValue":A[3]||(A[3]=d=>Ne(D)?D.value=d:null),onBeforeShow:$,onBeforeHide:r},{default:a(()=>[u(Le,{bordered:"",class:"dialogArea"},{default:a(()=>[u(P,null,{default:a(()=>[M("div",pt,N(n(_).id>0?"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0437\u0430\u043B":"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0437\u0430\u043B"),1)]),_:1}),u(ue,null,{default:a(()=>[u(se,{modelValue:n(_).name,"onUpdate:modelValue":A[0]||(A[0]=d=>n(_).name=d),label:"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435","stack-label":""},null,8,["modelValue"]),n(_).id===-1?(g(),Q(ft,{key:0,onSaved:y})):(g(),Q(Z,{key:1},{default:a(()=>[u(P,null,{default:a(()=>[u(F,null,{default:a(()=>{var d,f,S;return[I(N((S=(f=(d=n(_))==null?void 0:d.suggest)==null?void 0:f.address)==null?void 0:S.formatted),1)]}),_:1})]),_:1})]),_:1}))]),_:1}),u(He,null,{default:a(()=>[u(ju),n(_).id>0?(g(),Q(Ye,{key:0,label:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C",loading:v.value,"throw-confirm":"",title:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0437\u0430\u043B",danger:"",onOnOk:A[1]||(A[1]=d=>w(n(_)))},null,8,["loading"])):L("",!0),u(te,{label:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C",loading:v.value,color:"green",onClick:A[2]||(A[2]=d=>o())},null,8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]))}}),_t=Ke({__name:"HallSelect",emits:["selected"],setup(l,{emit:B}){const _=ae(),D=z("selectedHall"),v=C(!1),o=C(!1);J("IsHallDialogOpen",v);const y=C(),$=B;function r(d=null){d||(d=new de),A.value=new de(d),v.value=!0}function w(){A.value=D.value,$("selected",D.value)}async function p(d){o.value=!0,await d.del(_)&&(v.value=!1),o.value=!1}const A=C(new de);return J("clickedHall",A),Uu(()=>{}),(d,f)=>{var S,U;return g(),T(re,null,[u(Me,{modelValue:n(D),"onUpdate:modelValue":[f[1]||(f[1]=V=>Ne(D)?D.value=V:null),f[2]||(f[2]=V=>w())],label:"\u041C\u0435\u0441\u0442\u043E \u043F\u0440\u043E\u0432\u0435\u0434\u0435\u043D\u0438\u044F","map-options":"","option-label":"name","option-value":"id",options:(U=(S=n(de).List)==null?void 0:S.value)!=null?U:[],ref_key:"selRef",ref:y},{append:a(()=>[u(te,{icon:"add",round:"",onClick:f[0]||(f[0]=Pe(V=>r(),["prevent","stop"]))},{default:a(()=>[u(tt,null,{default:a(()=>f[3]||(f[3]=[I("\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0437\u0430\u043B")])),_:1})]),_:1})]),option:a(V=>[u(Z,au(nu(V.itemProps)),{default:a(()=>[u(P,null,{default:a(()=>[u(F,null,{default:a(()=>[I(N(V.opt.name),1)]),_:2},1024),u(F,{caption:""},{default:a(()=>[I(N(V.opt.suggest.address.formatted),1)]),_:2},1024)]),_:2},1024),u(P,{side:""},{default:a(()=>[u(Ye,{danger:"","throw-confirm":"",flat:"",loading:o.value,tooltip:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0437\u0430\u043B",title:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0437\u0430\u043B: "+V.opt.name,onOnOk:X=>p(V.opt)},null,8,["loading","title","onOnOk"])]),_:2},1024),u(P,{side:""},{default:a(()=>[u(te,{icon:"edit",flat:"",onClick:Pe(X=>r(V.opt),["prevent","stop"])},null,8,["onClick"])]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","options"]),u(ht)],64)}}});const gt={key:0,class:"eventsarea"},kt={class:"editArea"},yt={key:0,class:"card"},bt={class:"editor"},At={style:{display:"flex","justify-content":"space-between"}},xt={key:0,class:"uploads"},Dt={style:{width:"100%"}},wt={class:"uploads"},Ct={__name:"AnnounceEditor",emits:["reload","posterUploaded"],setup(l,{expose:B,emit:_}){const D=String("https://api.staff.sakh-orch.ru/"),v=String("https://api.sakh-orch.ru/"),o=ae(),y=ou(),$=Ou(),r=z("Announce"),w=C(r.value.Hall);J("selectedHall",w);function p(m){console.log(m),r.value.hallId=m.id,r.value.Hall=m}const A=C("");J("pwUrl",A);const d=_,f={};function S(){}const U=[{label:"\u0412\u0445\u043E\u0434 \u0441\u0432\u043E\u0431\u043E\u0434\u043D\u044B\u0439",value:2},{label:"\u0411\u0438\u043B\u0435\u0442\u044B \u0432 \u043F\u0440\u043E\u0434\u0430\u0436\u0435",value:3},{label:"\u0412\u0445\u043E\u0434 \u043F\u043E \u043F\u0440\u0438\u0433\u043B\u0430\u0441\u0438\u0442\u0435\u043B\u044C\u043D\u044B\u043C",value:4},{label:"\u041F\u0440\u043E\u0434\u0430\u0436\u0430 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043D\u0430",value:5}],V=C(null),X=C(null),G=C(!1);J("isOpenAddWorkDialog",G);const h=C([]);J("AuthorSelectList",h);const s=C(!1);J("loadingAuthors",s);const q=C(0);J("selectedAuthorId",q);const Ae=C(null);J("selectedAuthor",Ae),Be(q,()=>{Ae.value=h.value.find(m=>m.id===q.value)});function ge(){s.value=!0,ce.post(D+"/api/lib/author.php",{params:{method:"all"}}).then(m=>{var i,x;h.value=(x=(i=m==null?void 0:m.data)==null?void 0:i.data)!=null?x:[]}).catch(m=>{h.value=[],o.notify(ve(m))}).finally(()=>{s.value=!1})}function K(m){return{url:v+"api/event/poster.php",headers:[{name:"ACCESSTOKEN",value:et.self.AccessToken}],formFields:[{name:"id",value:r.value.id},{name:"method",value:"add"}]}}function qe(m){o.notify(eu("\u0417\u0430\u0433\u0440\u0443\u0436\u0435\u043D\u043E")),d("posterUploaded")}function xe(m){o.notify(eu("\u0417\u0430\u0433\u0440\u0443\u0436\u0435\u043D\u043E")),d("posterUploaded"),V.value.reset(),me.value=!0}const me=C(!1);let Y=null;Be(me,m=>{console.log("photoWatcher"),m&&!Y?Y=setInterval(Ie,3e3):!m&&Y&&(clearInterval(Y),Y=null)});function fe(m){var x,le,ee;let i=(ee=(le=JSON.parse((x=m==null?void 0:m.xhr)==null?void 0:x.response))==null?void 0:le.error)!=null?ee:"";o.notify(ve(null,i))}function pe(){X.value.saveData()}function j(){$.push({path:"/announces"})}function ne(){d("reload")}function oe(){delete r.value.sketch,delete r.value.sketchId}function he(){ce.post(v+"api/event/announce.php",{params:{method:"updateMarkdown",id:r.value.id,markdown:r.value.description}}).then(m=>{var i;if(!((i=m==null?void 0:m.data)!=null&&i.result))throw new Error;r.value.parsedMD=m==null?void 0:m.data.data}).catch(m=>{})}function Ie(){ce.post(v+"api/event/poster.php",{params:{method:"get",announceId:y.params.evid}}).then(m=>{var i,x,le,ee,De;if(!((i=m==null?void 0:m.data)!=null&&i.result))throw new Error;r.value.poster=(le=(x=m==null?void 0:m.data)==null?void 0:x.data)!=null?le:null,((De=(ee=r.value)==null?void 0:ee.poster)==null?void 0:De.status)!=="process"&&(me.value=!1)}).catch(m=>{me.value=!1,o.notify(ve(m))}).finally(()=>{})}return B({}),We(()=>{ge()}),Fu(()=>{Y&&clearInterval(Y)}),(m,i)=>(g(),T(re,null,[n(r)?(g(),T("div",gt,[M("div",kt,[n(o).platform.is.desktop?(g(),T("div",yt,[n(r).Hall?(g(),Q(Gu,{key:0,onIamDeleted:j,onNewAnnounce:ne,onDelSketch:oe,ref_key:"rAnnounceCard",ref:X,Announce:n(r),pwUrl:A.value},null,8,["Announce","pwUrl"])):L("",!0)])):L("",!0),M("div",bt,[M("div",At,[u(ct,{date:n(r).eventTime,"onUpdate:date":[i[0]||(i[0]=x=>n(r).eventTime=x),i[1]||(i[1]=x=>void 0)]},null,8,["date"])]),i[11]||(i[11]=M("br",null,null,-1)),i[12]||(i[12]=M("hr",null,null,-1)),n(o).platform.is.desktop?(g(),T("div",xt,[M("div",Dt,[u(Ju,{id:n(r).id,type:"event",onOnUploaded:qe},null,8,["id"])])])):(g(),Q(Z,{key:1},{default:a(()=>[u(P,null,{default:a(()=>[u(F,{caption:""},{default:a(()=>i[10]||(i[10]=[I(" \u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430 \u044D\u0441\u043A\u0438\u0437\u0430 \u043D\u0435 \u043F\u043E\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u043C\u043E\u0431\u0438\u043B\u044C\u043D\u044B\u0435 \u0443\u0441\u0442\u0440\u043E\u0439\u0441\u0442\u0432\u0430 ")])),_:1})]),_:1})]),_:1})),u(be,{spaced:"1em"}),u(se,{name:"progName",modelValue:n(r).progName,"onUpdate:modelValue":i[2]||(i[2]=x=>n(r).progName=x),label:"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435"},null,8,["modelValue"]),u(_t,{onSelected:p}),u(Me,{modelValue:n(r).pay,"onUpdate:modelValue":i[3]||(i[3]=x=>n(r).pay=x),"emit-value":"","map-options":"",label:"\u0423\u0441\u043B\u043E\u0432\u0438\u044F \u0432\u0445\u043E\u0434\u0430",options:U},null,8,["modelValue"]),i[13]||(i[13]=M("br",null,null,-1)),[3,4].includes(n(r).pay)?(g(),Q(se,{key:2,type:"text",modelValue:n(r).ticketLink,"onUpdate:modelValue":i[4]||(i[4]=x=>n(r).ticketLink=x),label:"\u0421\u0441\u044B\u043B\u043A\u0430 \u043D\u0430 \u043F\u0440\u0438\u043E\u0431\u0440\u0435\u0442\u0435\u043D\u0438\u0435 \u0431\u0438\u043B\u0435\u0442\u043E\u0432"},null,8,["modelValue"])):L("",!0),i[14]||(i[14]=M("br",null,null,-1)),u(se,{type:"number",modelValue:n(r).age,"onUpdate:modelValue":i[5]||(i[5]=x=>n(r).age=x),label:"\u0412\u043E\u0437\u0440\u0430\u0441\u0442\u043D\u044B\u0435 \u043E\u0433\u0440\u0430\u043D\u0438\u0447\u0435\u043D\u0438\u044F"},null,8,["modelValue"]),i[15]||(i[15]=M("br",null,null,-1)),u(se,{name:"evDescr",modelValue:n(r).sdescr,"onUpdate:modelValue":i[6]||(i[6]=x=>n(r).sdescr=x),type:"textarea",autogrow:"",label:"\u041A\u0440\u0430\u0442\u043A\u043E\u0435 \u043E\u043F\u0438\u0441\u0430\u043D\u0438\u0435"},null,8,["modelValue"]),i[16]||(i[16]=M("br",null,null,-1)),u(se,{name:"evText",modelValue:n(r).description,"onUpdate:modelValue":[i[7]||(i[7]=x=>n(r).description=x),i[8]||(i[8]=x=>he())],type:"textarea",autogrow:"",debounce:300,label:"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435"},null,8,["modelValue"]),u(be,{spaced:"1em"}),M("div",wt,[u(Tu,{modelValue:f,"onUpdate:modelValue":i[9]||(i[9]=x=>f=x),style:{width:"100%"},label:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C \u0430\u0444\u0438\u0448\u0443",factory:K,ref_key:"posterUploader",ref:V,onUploaded:xe,onFailed:fe,"no-thumbnails":""},null,512)]),u(He,{align:"right"},{default:a(()=>[u(te,{label:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C",onClick:pe,color:"green"})]),_:1})]),u(be,{spaced:"1em"})])])):L("",!0),i[18]||(i[18]=M("br",null,null,-1)),i[19]||(i[19]=M("hr",null,null,-1)),i[20]||(i[20]=M("br",null,null,-1)),L("",!0),u(mt)],64))}};var St=je(Ct,[["__scopeId","data-v-19bd34cc"]]);const Vt={key:0,class:"posterArea relative-position"},Et={key:0,style:{position:"absolute",right:"1em",top:"1em","z-index":"10"}},Bt={class:"eventboxin"},Ht={key:0},Mt=["innerHTML"],qt={key:1},It={key:1,class:"videoItem"},$t={__name:"AnnounceDescr",emits:["delPoster"],setup(l,{emit:B}){const _=String("https://api.sakh-orch.ru/"),D=ae(),v=z("editMode"),o=z("Announce"),y=O(()=>{let w=D.platform.is.mobile?1080:480;return o.value.poster?Ru(_,o.value.poster.md5,o.value.poster.ext,w):"/error.err"});function $(){return"https://vk.com/share.php?url="+String("https://sakh-orch.ru/")+"/announce/"+String(o.value.id)+"&title="+String(o.value.progName)+"&noparse=true&image="+String(y.value)}function r(){ce.post(_+"api/event/poster.php",{params:{method:"unlink",id:o.value.id}}).then(w=>{var p;if(!((p=w==null?void 0:w.data)!=null&&p.result))throw new Error;delete o.value.poster,delete o.value.posterId}).catch(w=>{D.notify(ve(w))})}return(w,p)=>(g(),T(re,null,[n(o).poster?(g(),T("div",Vt,[n(v)?(g(),T("div",Et,[u(Ye,{"throw-confirm":"",title:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0430\u0444\u0438\u0448\u0443",tooltip:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0430\u0444\u0438\u0448\u0443",onOnOk:p[0]||(p[0]=A=>r())})])):L("",!0),n(o).poster.status==="process"?(g(),Q(Z,{key:1},{default:a(()=>[u(uu),u(P,null,{default:a(()=>[u(Zu,{showing:"",label:"\u041E\u0431\u0440\u0430\u0431\u043E\u0442\u043A\u0430"})]),_:1})]),_:1})):(g(),Q(uu,{key:2,src:y.value},{error:a(()=>p[1]||(p[1]=[M("img",{src:"/img/news/default_sketch.svg"},null,-1)])),_:1},8,["src"]))])):L("",!0),M("div",Bt,[u(Le,{class:"transparent no-padding",flat:""},{default:a(()=>[u(ue,{class:"no-padding"},{default:a(()=>[u(Z,null,{default:a(()=>[u(P,null,{default:a(()=>[u(F,{class:"title"},{default:a(()=>[I(N(n(o).progName),1)]),_:1}),u(F,{class:"title"},{default:a(()=>[I(N(n(zu)(n(o).eventTime)),1)]),_:1})]),_:1})]),_:1})]),_:1}),u(ue,null,{default:a(()=>[(g(!0),T(re,null,Qu(n(o).parsedMD,(A,d)=>(g(),T(re,{key:d},[A.type==="text"?(g(),T("div",Ht,[A.content!==`
`?(g(),T("div",{key:0,innerHTML:A.content,class:"textBlock"},null,8,Mt)):(g(),T("br",qt))])):L("",!0),A.type==="video"?(g(),T("div",It,[u(lt,{ratio:16/9,src:"https://www.youtube.com/embed/"+A.content},null,8,["src"])])):L("",!0)],64))),128))]),_:1}),!n(o).completed&&[3,4].includes(n(o).pay)&&n(o).ticketLink?(g(),Q(He,{key:0,align:"right"})):L("",!0),u(ue,null,{default:a(()=>[u(Z,{dense:""},{default:a(()=>[u(F,{caption:""},{default:a(()=>p[2]||(p[2]=[I(" \u0423\u0432\u0430\u0436\u0430\u0435\u043C\u044B\u0435 \u043F\u043E\u0441\u0435\u0442\u0438\u0442\u0435\u043B\u0438, \u0443\u0431\u0435\u0434\u0438\u0442\u0435\u043B\u044C\u043D\u0430\u044F \u043F\u0440\u043E\u0441\u044C\u0431\u0430 \u0441\u043E\u0431\u043B\u044E\u0434\u0430\u0442\u044C \u043C\u0435\u0440\u044B \u0431\u0435\u0437\u043E\u043F\u0430\u0441\u043D\u043E\u0441\u0442\u0438 \u0432 \u0441\u0432\u044F\u0437\u0438 \u0441 \u0440\u0430\u0441\u043F\u0440\u043E\u0441\u0442\u0440\u0430\u043D\u0435\u043D\u0438\u0435\u043C \u043A\u043E\u0440\u043E\u043D\u0430\u0432\u0438\u0440\u0443\u0441\u043D\u043E\u0439 \u0438\u043D\u0444\u0435\u043A\u0446\u0438\u0438! ")])),_:1})]),_:1})]),_:1}),u(ue,null,{default:a(()=>[u(Z,{clickable:"",href:n(o).Hall.map,target:"_blank"},{default:a(()=>[u(P,{avatar:""},{default:a(()=>[u(ye,{name:"place"})]),_:1}),u(P,null,{default:a(()=>[u(F,null,{default:a(()=>[I(N(n(o).Hall.name),1)]),_:1}),u(F,{caption:""},{default:a(()=>[I(N(n(o).Hall.address),1)]),_:1})]),_:1})]),_:1},8,["href"])]),_:1}),!n(o).completed&&[3,4].includes(n(o).pay)&&n(o).ticketLink?(g(),Q(ue,{key:1},{default:a(()=>[u(Z,{clickable:"",href:n(o).ticketLink,target:"_blank"},{default:a(()=>[n(o).pay===3?(g(),T(re,{key:0},[u(P,{avatar:""},{default:a(()=>[u(ye,{name:"shopping_cart"})]),_:1}),u(P,null,{default:a(()=>[u(F,null,{default:a(()=>p[3]||(p[3]=[I("\u041A\u0443\u043F\u0438\u0442\u044C \u0431\u0438\u043B\u0435\u0442")])),_:1}),(g(),Q(F,{key:0,caption:""},{default:a(()=>p[4]||(p[4]=[I("+ \u0414\u043E\u0441\u0442\u0443\u043F\u043D\u043E \u043F\u043E \u043F\u0443\u0448\u043A\u0438\u043D\u0441\u043A\u043E\u0439 \u043A\u0430\u0440\u0442\u0435")])),_:1}))]),_:1})],64)):L("",!0),n(o).pay===4?(g(),T(re,{key:1},[u(P,{avatar:""},{default:a(()=>[u(ye,{name:"img:/img/uds.svg"})]),_:1}),u(P,null,{default:a(()=>[u(F,null,{default:a(()=>p[5]||(p[5]=[I("\u041F\u043E\u043B\u0443\u0447\u0438\u0442\u044C \u043F\u0440\u0438\u0433\u043B\u0430\u0441\u0438\u0442\u0435\u043B\u044C\u043D\u044B\u0439")])),_:1})]),_:1})],64)):L("",!0)]),_:1},8,["href"])]),_:1})):L("",!0),u(be),u(ue,{class:"no-padding"},{default:a(()=>[u(tu,{"phone-number":"+7-(4242)-300-518"}),u(tu,{"phone-number":"+7-(962)-416-36-89"})]),_:1}),u(be,{spaced:"1em"}),u(He,{align:"right"},{default:a(()=>[u(te,{href:$(),target:"_blank",outline:"",icon:"img:/img/logo/vk/VK Logo Black & White.svg",label:"\u041F\u043E\u0434\u0435\u043B\u0438\u0442\u044C\u0441\u044F"},null,8,["href"])]),_:1})]),_:1})])],64))}};var Ut=je($t,[["__scopeId","data-v-10491d29"]]);const Ot={class:"centralCol"},Ft={class:"eventboxl"},Qt={__name:"AnnouncePage",setup(l){const B=Xu("\u0410\u043D\u043E\u043D\u0441");Au(B);const _=ae(),D=z("editMode"),v=String("https://api.sakh-orch.ru/"),o=ou(),y=C(),$=C(null);J("Announce",$);function r(){ce.post(v+"api/event/announce.php",{params:{method:"get",id:o.params.evid}}).then(w=>{var p,A;$.value=(A=(p=w==null?void 0:w.data)==null?void 0:p.data)!=null?A:null,console.log("Announce loaded")}).catch(w=>{_.notify(ve(w))})}return We(()=>{r()}),(w,p)=>(g(),Q(bu,{class:"col myScrollArea"},{default:a(()=>[M("div",Ot,[n(D)&&$.value?(g(),Q(St,{key:0,onPosterUploaded:r,onReload:r,ref_key:"editorRef",ref:y},null,512)):L("",!0),M("div",Ft,[$.value?(g(),Q(Ut,{key:0,onDelPoster:p[0]||(p[0]=()=>{y.value.delPoster()})})):L("",!0)])]),u(at)]),_:1}))}};var El=je(Qt,[["__scopeId","data-v-beb09c0a"]]);export{El as default};

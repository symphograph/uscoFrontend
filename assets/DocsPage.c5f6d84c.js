import{i as N,m as V,n as U,q as i,f as n,t as Y,v as ae,x as W,E as re,F as de,l as le,B as X,C as De,r as O,c as m,w as ge,A as me,y as qe,z as Se,G as xe,bm as yt,S as Te,bb as Zt,bg as el,bc as tl,be as ll,bh as al,dd as ol,bi as mt,h as g,da as ye,bd as nl,g as Qe,aK as rl,o as Ne,ax as Z,c3 as St,Q as il,b8 as Pe,ak as sl,b as Ue,H as ot,b9 as ul,ba as dl,az as cl,aA as fl,U as tt,$ as vl,V as wt,X as kt,k as Ct,O as ml,P as gl,aa as bl,aD as _l,aC as gt,ab as pl,de as lt,L as bt,d8 as hl,au as Dt,dc as yl,d4 as Ze,D as Sl,p as ue}from"./index.cdb55744.js";import{Q as be}from"./QTooltip.67a45e1b.js";import{Q as we}from"./QList.ef1a3de3.js";import{u as wl}from"./use-meta.35c26380.js";import{u as _e,Q as J,a as ke}from"./QItem.d03f1607.js";import{Q as Pt}from"./QExpansionItem.83ba4730.js";import{f as at,j as kl,n as ie,e as Cl,k as Dl,l as Pl,a as Me,m as et,o as ql,p as xl,q as Tl,g as Fl,r as Vl}from"./myFuncts.bfbbf36a.js";import{Q as ne}from"./QItemLabel.1ffda0e9.js";import{_ as Ie}from"./BtnDelete.f7729f93.js";import{api as se}from"./axios.99fb408e.js";import{_ as Ee}from"./plugin-vue_export-helper.21dcd24c.js";import{Q as qt}from"./QLinearProgress.aee70d20.js";import{a as xt,Q as Tt,u as Rl,b as Ll,c as Ft}from"./QSelect.bb5febd2.js";import{u as Ol,a as $l,b as Bl}from"./use-file.84a5c15f.js";import{h as Al}from"./format.3e32b8d9.js";import{Q as Ml,a as Il}from"./QPopupProxy.0b06f872.js";import{Q as Ql}from"./QForm.3d1f28d2.js";import{C as Nl}from"./ClosePopup.1d290350.js";/* empty css               */import{_ as Ul}from"./PhoneNumber.284996e6.js";import{u as El,a as jl,b as zl}from"./use-fullscreen.944d8919.js";import{P as Hl}from"./PageShell.7a519892.js";import"./position-engine.e84d1f21.js";import"./selection.519b1b62.js";import"./QMenu.ae9fc987.js";import"./rtl.b51694b1.js";import"./use-render-cache.1a7235d4.js";import"./QToolbar.bef3d2b7.js";import"./QScrollArea.7b61ecad.js";import"./TouchPan.4598c748.js";import"./touch.3df10340.js";import"./MainFooter.8023fb59.js";import"./MainFooter.vue_vue_type_style_index_0_scoped_true_lang.def8ad07.js";import"./AnderHeader.9edb8c2b.js";import"./QImg.5dbdf016.js";/* empty css                                                    */const Yl={__name:"DocItem",props:{doc:Object},emits:["deleted","moved"],setup(e,{emit:o}){const l=_e(),b=String("https://api.sakh-orch.ru/"),s=N("editMode"),u=e,a=N("loadList");function f(){console.log("drag")}function v(){const d={params:{method:"del",id:u.doc.id}};se.post(b+"api/docs/doc.php",d).then(c=>{var y;if(!((y=c==null?void 0:c.data)!=null&&y.result))throw new Error;a()}).catch(c=>{l.notify(ie(c))})}function h(){const d={params:{method:"setAsTrash",id:u.doc.id}};se.post(b+"api/docs/doc.php",d).then(c=>{var y;if(!((y=c==null?void 0:c.data)!=null&&y.result))throw new Error;a()}).catch(c=>{l.notify(ie(c))})}function r(){const d={params:{method:"resFromTrash",id:u.doc.id}};se.post(b+"api/docs/doc.php",d).then(c=>{var y;if(!((y=c==null?void 0:c.data)!=null&&y.result))throw new Error;a()}).catch(c=>{l.notify(ie(c))})}return(d,c)=>(V(),U(ke,{disable:!e.doc.fileName,draggable:!1,onDragstart:f,clickable:"",target:"_blank",href:`${W(b)}documents/${W(kl)(e.doc.file.md5)}/${e.doc.fileName}`},{default:i(()=>[n(J,null,{default:i(()=>[n(ne,{class:"docItem"},{default:i(()=>[Y(ae(e.doc.title),1)]),_:1}),n(ne,{caption:""},{default:i(()=>[Y("\u043E\u0442 "+ae(W(at)(e.doc.atDate)),1)]),_:1}),W(s)?(V(),re(de,{key:0},[W(s)?(V(),U(ne,{key:0,caption:""},{default:i(()=>[Y(ae(e.doc.fileName),1)]),_:1})):le("",!0),W(s)?(V(),U(ne,{key:1,caption:""},{default:i(()=>[Y("\u0417\u0430\u0433\u0440\u0443\u0436\u0435\u043D: "+ae(W(at)(e.doc.file.createdAt)),1)]),_:1})):le("",!0)],64)):le("",!0)]),_:1}),e.doc.isTrash?(V(),U(J,{key:0,side:""},{default:i(()=>[n(X,{icon:"settings_backup_restore",color:"green",onClick:c[0]||(c[0]=De(y=>r(),["stop","prevent"])),flat:""},{default:i(()=>[n(be,null,{default:i(()=>[Y("\u0412\u043E\u0441\u0441\u0442\u0430\u043D\u043E\u0432\u0438\u0442\u044C")]),_:1})]),_:1})]),_:1})):le("",!0),W(s)?(V(),U(J,{key:1,side:""},{default:i(()=>[e.doc.isTrash?(V(),U(Ie,{key:0,tooltip:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0438\u0437 \u043A\u043E\u0440\u0437\u0438\u043D\u044B",title:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0438\u0437 \u043A\u043E\u0440\u0437\u0438\u043D\u044B",onOnOk:c[1]||(c[1]=y=>v()),throwConfirm:"",danger:"",flat:""})):(V(),U(Ie,{key:1,tooltip:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0434\u043E\u043A\u0443\u043C\u0435\u043D\u0442",title:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0434\u043E\u043A\u0443\u043C\u0435\u043D\u0442",onOnOk:c[2]||(c[2]=y=>h()),throwConfirm:"",flat:""}))]),_:1})):le("",!0)]),_:1},8,["disable","href"]))}};var nt=Ee(Yl,[["__scopeId","data-v-7e1e5fdb"]]);const Kl={__name:"DocFolder",props:{folder:Object,idx:Number},emits:["onDelete","onDelFolder"],setup(e,{emit:o}){const l=_e(),b=String("https://api.sakh-orch.ru/"),s=N("editMode"),u=o,a=O(!0),f=N("folderList"),v=e,h=m(()=>f.value.length-1===v.idx),r=N("sortType"),d=N("loadList"),c=(Q,q)=>Q.title.localeCompare(q.title),y=(Q,q)=>Q.atDate.localeCompare(q.atDate),L=(Q,q)=>q.atDate.localeCompare(Q.atDate),S=(Q,q)=>y(Q,q)||c(Q,q),C=(Q,q)=>L(Q,q)||c(Q,q),j=m(()=>v.folder.docs.slice().sort(c)),E=m(()=>v.folder.docs.slice().sort(S)),M=m(()=>v.folder.docs.slice().sort(C)),B=m(()=>{switch(r.value){case"title":return j.value;case"dateAsc":return E.value;case"dateDesc":return M.value}return[]}),P=N("folderId"),w=N("dialog");function $(){P.value=v.folder.id,w.value=!0}const F=N("folderNameDialog");function I(){P.value=v.folder.id,F.value=!0}function G(){const Q={params:{method:"setAsTrash",id:v.folder.id}};se.post(b+"api/docs/folder.php",Q).then(q=>{var x;if(!((x=q==null?void 0:q.data)!=null&&x.result))throw new Error;u("onDelFolder",v.folder.id)}).catch(q=>{l.notify(ie(q))})}function K(Q){const q={params:{method:Q,id:v.folder.id}};se.post(b+"api/docs/folder.php",q).then(x=>{var _;if(!((_=x==null?void 0:x.data)!=null&&_.result))throw new Error;d()}).catch(x=>{l.notify(ie(x))})}const ce=O(),fe=N("collapseTrigger");return ge(()=>fe.value,()=>{ce.value.hide()}),(Q,q)=>(V(),U(Pt,{"default-opened":"",modelValue:a.value,"onUpdate:modelValue":q[6]||(q[6]=x=>a.value=x),class:"overflow-hidden no-padding folderArea",ref_key:"folderRef",ref:ce,icon:"folder","header-style":{color:"#a98700",fontSize:"20px"},label:e.folder.title,popup:"","hide-expand-icon":"",duration:200,"content-inset-level":1},{header:i(()=>[n(ke,{style:{width:"100%"}},{default:i(()=>[n(J,{avatar:""},{default:i(()=>[n(me,{name:"folder"})]),_:1}),n(J,null,{default:i(()=>[Y(ae(e.folder.title),1)]),_:1}),W(s)?(V(),re(de,{key:0},[n(J,{side:""},{default:i(()=>[n(be,null,{default:i(()=>[Y("\u041F\u0435\u0440\u0435\u0438\u043C\u0435\u043D\u043E\u0432\u0430\u0442\u044C")]),_:1}),n(X,{icon:"edit",flat:"",onClick:q[0]||(q[0]=De(x=>I(),["stop","prevent"]))})]),_:1}),n(J,{side:""},{default:i(()=>[n(X,{icon:"arrow_upward",flat:"",dense:"",disable:e.folder.sortPos===1,onClick:q[1]||(q[1]=De(x=>K("posUp"),["prevent","stop"]))},{default:i(()=>[n(be,null,{default:i(()=>[Y("\u041F\u0435\u0440\u0435\u043C\u0435\u0441\u0442\u0438\u0442\u044C \u0432\u0432\u0435\u0440\u0445")]),_:1})]),_:1},8,["disable"])]),_:1}),n(J,{side:""},{default:i(()=>[n(X,{icon:"arrow_downward",flat:"",dense:"",disable:h.value,onClick:q[2]||(q[2]=De(x=>K("posDown"),["prevent","stop"]))},{default:i(()=>[n(be,null,{default:i(()=>[Y("\u041F\u0435\u0440\u0435\u043C\u0435\u0441\u0442\u0438\u0442\u044C \u0432\u043D\u0438\u0437")]),_:1})]),_:1},8,["disable"])]),_:1}),a.value?(V(),re(de,{key:0},[n(J,{side:""},{default:i(()=>[n(Ie,{title:"\u0423\u0434\u0430\u043B\u0435\u043D\u0438\u0435 \u043F\u0430\u043F\u043A\u0438",onOnOk:q[3]||(q[3]=x=>G()),message:"\u041F\u0430\u043F\u043A\u0430 \u0431\u0443\u0434\u0435\u0442 \u0443\u0434\u0430\u043B\u0435\u043D\u0430 \u0432\u043C\u0435\u0441\u0442\u0435 \u0441 \u0441\u043E\u0434\u0435\u0440\u0436\u0438\u043C\u044B\u043C",throwConfirm:"",tooltip:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u043F\u0430\u043F\u043A\u0443"})]),_:1}),n(J,{side:""},{default:i(()=>[n(X,{class:"goldBtn",round:"",icon:"add",onClick:q[4]||(q[4]=De(x=>$(),["stop"]))},{default:i(()=>[n(be,{anchor:"top middle",offset:[30,30]},{default:i(()=>[Y("\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0434\u043E\u043A\u0443\u043C\u0435\u043D\u0442")]),_:1})]),_:1})]),_:1})],64)):le("",!0)],64)):le("",!0)]),_:1})]),default:i(()=>[n(qe,{flat:"",style:{background:"none",border:"none"}},{default:i(()=>[n(Se,null,{default:i(()=>[n(we,{separator:""},{default:i(()=>[(V(!0),re(de,null,xe(B.value,(x,_)=>(V(),U(nt,{key:_,doc:x,onDeleted:q[5]||(q[5]=k=>u("onDelete",k))},null,8,["doc"]))),128))]),_:1})]),_:1}),n(yt,{align:"right"})]),_:1})]),_:1},8,["modelValue","label"]))}};var Gl=Ee(Kl,[["__scopeId","data-v-f2de6656"]]),Wl=Te({name:"QFile",inheritAttrs:!1,props:{...Zt,...el,...Ol,modelValue:[File,FileList,Array],append:Boolean,useChips:Boolean,displayValue:[String,Number],tabindex:{type:[String,Number],default:0},counterLabel:Function,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...tl,...$l],setup(e,{slots:o,emit:l,attrs:b}){const{proxy:s}=Qe(),u=ll(),a=O(null),f=O(!1),v=al(e),{pickFiles:h,onDragover:r,onDragleave:d,processFiles:c,getDndNode:y}=Bl({editable:u.editable,dnd:f,getFileInput:ce,addFilesToQueue:fe}),L=ol(e),S=m(()=>Object(e.modelValue)===e.modelValue?"length"in e.modelValue?Array.from(e.modelValue):[e.modelValue]:[]),C=m(()=>mt(S.value)),j=m(()=>S.value.map(_=>_.name).join(", ")),E=m(()=>Al(S.value.reduce((_,k)=>_+k.size,0))),M=m(()=>({totalSize:E.value,filesNumber:S.value.length,maxFiles:e.maxFiles})),B=m(()=>({tabindex:-1,type:"file",title:"",accept:e.accept,capture:e.capture,name:v.value,...b,id:u.targetUid.value,disabled:u.editable.value!==!0})),P=m(()=>"q-file q-field--auto-height"+(f.value===!0?" q-file--dnd":"")),w=m(()=>e.multiple===!0&&e.append===!0);function $(_){const k=S.value.slice();k.splice(_,1),I(k)}function F(_){const k=S.value.indexOf(_);k!==-1&&$(k)}function I(_){l("update:modelValue",e.multiple===!0?_:_[0])}function G(_){_.keyCode===13&&rl(_)}function K(_){(_.keyCode===13||_.keyCode===32)&&h(_)}function ce(){return a.value}function fe(_,k){const A=c(_,k,S.value,w.value),oe=ce();oe!=null&&(oe.value=""),A!==void 0&&((e.multiple===!0?e.modelValue&&A.every(ee=>S.value.includes(ee)):e.modelValue===A[0])||I(w.value===!0?S.value.concat(A):A))}function Q(){return[g("input",{class:[e.inputClass,"q-file__filler"],style:e.inputStyle})]}function q(){if(o.file!==void 0)return S.value.length===0?Q():S.value.map((k,A)=>o.file({index:A,file:k,ref:this}));if(o.selected!==void 0)return S.value.length===0?Q():o.selected({files:S.value,ref:this});if(e.useChips===!0)return S.value.length===0?Q():S.value.map((k,A)=>g(xt,{key:"file-"+A,removable:u.editable.value,dense:!0,textColor:e.color,tabindex:e.tabindex,onRemove:()=>{$(A)}},()=>g("span",{class:"ellipsis",textContent:k.name})));const _=e.displayValue!==void 0?e.displayValue:j.value;return _.length!==0?[g("div",{class:e.inputClass,style:e.inputStyle,textContent:_})]:Q()}function x(){const _={ref:a,...B.value,...L.value,class:"q-field__input fit absolute-full cursor-pointer",onChange:fe};return e.multiple===!0&&(_.multiple=!0),g("input",_)}return Object.assign(u,{fieldClass:P,emitValue:I,hasValue:C,inputRef:a,innerValue:S,floatingLabel:m(()=>C.value===!0||mt(e.displayValue)),computedCounter:m(()=>{if(e.counterLabel!==void 0)return e.counterLabel(M.value);const _=e.maxFiles;return`${S.value.length}${_!==void 0?" / "+_:""} (${E.value})`}),getControlChild:()=>y("file"),getControl:()=>{const _={ref:u.targetRef,class:"q-field__native row items-center cursor-pointer",tabindex:e.tabindex};return u.editable.value===!0&&Object.assign(_,{onDragover:r,onDragleave:d,onKeydown:G,onKeyup:K}),g("div",_,[x()].concat(q()))}}),Object.assign(s,{removeAtIndex:$,removeFile:F,getNativeElement:()=>a.value}),ye(s,"nativeEl",()=>a.value),nl(u)}});const Xl={class:"text-h6",style:{color:"goldenrod"}},Jl={class:"ellipsis relative-position"},Zl=Z("br",null,null,-1),ea={class:"row items-center justify-end"},ta={__name:"UploadDialog",emits:["fileUploaded"],setup(e,{emit:o}){const l=_e(),b=String("https://api.sakh-orch.ru/"),s=o,u=N("dialog"),a=O(),f=N("folderId"),v=O("\u041D\u043E\u0432\u0430\u044F \u043F\u0430\u043F\u043A\u0430"),h=O(""),r=O(),d=O(),c=O(!1),y=O(null),L=N("folderList"),S=m(()=>L.value.find(x=>x.id===f.value).title),C=O();function j(){switch(!1){case r.value.validate():case!!f.value:case a.value.validate():case w.value.length>0:return!1;default:return!0}}function E(){const x=Dl(w.value[0].name);if(!j()){console.log("stopSend");return}const _={[`tmpFileName.${x}`]:w.value[0],method:"add",title:h.value,folderId:f.value,force:Boolean(c.value),atDate:Pl(y.value,"YYYY-MM-DD")},k={headers:{"Content-Type":"multipart/form-data"},onUploadProgress:A=>{const oe=Math.round(A.loaded*100/A.total);$.value[0].percent=oe/100}};se.post(b+"api/docs/doc.php",_,k).then(A=>{var oe,ee,Ce;if(!((oe=A==null?void 0:A.data)!=null&&oe.result))throw new Error;l.notify(Me((Ce=(ee=A==null?void 0:A.data)==null?void 0:ee.result)!=null?Ce:"")),s("fileUploaded"),P()}).catch(A=>{l.notify(ie(A))})}function M(x){const _=et(x);return xl(_)}function B(){!G.value||(h.value=et(w.value[0].name))}function P(){h.value="",w.value=null,y.value=null,v.value=null,c.value=!1,u.value=!1}const w=O(null),$=O([]),F=O(null),I=m(()=>F.value!==null),G=m(()=>w.value!==null&&w.value.length),K=m(()=>w.value!==null&&w.value.length&&f.value&&y.value);function ce(x){$.value[x]={...$.value[x],error:!0,color:"orange-2"}}function fe(x){let _=[];x&&(_.push(x),M(x.name)&&(h.value=et(x.name)),Q(x.name)),w.value=_,$.value=(_||[]).map(k=>({error:!1,color:"green-2",percent:0,icon:k.type.indexOf("video/")===0?"movie":k.type.indexOf("image/")===0?"photo":k.type.indexOf("audio/")===0?"audiotrack":"insert_drive_file"}))}function Q(x){if(y.value)return;const _=ql(x);_&&(y.value=at(_.result))}const q=O(!1);return Ne(()=>{q.value=!0}),(x,_)=>(V(),U(ot,{modelValue:W(u),"onUpdate:modelValue":_[6]||(_[6]=k=>Ue(u)?u.value=k:null)},{default:i(()=>[n(qe,{bordered:"",class:"dialogArea"},{default:i(()=>[n(X,{flat:"",round:"",size:"0.7em",icon:"close",ref_key:"closeRef",ref:d,onClick:_[0]||(_[0]=k=>P()),style:{position:"absolute",top:"0.7em",right:"0.7em"}},{default:i(()=>[n(be,{anchor:"top middle",offset:[30,30]},{default:i(()=>[Y("\u0417\u0430\u043A\u0440\u044B\u0442\u044C")]),_:1})]),_:1},512),n(Ql,{ref_key:"formRef",ref:C},{default:i(()=>[n(Se,null,{default:i(()=>[n(ke,{dense:""},{default:i(()=>[n(J,null,{default:i(()=>[n(ne,{caption:""},{default:i(()=>[Y("\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430 \u0434\u043E\u043A\u0443\u043C\u0435\u043D\u0442\u0430 \u0432 \u043A\u0430\u0442\u0435\u0433\u043E\u0440\u0438\u044E:")]),_:1}),n(ne,null,{default:i(()=>[Z("div",Xl,ae(S.value),1)]),_:1})]),_:1})]),_:1})]),_:1}),n(Se,null,{default:i(()=>[n(Wl,{"model-value":w.value,"onUpdate:modelValue":fe,label:"\u0424\u0430\u0439\u043B. \u0412\u044B\u0431\u0438\u0440\u0430\u0439\u0442\u0435 \u0438\u043B\u0438 \u043F\u0435\u0440\u0435\u0442\u0430\u0441\u043A\u0438\u0432\u0430\u0439\u0442\u0435 \u0441\u044E\u0434\u0430","label-color":"goldenrod","stack-label":"",outlined:"",clearable:!I.value,accept:".doc, .docx, .xls, .xlsx, .csv, .pdf"},St({prepend:i(()=>[n(me,{name:"file_present",color:"amber"})]),file:i(({index:k,file:A})=>[n(xt,{class:"full-width q-my-xs",removable:I.value&&$.value[k].percent<1,square:"",onRemove:oe=>ce(k)},{default:i(()=>[n(qt,{class:"absolute-full full-height",value:$.value[k].percent,color:$.value[k].color,"track-color":"grey-2"},null,8,["value","color"]),n(il,null,{default:i(()=>[n(me,{name:$.value[k].icon},null,8,["name"])]),_:2},1024),Z("div",Jl,ae(A.name),1),n(be,null,{default:i(()=>[Y(ae(A.name),1)]),_:2},1024)]),_:2},1032,["removable","onRemove"])]),_:2},[K.value?{name:"after",fn:i(()=>[n(X,{color:"primary",size:"0.8em",dense:"",icon:"cloud_upload",round:"",onClick:E,disable:!K.value,loading:I.value},null,8,["disable","loading"])]),key:"0"}:void 0]),1032,["model-value","clearable"]),Zl,n(Pe,{modelValue:h.value,"onUpdate:modelValue":[_[2]||(_[2]=k=>h.value=k),_[3]||(_[3]=k=>Q(h.value))],ref_key:"titleRef",ref:r,clearable:"",outlined:"",label:"\u0418\u043C\u044F \u0434\u043E\u043A\u0443\u043C\u0435\u043D\u0442\u0430 [ru]","stack-label":"","lazy-rules":"",rules:[k=>k&&k.length>0||"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435"],autogrow:"",color:"amber"},{append:i(()=>[!h.value&&G.value?(V(),U(X,{key:0,label:"\u0412\u0437\u044F\u0442\u044C \u0438\u043C\u044F \u0444\u0430\u0439\u043B\u0430",onClick:_[1]||(_[1]=k=>B()),"no-caps":""})):le("",!0)]),_:1},8,["modelValue","rules"]),n(Pe,{modelValue:y.value,"onUpdate:modelValue":_[5]||(_[5]=k=>y.value=k),ref_key:"dateRef",ref:a,mask:"##.##.####",label:"\u0414\u0430\u0442\u0430 \u0434\u043E\u043A\u0443\u043C\u0435\u043D\u0442\u0430","stack-label":"",color:"amber",prefix:"\u043E\u0442 ","hide-hint":"",rules:[k=>k&&k.length>0&&W(Cl)(k,["DD.MM.YYYY"])||""],outlined:"",clearable:""},{append:i(()=>[n(me,{name:"event",class:"cursor-pointer",color:"amber"},{default:i(()=>[n(Ml,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:i(()=>[n(Il,{modelValue:y.value,"onUpdate:modelValue":_[4]||(_[4]=k=>y.value=k),color:"yellow-9",mask:"DD.MM.YYYY"},{default:i(()=>[Z("div",ea,[sl(n(X,{label:"\u0417\u0430\u043A\u0440\u044B\u0442\u044C",class:"dialog-goldBtn",flat:""},null,512),[[Nl]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","rules"])]),_:1})]),_:1},512)]),_:1})]),_:1},8,["modelValue"]))}};const la={__name:"SelectSort",setup(e){const o=N("sortType"),l=[{label:"\u041F\u043E \u043D\u0430\u0437\u0432\u0430\u043D\u0438\u044E",value:"title",caption:"\u0421\u043E\u0440\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u043F\u043E \u043D\u0430\u0437\u0432\u0430\u043D\u0438\u044E \u0434\u043E\u043A\u0443\u043C\u0435\u043D\u0442\u0430"},{label:"\u041F\u043E \u0432\u043E\u0437\u0440\u0430\u0441\u0442\u0430\u043D\u0438\u044E \u0434\u0430\u0442\u044B",value:"dateAsc",caption:"\u041E\u0442 \u0434\u0430\u0432\u043D\u0438\u0445"},{label:"\u041F\u043E \u0443\u0431\u044B\u0432\u0430\u043D\u0438\u044E \u0434\u0430\u0442\u044B",value:"dateDesc",caption:"\u041E\u0442 \u043D\u043E\u0432\u044B\u0445"}];return(b,s)=>(V(),U(Tt,{modelValue:W(o),"onUpdate:modelValue":s[0]||(s[0]=u=>Ue(o)?o.value=u:null),label:"\u0423\u043F\u043E\u0440\u044F\u0434\u043E\u0447\u0438\u0442\u044C",borderless:"","map-options":"","input-style":"color: goldenrod","emit-value":"",style:{width:"16em"},options:l},{option:i(u=>[n(ke,ul(dl(u.itemProps)),{default:i(()=>[n(J,null,{default:i(()=>[n(ne,null,{default:i(()=>[Y(ae(u.opt.label),1)]),_:2},1024),n(ne,{caption:""},{default:i(()=>[Y(ae(u.opt.caption),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue"]))}};var aa=Ee(la,[["__scopeId","data-v-9c2ee5b0"]]);const oa={__name:"AddFolderDialog",emits:["created"],setup(e,{emit:o}){const l=_e(),b=String("https://api.sakh-orch.ru/"),s=o,u=N("createFolderDialog"),a=O();function f(){return!(!a.value||!a.value.length)}function v(){const r={params:{method:"add",title:a.value}};se.post(b+"api/docs/folder.php",r).then(d=>{var c,y,L;if(!((c=d==null?void 0:d.data)!=null&&c.result))throw new Error;l.notify(Me((L=(y=d==null?void 0:d.data)==null?void 0:y.result)!=null?L:"")),s("created"),h()}).catch(d=>{l.notify(ie(d))})}function h(){a.value=null,u.value=!1}return(r,d)=>(V(),U(ot,{modelValue:W(u),"onUpdate:modelValue":d[2]||(d[2]=c=>Ue(u)?u.value=c:null)},{default:i(()=>[n(qe,{bordered:"",class:"dialogArea"},{default:i(()=>[n(Se,null,{default:i(()=>[n(ne,{class:"cardTitle"},{default:i(()=>[Y("\u041D\u043E\u0432\u0430\u044F \u043F\u0430\u043F\u043A\u0430")]),_:1})]),_:1}),n(Pe,{modelValue:a.value,"onUpdate:modelValue":d[1]||(d[1]=c=>a.value=c),label:"\u0418\u043C\u044F \u043F\u0430\u043F\u043A\u0438",color:"amber",outlined:"",clearable:"","stack-label":""},St({prepend:i(()=>[n(me,{name:"folder",style:{color:"goldenrod"}})]),_:2},[f()?{name:"append",fn:i(()=>[n(X,{label:"ok",class:"goldBtn",onClick:d[0]||(d[0]=c=>v())})]),key:"0"}:void 0]),1032,["modelValue"])]),_:1})]),_:1},8,["modelValue"]))}},na={__name:"TrashFolder",emits:["onDelete","cleared"],setup(e,{expose:o,emit:l}){const b=_e(),s=String("https://api.sakh-orch.ru/");N("editMode");const u=l,a=O([]),f=N("sortType"),v=(P,w)=>P.title.localeCompare(w.title),h=(P,w)=>P.atDate.localeCompare(w.atDate),r=(P,w)=>w.atDate.localeCompare(P.atDate),d=(P,w)=>h(P,w)||v(P,w),c=(P,w)=>r(P,w)||v(P,w),y=m(()=>a.value.slice().sort(v)),L=m(()=>a.value.slice().sort(d)),S=m(()=>a.value.slice().sort(c)),C=m(()=>{switch(f.value){case"title":return y.value;case"dateAsc":return L.value;case"dateDesc":return S.value}return[]});N("dialog");function j(){const P={params:{method:"clearTrash"}};se.post(s+"api/docs/doc.php",P).then(w=>{var $;if(!(($=w==null?void 0:w.data)!=null&&$.result))throw new Error;u("cleared")}).catch(w=>{b.notify(ie(w))})}const E=O(),M=N("collapseTrigger");ge(()=>M.value,()=>{E.value.hide()});function B(){const P={params:{method:"trashList"}};se.post(s+"api/docs/doc.php",P).then(w=>{var $;if(!(($=w==null?void 0:w.data)!=null&&$.result))throw new Error;a.value.length&&a.value.push({id:0}),a.value=w.data.data.list}).catch(w=>{console.log(w),b.notify(ie(w))})}return o({loadTrash:B}),Ne(()=>{B()}),(P,w)=>(V(),U(Pt,{"default-opened":"",ref_key:"folderRef",ref:E,style:{border:"none"},icon:"folder","header-style":{color:"gray",fontSize:"25px"},label:"\u041A\u043E\u0440\u0437\u0438\u043D\u0430",popup:"","hide-expand-icon":"",duration:200,"content-inset-level":1},{header:i(()=>[n(ke,{style:{width:"100%","border-radius":"1em"}},{default:i(()=>[n(J,{avatar:""},{default:i(()=>[n(me,{name:"delete_sweep",style:{color:"gray"}})]),_:1}),n(J,null,{default:i(()=>[Y("\u041A\u043E\u0440\u0437\u0438\u043D\u0430")]),_:1}),a.value.length?(V(),U(J,{key:0,side:""},{default:i(()=>[n(Ie,{title:"\u041E\u0447\u0438\u0441\u0442\u0438\u0442\u044C \u043A\u043E\u0440\u0437\u0438\u043D\u0443",label:"\u041E\u0447\u0438\u0441\u0442\u0438\u0442\u044C",onOnOk:w[0]||(w[0]=$=>j()),throwConfirm:"",danger:"",message:"\u0412\u0441\u0435 \u0444\u0430\u0439\u043B\u044B \u0431\u0443\u0434\u0443\u0442 \u0443\u0434\u0430\u043B\u0435\u043D\u044B",tooltip:"\u041E\u0447\u0438\u0441\u0442\u0438\u0442\u044C \u043A\u043E\u0440\u0437\u0438\u043D\u0443"})]),_:1})):le("",!0)]),_:1})]),default:i(()=>[n(qe,{flat:"",style:{background:"none"},class:"no-padding"},{default:i(()=>[n(Se,null,{default:i(()=>[n(we,{separator:""},{default:i(()=>[(V(!0),re(de,null,xe(C.value,($,F)=>(V(),U(nt,{key:F,doc:$,onDeleted:w[1]||(w[1]=I=>u("onDelete",I))},null,8,["doc"]))),128))]),_:1})]),_:1}),n(yt,{align:"right"})]),_:1})]),_:1},512))}},ra={__name:"FilteredList",setup(e){const o=N("folderList"),l=m(()=>o.value.slice().reduce((u,a)=>u.concat(a.docs),[])),b=N("filterInput"),s=m(()=>l.value.slice().filter(u=>u.title.toLowerCase().includes(b.value.toLowerCase())));return(u,a)=>(V(),U(we,{separator:""},{default:i(()=>[(V(!0),re(de,null,xe(s.value,f=>(V(),U(nt,{key:f.id,doc:f},null,8,["doc"]))),128))]),_:1}))}},ia={__name:"RenameFolderDialog",setup(e){const o=_e(),l=String("https://api.sakh-orch.ru/"),b=N("folderNameDialog"),s=N("folderId"),u=N("folderList"),a=N("loadList"),f=O("");function v(){const r=u.value.find(d=>d.id===s.value);r&&(f.value=r.title)}function h(){const r={params:{method:"rename",id:s.value,title:f.value}};se.post(l+"api/docs/folder.php",r).then(d=>{var c;if(!((c=d==null?void 0:d.data)!=null&&c.result))throw new Error;a(),b.value=!1}).catch(d=>{o.notify(ie(d))})}return Ne(()=>{}),(r,d)=>(V(),U(ot,{modelValue:W(b),"onUpdate:modelValue":d[2]||(d[2]=c=>Ue(b)?b.value=c:null),onBeforeShow:d[3]||(d[3]=c=>v())},{default:i(()=>[n(qe,{class:"dialogArea"},{default:i(()=>[n(Se,null,{default:i(()=>[n(Pe,{modelValue:f.value,"onUpdate:modelValue":d[1]||(d[1]=c=>f.value=c),clearable:"",outlined:"",label:"\u0418\u043C\u044F \u043F\u0430\u043F\u043A\u0438",color:"amber"},{append:i(()=>[f.value&&f.value.length?(V(),U(X,{key:0,label:"ok",class:"goldBtn",onClick:d[0]||(d[0]=c=>h())})):le("",!0)]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"]))}};const rt=e=>(cl("data-v-71f0ab84"),e=e(),fl(),e),sa={open:"open"},ua=rt(()=>Z("summary",null,"\u041F\u043B\u0430\u0442\u043D\u044B\u0435 \u0443\u0441\u043B\u0443\u0433\u0438",-1)),da=rt(()=>Z("br",null,null,-1)),ca=["href"],fa=rt(()=>Z("br",null,null,-1)),va={__name:"PaidServices",setup(e){const o=String("https://api.sakh-orch.ru/"),l=[{descr:"\u041E\u0440\u0433\u0430\u043D\u0438\u0437\u0430\u0446\u0438\u044F \u0438 \u043F\u0440\u043E\u0432\u0435\u0434\u0435\u043D\u0438\u0435 \u043A\u043E\u043D\u0446\u0435\u0440\u0442\u0430 \u0434\u043B\u044F \u0434\u0435\u0442\u0435\u0439 \u0434\u0435\u0442\u0441\u043A\u0438\u0445 \u0441\u0430\u0434\u043E\u0432, \u0448\u043A\u043E\u043B\u044C\u043D\u0438\u043A\u043E\u0432, \u0441\u0442\u0443\u0434\u0435\u043D\u0442\u043E\u0432.",price:"\u0414\u043E\u0433\u043E\u0432\u043E\u0440\u043D\u0430\u044F"},{descr:"\u041A\u043E\u043D\u0446\u0435\u0440\u0442 \u0441 \u043F\u0440\u0438\u0433\u043B\u0430\u0448\u0435\u043D\u0438\u0435\u043C \u0441\u043E\u043B\u0438\u0441\u0442\u0430 \u0438\u0437 \u0421\u0430\u0445\u0430\u043B\u0438\u043D\u0441\u043A\u043E\u0433\u043E \u043A\u0440\u0430\u044F",price:"\u0414\u043E\u0433\u043E\u0432\u043E\u0440\u043D\u0430\u044F"},{descr:"\u041A\u043E\u043D\u0446\u0435\u0440\u0442 \u0441 \u043F\u0440\u0438\u0433\u043B\u0430\u0448\u0435\u043D\u0438\u0435\u043C \u0441\u043E\u043B\u0438\u0441\u0442\u0430 \u0438\u0437 \u0434\u0440\u0443\u0433\u043E\u0433\u043E \u0444\u0435\u0434\u0435\u0440\u0430\u043B\u044C\u043D\u043E\u0433\u043E \u043E\u043A\u0440\u0443\u0433\u0430",price:"\u0414\u043E\u0433\u043E\u0432\u043E\u0440\u043D\u0430\u044F"},{descr:"\u041A\u043E\u043D\u0446\u0435\u0440\u0442 \u0431\u0435\u0437 \u0443\u0447\u0430\u0441\u0442\u0438\u044F \u043F\u0440\u0438\u0433\u043B\u0430\u0448\u0435\u043D\u043D\u043E\u0433\u043E \u0441\u043E\u043B\u0438\u0441\u0442\u0430",price:"\u0414\u043E\u0433\u043E\u0432\u043E\u0440\u043D\u0430\u044F"},{descr:"\u041E\u0440\u0433\u0430\u043D\u0438\u0437\u0430\u0446\u0438\u044F \u0438 (\u0438\u043B\u0438) \u043F\u0440\u043E\u0432\u0435\u0434\u0435\u043D\u0438\u0435 \u0432\u044B\u0435\u0437\u0434\u043D\u043E\u0433\u043E \u043A\u043E\u043D\u0446\u0435\u0440\u0442\u0430",price:"\u0414\u043E\u0433\u043E\u0432\u043E\u0440\u043D\u0430\u044F"}];return(b,s)=>(V(),re("details",sa,[ua,da,Z("a",{class:"flink",href:W(o)+"documents/provisionOnPaidServices.pdf"}," \u041F\u043E\u043B\u043E\u0436\u0435\u043D\u0438\u0435 \u043E \u043F\u043B\u0430\u0442\u043D\u044B\u0445 \u0443\u0441\u043B\u0443\u0433\u0430\u0445 ",8,ca),fa,n(we,{separator:""},{default:i(()=>[(V(),re(de,null,xe(l,(u,a)=>n(ke,{key:a},{default:i(()=>[n(J,null,{default:i(()=>[n(ne,null,{default:i(()=>[Y(ae(u.descr),1)]),_:2},1024),n(ne,{caption:""},{default:i(()=>[Y(" \u0421\u0442\u043E\u0438\u043C\u043E\u0441\u0442\u044C: "+ae(u.price),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)),64))]),_:1}),n(Ul,{phoneNumber:"+7-4242-300-518"})]))}};var ma=Ee(va,[["__scopeId","data-v-71f0ab84"]]),ga=Te({name:"QTh",props:{props:Object,autoWidth:Boolean},emits:["click"],setup(e,{slots:o,emit:l}){const b=Qe(),{proxy:{$q:s}}=b,u=a=>{l("click",a)};return()=>{if(e.props===void 0)return g("th",{class:e.autoWidth===!0?"q-table--col-auto-width":"",onClick:u},tt(o.default));let a,f;const v=b.vnode.key;if(v){if(a=e.props.colsMap[v],a===void 0)return}else a=e.props.col;if(a.sortable===!0){const r=a.align==="right"?"unshift":"push";f=vl(o.default,[]),f[r](g(me,{class:a.__iconClass,name:s.iconSet.table.arrowUp}))}else f=tt(o.default);const h={class:a.__thClass+(e.autoWidth===!0?" q-table--col-auto-width":""),style:a.headerStyle,onClick:r=>{a.sortable===!0&&e.props.sort(a),u(r)}};return g("th",h,f)}}});const ba=["horizontal","vertical","cell","none"];var _a=Te({name:"QMarkupTable",props:{...wt,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,wrapCells:Boolean,separator:{type:String,default:"horizontal",validator:e=>ba.includes(e)}},setup(e,{slots:o}){const l=Qe(),b=kt(e,l.proxy.$q),s=m(()=>`q-markup-table q-table__container q-table__card q-table--${e.separator}-separator`+(b.value===!0?" q-table--dark q-table__card--dark q-dark":"")+(e.dense===!0?" q-table--dense":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")+(e.square===!0?" q-table--square":"")+(e.wrapCells===!1?" q-table--no-wrap":""));return()=>g("div",{class:s.value},[g("table",{class:"q-table"},tt(o.default))])}});function Vt(e,o){return g("div",e,[g("table",{class:"q-table"},o)])}const pa={list:we,table:_a},ha=["list","table","__qtable"];var ya=Te({name:"QVirtualScroll",props:{...Rl,type:{type:String,default:"list",validator:e=>ha.includes(e)},items:{type:Array,default:()=>[]},itemsFn:Function,itemsSize:Number,scrollTarget:{default:void 0}},setup(e,{slots:o,attrs:l}){let b;const s=O(null),u=m(()=>e.itemsSize>=0&&e.itemsFn!==void 0?parseInt(e.itemsSize,10):Array.isArray(e.items)?e.items.length:0),{virtualScrollSliceRange:a,localResetVirtualScroll:f,padVirtualScroll:v,onVirtualScrollEvt:h}=Ll({virtualScrollLength:u,getVirtualScrollTarget:L,getVirtualScrollEl:y}),r=m(()=>{if(u.value===0)return[];const E=(M,B)=>({index:a.value.from+B,item:M});return e.itemsFn===void 0?e.items.slice(a.value.from,a.value.to).map(E):e.itemsFn(a.value.from,a.value.to-a.value.from).map(E)}),d=m(()=>"q-virtual-scroll q-virtual-scroll"+(e.virtualScrollHorizontal===!0?"--horizontal":"--vertical")+(e.scrollTarget!==void 0?"":" scroll")),c=m(()=>e.scrollTarget!==void 0?{}:{tabindex:0});ge(u,()=>{f()}),ge(()=>e.scrollTarget,()=>{C(),S()});function y(){return s.value.$el||s.value}function L(){return b}function S(){b=_l(y(),e.scrollTarget),b.addEventListener("scroll",h,gt.passive)}function C(){b!==void 0&&(b.removeEventListener("scroll",h,gt.passive),b=void 0)}function j(){let E=v(e.type==="list"?"div":"tbody",r.value.map(o.default));return o.before!==void 0&&(E=o.before().concat(E)),pl(o.after,E)}return Ct(()=>{f()}),Ne(()=>{S()}),ml(()=>{S()}),gl(()=>{C()}),bl(()=>{C()}),()=>{if(o.default===void 0){console.error("QVirtualScroll: default scoped slot is required for rendering");return}return e.type==="__qtable"?Vt({ref:s,class:"q-table__middle "+d.value},j()):g(pa[e.type],{...l,ref:s,class:[l.class,d.value],...c.value},j)}}});function Sa(e,o){return new Date(e)-new Date(o)}const wa={sortMethod:Function,binaryStateSort:Boolean,columnSortOrder:{type:String,validator:e=>e==="ad"||e==="da",default:"ad"}};function ka(e,o,l,b){const s=m(()=>{const{sortBy:f}=o.value;return f&&l.value.find(v=>v.name===f)||null}),u=m(()=>e.sortMethod!==void 0?e.sortMethod:(f,v,h)=>{const r=l.value.find(y=>y.name===v);if(r===void 0||r.field===void 0)return f;const d=h===!0?-1:1,c=typeof r.field=="function"?y=>r.field(y):y=>y[r.field];return f.sort((y,L)=>{let S=c(y),C=c(L);return r.rawSort!==void 0?r.rawSort(S,C,y,L)*d:S==null?-1*d:C==null?1*d:r.sort!==void 0?r.sort(S,C,y,L)*d:lt(S)===!0&&lt(C)===!0?(S-C)*d:bt(S)===!0&&bt(C)===!0?Sa(S,C)*d:typeof S=="boolean"&&typeof C=="boolean"?(S-C)*d:([S,C]=[S,C].map(j=>(j+"").toLocaleString().toLowerCase()),S<C?-1*d:S===C?0:d)})});function a(f){let v=e.columnSortOrder;if(hl(f)===!0)f.sortOrder&&(v=f.sortOrder),f=f.name;else{const d=l.value.find(c=>c.name===f);d!==void 0&&d.sortOrder&&(v=d.sortOrder)}let{sortBy:h,descending:r}=o.value;h!==f?(h=f,r=v==="da"):e.binaryStateSort===!0?r=!r:r===!0?v==="ad"?h=null:r=!1:v==="ad"?r=!0:h=null,b({sortBy:h,descending:r,page:1})}return{columnToSort:s,computedSortMethod:u,sort:a}}const Ca={filter:[String,Object],filterMethod:Function};function Da(e,o){const l=m(()=>e.filterMethod!==void 0?e.filterMethod:(b,s,u,a)=>{const f=s?s.toLowerCase():"";return b.filter(v=>u.some(h=>{const r=a(h,v)+"";return(r==="undefined"||r==="null"?"":r.toLowerCase()).indexOf(f)!==-1}))});return ge(()=>e.filter,()=>{Dt(()=>{o({page:1},!0)})},{deep:!0}),{computedFilterMethod:l}}function Pa(e,o){for(const l in o)if(o[l]!==e[l])return!1;return!0}function _t(e){return e.page<1&&(e.page=1),e.rowsPerPage!==void 0&&e.rowsPerPage<1&&(e.rowsPerPage=0),e}const qa={pagination:Object,rowsPerPageOptions:{type:Array,default:()=>[5,7,10,15,20,25,50,0]},"onUpdate:pagination":[Function,Array]};function xa(e,o){const{props:l,emit:b}=e,s=O(Object.assign({sortBy:null,descending:!1,page:1,rowsPerPage:l.rowsPerPageOptions.length!==0?l.rowsPerPageOptions[0]:5},l.pagination)),u=m(()=>{const r=l["onUpdate:pagination"]!==void 0?{...s.value,...l.pagination}:s.value;return _t(r)}),a=m(()=>u.value.rowsNumber!==void 0);function f(r){v({pagination:r,filter:l.filter})}function v(r={}){Dt(()=>{b("request",{pagination:r.pagination||u.value,filter:r.filter||l.filter,getCellValue:o})})}function h(r,d){const c=_t({...u.value,...r});if(Pa(u.value,c)===!0){a.value===!0&&d===!0&&f(c);return}if(a.value===!0){f(c);return}l.pagination!==void 0&&l["onUpdate:pagination"]!==void 0?b("update:pagination",c):s.value=c}return{innerPagination:s,computedPagination:u,isServerSide:a,requestServerInteraction:v,setPagination:h}}function Ta(e,o,l,b,s,u){const{props:a,emit:f,proxy:{$q:v}}=e,h=m(()=>b.value===!0?l.value.rowsNumber||0:u.value),r=m(()=>{const{page:B,rowsPerPage:P}=l.value;return(B-1)*P}),d=m(()=>{const{page:B,rowsPerPage:P}=l.value;return B*P}),c=m(()=>l.value.page===1),y=m(()=>l.value.rowsPerPage===0?1:Math.max(1,Math.ceil(h.value/l.value.rowsPerPage))),L=m(()=>d.value===0?!0:l.value.page>=y.value),S=m(()=>(a.rowsPerPageOptions.includes(o.value.rowsPerPage)?a.rowsPerPageOptions:[o.value.rowsPerPage].concat(a.rowsPerPageOptions)).map(P=>({label:P===0?v.lang.table.allRows:""+P,value:P})));ge(y,(B,P)=>{if(B===P)return;const w=l.value.page;B&&!w?s({page:1}):B<w&&s({page:B})});function C(){s({page:1})}function j(){const{page:B}=l.value;B>1&&s({page:B-1})}function E(){const{page:B,rowsPerPage:P}=l.value;d.value>0&&B*P<h.value&&s({page:B+1})}function M(){s({page:y.value})}return a["onUpdate:pagination"]!==void 0&&f("update:pagination",{...l.value}),{firstRowIndex:r,lastRowIndex:d,isFirstPage:c,isLastPage:L,pagesNumber:y,computedRowsPerPageOptions:S,computedRowsNumber:h,firstPage:C,prevPage:j,nextPage:E,lastPage:M}}const Fa={selection:{type:String,default:"none",validator:e=>["single","multiple","none"].includes(e)},selected:{type:Array,default:()=>[]}},Va=["update:selected","selection"];function Ra(e,o,l,b){const s=m(()=>{const L={};return e.selected.map(b.value).forEach(S=>{L[S]=!0}),L}),u=m(()=>e.selection!=="none"),a=m(()=>e.selection==="single"),f=m(()=>e.selection==="multiple"),v=m(()=>l.value.length!==0&&l.value.every(L=>s.value[b.value(L)]===!0)),h=m(()=>v.value!==!0&&l.value.some(L=>s.value[b.value(L)]===!0)),r=m(()=>e.selected.length);function d(L){return s.value[L]===!0}function c(){o("update:selected",[])}function y(L,S,C,j){o("selection",{rows:S,added:C,keys:L,evt:j});const E=a.value===!0?C===!0?S:[]:C===!0?e.selected.concat(S):e.selected.filter(M=>L.includes(b.value(M))===!1);o("update:selected",E)}return{hasSelectionMode:u,singleSelection:a,multipleSelection:f,allRowsSelected:v,someRowsSelected:h,rowsSelectedNumber:r,isRowSelected:d,clearSelection:c,updateSelection:y}}function pt(e){return Array.isArray(e)?e.slice():[]}const La={expanded:Array},Oa=["update:expanded"];function $a(e,o){const l=O(pt(e.expanded));ge(()=>e.expanded,a=>{l.value=pt(a)});function b(a){return l.value.includes(a)}function s(a){e.expanded!==void 0?o("update:expanded",a):l.value=a}function u(a,f){const v=l.value.slice(),h=v.indexOf(a);f===!0?h===-1&&(v.push(a),s(v)):h!==-1&&(v.splice(h,1),s(v))}return{isRowExpanded:b,setExpanded:s,updateExpanded:u}}const Ba={visibleColumns:Array};function Aa(e,o,l){const b=m(()=>{if(e.columns!==void 0)return e.columns;const f=e.rows[0];return f!==void 0?Object.keys(f).map(v=>({name:v,label:v.toUpperCase(),field:v,align:lt(f[v])?"right":"left",sortable:!0})):[]}),s=m(()=>{const{sortBy:f,descending:v}=o.value;return(e.visibleColumns!==void 0?b.value.filter(r=>r.required===!0||e.visibleColumns.includes(r.name)===!0):b.value).map(r=>{const d=r.align||"right",c=`text-${d}`;return{...r,align:d,__iconClass:`q-table__sort-icon q-table__sort-icon--${d}`,__thClass:c+(r.headerClasses!==void 0?" "+r.headerClasses:"")+(r.sortable===!0?" sortable":"")+(r.name===f?` sorted ${v===!0?"sort-desc":""}`:""),__tdStyle:r.style!==void 0?typeof r.style!="function"?()=>r.style:r.style:()=>null,__tdClass:r.classes!==void 0?typeof r.classes!="function"?()=>c+" "+r.classes:y=>c+" "+r.classes(y):()=>c}})}),u=m(()=>{const f={};return s.value.forEach(v=>{f[v.name]=v}),f}),a=m(()=>e.tableColspan!==void 0?e.tableColspan:s.value.length+(l.value===!0?1:0));return{colList:b,computedCols:s,computedColsMap:u,computedColspan:a}}const Ae="q-table__bottom row items-center",Rt={};Ft.forEach(e=>{Rt[e]={}});var Ma=Te({name:"QTable",props:{rows:{type:Array,required:!0},rowKey:{type:[String,Function],default:"id"},columns:Array,loading:Boolean,iconFirstPage:String,iconPrevPage:String,iconNextPage:String,iconLastPage:String,title:String,hideHeader:Boolean,grid:Boolean,gridHeader:Boolean,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,separator:{type:String,default:"horizontal",validator:e=>["horizontal","vertical","cell","none"].includes(e)},wrapCells:Boolean,virtualScroll:Boolean,virtualScrollTarget:{default:void 0},...Rt,noDataLabel:String,noResultsLabel:String,loadingLabel:String,selectedRowsLabel:Function,rowsPerPageLabel:String,paginationLabel:Function,color:{type:String,default:"grey-8"},titleClass:[String,Array,Object],tableStyle:[String,Array,Object],tableClass:[String,Array,Object],tableHeaderStyle:[String,Array,Object],tableHeaderClass:[String,Array,Object],cardContainerClass:[String,Array,Object],cardContainerStyle:[String,Array,Object],cardStyle:[String,Array,Object],cardClass:[String,Array,Object],hideBottom:Boolean,hideSelectedBanner:Boolean,hideNoData:Boolean,hidePagination:Boolean,onRowClick:Function,onRowDblclick:Function,onRowContextmenu:Function,...wt,...El,...Ba,...Ca,...qa,...La,...Fa,...wa},emits:["request","virtualScroll",...jl,...Oa,...Va],setup(e,{slots:o,emit:l}){const b=Qe(),{proxy:{$q:s}}=b,u=kt(e,s),{inFullscreen:a,toggleFullscreen:f}=zl(),v=m(()=>typeof e.rowKey=="function"?e.rowKey:t=>t[e.rowKey]),h=O(null),r=O(null),d=m(()=>e.grid!==!0&&e.virtualScroll===!0),c=m(()=>" q-table__card"+(u.value===!0?" q-table__card--dark q-dark":"")+(e.square===!0?" q-table--square":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")),y=m(()=>`q-table__container q-table--${e.separator}-separator column no-wrap`+(e.grid===!0?" q-table--grid":c.value)+(u.value===!0?" q-table--dark":"")+(e.dense===!0?" q-table--dense":"")+(e.wrapCells===!1?" q-table--no-wrap":"")+(a.value===!0?" fullscreen scroll":"")),L=m(()=>y.value+(e.loading===!0?" q-table--loading":""));ge(()=>e.tableStyle+e.tableClass+e.tableHeaderStyle+e.tableHeaderClass+y.value,()=>{d.value===!0&&r.value!==null&&r.value.reset()});const{innerPagination:S,computedPagination:C,isServerSide:j,requestServerInteraction:E,setPagination:M}=xa(b,pe),{computedFilterMethod:B}=Da(e,M),{isRowExpanded:P,setExpanded:w,updateExpanded:$}=$a(e,l),F=m(()=>{let t=e.rows;if(j.value===!0||t.length===0)return t;const{sortBy:p,descending:D}=C.value;return e.filter&&(t=B.value(t,e.filter,ee.value,pe)),Lt.value!==null&&(t=Ot.value(e.rows===t?t.slice():t,p,D)),t}),I=m(()=>F.value.length),G=m(()=>{let t=F.value;if(j.value===!0)return t;const{rowsPerPage:p}=C.value;return p!==0&&(Fe.value===0&&e.rows!==t?t.length>Ve.value&&(t=t.slice(0,Ve.value)):t=t.slice(Fe.value,Ve.value)),t}),{hasSelectionMode:K,singleSelection:ce,multipleSelection:fe,allRowsSelected:Q,someRowsSelected:q,rowsSelectedNumber:x,isRowSelected:_,clearSelection:k,updateSelection:A}=Ra(e,l,G,v),{colList:oe,computedCols:ee,computedColsMap:Ce,computedColspan:it}=Aa(e,C,K),{columnToSort:Lt,computedSortMethod:Ot,sort:je}=ka(e,C,oe,M),{firstRowIndex:Fe,lastRowIndex:Ve,isFirstPage:ze,isLastPage:He,pagesNumber:Re,computedRowsPerPageOptions:$t,computedRowsNumber:Le,firstPage:Ye,prevPage:Ke,nextPage:Ge,lastPage:We}=Ta(b,S,C,j,M,I),Bt=m(()=>G.value.length===0),At=m(()=>{const t={};return Ft.forEach(p=>{t[p]=e[p]}),t.virtualScrollItemSize===void 0&&(t.virtualScrollItemSize=e.dense===!0?28:48),t});function Mt(){d.value===!0&&r.value.reset()}function It(){if(e.grid===!0)return Xt();const t=e.hideHeader!==!0?ft:null;if(d.value===!0){const D=o["top-row"],T=o["bottom-row"],R={default:H=>ut(H.item,o.body,H.index)};if(D!==void 0){const H=g("tbody",D({cols:ee.value}));R.before=t===null?()=>H:()=>[t()].concat(H)}else t!==null&&(R.before=t);return T!==void 0&&(R.after=()=>g("tbody",T({cols:ee.value}))),g(ya,{ref:r,class:e.tableClass,style:e.tableStyle,...At.value,scrollTarget:e.virtualScrollTarget,items:G.value,type:"__qtable",tableColspan:it.value,onVirtualScroll:Nt},R)}const p=[Ut()];return t!==null&&p.unshift(t()),Vt({class:["q-table__middle scroll",e.tableClass],style:e.tableStyle},p)}function Qt(t,p){if(r.value!==null){r.value.scrollTo(t,p);return}t=parseInt(t,10);const D=h.value.querySelector(`tbody tr:nth-of-type(${t+1})`);if(D!==null){const T=h.value.querySelector(".q-table__middle.scroll"),R=D.offsetTop-e.virtualScrollStickySizeStart,H=R<T.scrollTop?"decrease":"increase";T.scrollTop=R,l("virtualScroll",{index:t,from:0,to:S.value.rowsPerPage-1,direction:H})}}function Nt(t){l("virtualScroll",t)}function st(){return[g(qt,{class:"q-table__linear-progress",color:e.color,dark:u.value,indeterminate:!0,trackColor:"transparent"})]}function ut(t,p,D){const T=v.value(t),R=_(T);if(p!==void 0)return p(dt({key:T,row:t,pageIndex:D,__trClass:R?"selected":""}));const H=o["body-cell"],z=ee.value.map(te=>{const $e=o[`body-cell-${te.name}`],Be=$e!==void 0?$e:H;return Be!==void 0?Be(Et({key:T,row:t,pageIndex:D,col:te})):g("td",{class:te.__tdClass(t),style:te.__tdStyle(t)},pe(te,t))});if(K.value===!0){const te=o["body-selection"],$e=te!==void 0?te(jt({key:T,row:t,pageIndex:D})):[g(Ze,{modelValue:R,color:e.color,dark:u.value,dense:e.dense,"onUpdate:modelValue":(Be,Jt)=>{A([T],[t],Be,Jt)}})];z.unshift(g("td",{class:"q-table--col-auto-width"},$e))}const ve={key:T,class:{selected:R}};return e.onRowClick!==void 0&&(ve.class["cursor-pointer"]=!0,ve.onClick=te=>{l("RowClick",te,t,D)}),e.onRowDblclick!==void 0&&(ve.class["cursor-pointer"]=!0,ve.onDblclick=te=>{l("RowDblclick",te,t,D)}),e.onRowContextmenu!==void 0&&(ve.class["cursor-pointer"]=!0,ve.onContextmenu=te=>{l("RowContextmenu",te,t,D)}),g("tr",ve,z)}function Ut(){const t=o.body,p=o["top-row"],D=o["bottom-row"];let T=G.value.map((R,H)=>ut(R,t,H));return p!==void 0&&(T=p({cols:ee.value}).concat(T)),D!==void 0&&(T=T.concat(D({cols:ee.value}))),g("tbody",T)}function dt(t){return Xe(t),t.cols=t.cols.map(p=>ye({...p},"value",()=>pe(p,t.row))),t}function Et(t){return Xe(t),ye(t,"value",()=>pe(t.col,t.row)),t}function jt(t){return Xe(t),t}function Xe(t){Object.assign(t,{cols:ee.value,colsMap:Ce.value,sort:je,rowIndex:Fe.value+t.pageIndex,color:e.color,dark:u.value,dense:e.dense}),K.value===!0&&ye(t,"selected",()=>_(t.key),(p,D)=>{A([t.key],[t.row],p,D)}),ye(t,"expand",()=>P(t.key),p=>{$(t.key,p)})}function pe(t,p){const D=typeof t.field=="function"?t.field(p):p[t.field];return t.format!==void 0?t.format(D,p):D}const he=m(()=>({pagination:C.value,pagesNumber:Re.value,isFirstPage:ze.value,isLastPage:He.value,firstPage:Ye,prevPage:Ke,nextPage:Ge,lastPage:We,inFullscreen:a.value,toggleFullscreen:f}));function zt(){const t=o.top,p=o["top-left"],D=o["top-right"],T=o["top-selection"],R=K.value===!0&&T!==void 0&&x.value>0,H="q-table__top relative-position row items-center";if(t!==void 0)return g("div",{class:H},[t(he.value)]);let z;if(R===!0?z=T(he.value).slice():(z=[],p!==void 0?z.push(g("div",{class:"q-table__control"},[p(he.value)])):e.title&&z.push(g("div",{class:"q-table__control"},[g("div",{class:["q-table__title",e.titleClass]},e.title)]))),D!==void 0&&(z.push(g("div",{class:"q-table__separator col"})),z.push(g("div",{class:"q-table__control"},[D(he.value)]))),z.length!==0)return g("div",{class:H},z)}const ct=m(()=>q.value===!0?null:Q.value);function ft(){const t=Ht();return e.loading===!0&&o.loading===void 0&&t.push(g("tr",{class:"q-table__progress"},[g("th",{class:"relative-position",colspan:it.value},st())])),g("thead",t)}function Ht(){const t=o.header,p=o["header-cell"];if(t!==void 0)return t(Je({header:!0})).slice();const D=ee.value.map(T=>{const R=o[`header-cell-${T.name}`],H=R!==void 0?R:p,z=Je({col:T});return H!==void 0?H(z):g(ga,{key:T.name,props:z},()=>T.label)});if(ce.value===!0&&e.grid!==!0)D.unshift(g("th",{class:"q-table--col-auto-width"}," "));else if(fe.value===!0){const T=o["header-selection"],R=T!==void 0?T(Je({})):[g(Ze,{color:e.color,modelValue:ct.value,dark:u.value,dense:e.dense,"onUpdate:modelValue":vt})];D.unshift(g("th",{class:"q-table--col-auto-width"},R))}return[g("tr",{class:e.tableHeaderClass,style:e.tableHeaderStyle},D)]}function Je(t){return Object.assign(t,{cols:ee.value,sort:je,colsMap:Ce.value,color:e.color,dark:u.value,dense:e.dense}),fe.value===!0&&ye(t,"selected",()=>ct.value,vt),t}function vt(t){q.value===!0&&(t=!1),A(G.value.map(v.value),G.value,t)}const Oe=m(()=>{const t=[e.iconFirstPage||s.iconSet.table.firstPage,e.iconPrevPage||s.iconSet.table.prevPage,e.iconNextPage||s.iconSet.table.nextPage,e.iconLastPage||s.iconSet.table.lastPage];return s.lang.rtl===!0?t.reverse():t});function Yt(){if(e.hideBottom===!0)return;if(Bt.value===!0){if(e.hideNoData===!0)return;const D=e.loading===!0?e.loadingLabel||s.lang.table.loading:e.filter?e.noResultsLabel||s.lang.table.noResults:e.noDataLabel||s.lang.table.noData,T=o["no-data"],R=T!==void 0?[T({message:D,icon:s.iconSet.table.warning,filter:e.filter})]:[g(me,{class:"q-table__bottom-nodata-icon",name:s.iconSet.table.warning}),D];return g("div",{class:Ae+" q-table__bottom--nodata"},R)}const t=o.bottom;if(t!==void 0)return g("div",{class:Ae},[t(he.value)]);const p=e.hideSelectedBanner!==!0&&K.value===!0&&x.value>0?[g("div",{class:"q-table__control"},[g("div",[(e.selectedRowsLabel||s.lang.table.selectedRecords)(x.value)])])]:[];if(e.hidePagination!==!0)return g("div",{class:Ae+" justify-end"},Gt(p));if(p.length!==0)return g("div",{class:Ae},p)}function Kt(t){M({page:1,rowsPerPage:t.value})}function Gt(t){let p;const{rowsPerPage:D}=C.value,T=e.paginationLabel||s.lang.table.pagination,R=o.pagination,H=e.rowsPerPageOptions.length>1;if(t.push(g("div",{class:"q-table__separator col"})),H===!0&&t.push(g("div",{class:"q-table__control"},[g("span",{class:"q-table__bottom-item"},[e.rowsPerPageLabel||s.lang.table.recordsPerPage]),g(Tt,{class:"q-table__select inline q-table__bottom-item",color:e.color,modelValue:D,options:$t.value,displayValue:D===0?s.lang.table.allRows:D,dark:u.value,borderless:!0,dense:!0,optionsDense:!0,optionsCover:!0,"onUpdate:modelValue":Kt})])),R!==void 0)p=R(he.value);else if(p=[g("span",D!==0?{class:"q-table__bottom-item"}:{},[D?T(Fe.value+1,Math.min(Ve.value,Le.value),Le.value):T(1,I.value,Le.value)])],D!==0&&Re.value>1){const z={color:e.color,round:!0,dense:!0,flat:!0};e.dense===!0&&(z.size="sm"),Re.value>2&&p.push(g(X,{key:"pgFirst",...z,icon:Oe.value[0],disable:ze.value,onClick:Ye})),p.push(g(X,{key:"pgPrev",...z,icon:Oe.value[1],disable:ze.value,onClick:Ke}),g(X,{key:"pgNext",...z,icon:Oe.value[2],disable:He.value,onClick:Ge})),Re.value>2&&p.push(g(X,{key:"pgLast",...z,icon:Oe.value[3],disable:He.value,onClick:We}))}return t.push(g("div",{class:"q-table__control"},p)),t}function Wt(){const t=e.gridHeader===!0?[g("table",{class:"q-table"},[ft()])]:e.loading===!0&&o.loading===void 0?st():void 0;return g("div",{class:"q-table__middle"},t)}function Xt(){const t=o.item!==void 0?o.item:p=>{const D=p.cols.map(R=>g("div",{class:"q-table__grid-item-row"},[g("div",{class:"q-table__grid-item-title"},[R.label]),g("div",{class:"q-table__grid-item-value"},[R.value])]));if(K.value===!0){const R=o["body-selection"],H=R!==void 0?R(p):[g(Ze,{modelValue:p.selected,color:e.color,dark:u.value,dense:e.dense,"onUpdate:modelValue":(z,ve)=>{A([p.key],[p.row],z,ve)}})];D.unshift(g("div",{class:"q-table__grid-item-row"},H),g(Sl,{dark:u.value}))}const T={class:["q-table__grid-item-card"+c.value,e.cardClass],style:e.cardStyle};return(e.onRowClick!==void 0||e.onRowDblclick!==void 0)&&(T.class[0]+=" cursor-pointer",e.onRowClick!==void 0&&(T.onClick=R=>{l("RowClick",R,p.row,p.pageIndex)}),e.onRowDblclick!==void 0&&(T.onDblclick=R=>{l("RowDblclick",R,p.row,p.pageIndex)})),g("div",{class:"q-table__grid-item col-xs-12 col-sm-6 col-md-4 col-lg-3"+(p.selected===!0?" q-table__grid-item--selected":"")},[g("div",T,D)])};return g("div",{class:["q-table__grid-content row",e.cardContainerClass],style:e.cardContainerStyle},G.value.map((p,D)=>t(dt({key:v.value(p),row:p,pageIndex:D}))))}return Object.assign(b.proxy,{requestServerInteraction:E,setPagination:M,firstPage:Ye,prevPage:Ke,nextPage:Ge,lastPage:We,isRowSelected:_,clearSelection:k,isRowExpanded:P,setExpanded:w,sort:je,resetVirtualScroll:Mt,scrollTo:Qt,getCellValue:pe}),yl(b.proxy,{filteredSortedRows:()=>F.value,computedRows:()=>G.value,computedRowsNumber:()=>Le.value}),()=>{const t=[zt()],p={ref:h,class:L.value};return e.grid===!0?t.push(Wt()):Object.assign(p,{class:[p.class,e.cardClass],style:e.cardStyle}),t.push(It(),Yt()),e.loading===!0&&o.loading!==void 0&&t.push(o.loading()),g("div",p,t)}}});const Ia={__name:"MatTechBase",setup(e){const o={columns:[{name:"\u041D\u0430\u0438\u043C\u0435\u043D\u043E\u0432\u0430\u043D\u0438\u0435",label:"\u041D\u0430\u0438\u043C\u0435\u043D\u043E\u0432\u0430\u043D\u0438\u0435",align:"center",required:!0,bold:!0,field:l=>l.name,format:l=>`${l}`,style:"white-space: normal"},{name:"data",align:"center",label:"\u041F\u043E\u043A\u0430\u0437\u0430\u0442\u0435\u043B\u0438 \u043F\u043E \u0443\u0447\u0440\u0435\u0436\u0434\u0435\u043D\u0438\u044E",field:l=>l.data,format:l=>`${l}`,style:"white-space: normal"}],rows:[{name:"\u0423\u0447\u0440\u0435\u0436\u0434\u0435\u043D\u0438\u0435 \u0437\u0430\u043D\u0438\u043C\u0430\u0435\u0442 \u043E\u0442\u0434\u0435\u043B\u044C\u043D\u043E\u0435 \u0437\u0434\u0430\u043D\u0438\u0435, \u0430\u0440\u0435\u043D\u0434\u0443\u0435\u0442 (\u0443 \u043A\u043E\u0433\u043E), \u0441\u043E\u0432\u043C\u0435\u0441\u0442\u043D\u043E \u0441 \u0434\u0440\u0443\u0433\u0438\u043C\u0438 \u043E\u0440\u0433\u0430\u043D\u0438\u0437\u0430\u0446\u0438\u044F\u043C\u0438 (\u043A\u0430\u043A\u0438\u043C\u0438)",data:"\u0410\u0440\u0435\u043D\u0434\u0443\u0435\u0442 \u0447\u0430\u0441\u0442\u044C \u0437\u0434\u0430\u043D\u0438\u044F \u0443 \u041E\u041E\u041E \xAB\u041B\u0438\u0431\u0435\u0440\u0442\u0438\xBB"},{name:"\u0421\u0438\u0441\u0442\u0435\u043C\u0430 \u043E\u0442\u043E\u043F\u043B\u0435\u043D\u0438\u044F \u0437\u0434\u0430\u043D\u0438\u044F",data:"\u0426\u0435\u043D\u0442\u0440\u0430\u043B\u0438\u0437\u043E\u0432\u0430\u043D\u043D\u043E\u0435 \u0442\u0435\u043F\u043B\u043E\u0441\u043D\u0430\u0431\u0436\u0435\u043D\u0438\u0435"},{name:"\u041D\u0430\u043B\u0438\u0447\u0438\u0435 \u0432\u043E\u0434\u043E\u043F\u0440\u043E\u0432\u043E\u0434\u0430 \u0432 \u0437\u0434\u0430\u043D\u0438\u0438 (\u0434\u0430 \\ \u043D\u0435\u0442)",data:"\u0414\u0430"},{name:"\u041D\u0430\u043B\u0438\u0447\u0438\u0435 \u043A\u0430\u043D\u0430\u043B\u0438\u0437\u0430\u0446\u0438\u0438 \u0432 \u0437\u0434\u0430\u043D\u0438\u0438 (\u0434\u0430 \\ \u043D\u0435\u0442)",data:"\u0414\u0430"},{name:"\u041D\u0430\u043B\u0438\u0447\u0438\u0435 \u0441\u0440\u0435\u0434\u0441\u0442\u0432 \u043F\u0440\u043E\u0442\u0438\u0432\u043E\u043F\u043E\u0436\u0430\u0440\u043D\u043E\u0439 \u0437\u0430\u0449\u0438\u0442\u044B",data:"\u0418\u043C\u0435\u0435\u0442\u0441\u044F"},{name:"\u041D\u0430\u043B\u0438\u0447\u0438\u0435 \u0441\u0440\u0435\u0434\u0441\u0442\u0432 \u043F\u043E\u0436\u0430\u0440\u043D\u043E\u0433\u043E \u043E\u043F\u043E\u0432\u0435\u0449\u0435\u043D\u0438\u044F",data:"\u0417\u0434\u0430\u043D\u0438\u044F \u043E\u0431\u043E\u0440\u0443\u0434\u043E\u0432\u0430\u043D\u044B \u0430\u0432\u0442\u043E\u043C\u0430\u0442\u0438\u0447\u0435\u0441\u043A\u043E\u0439 \u043F\u043E\u0436\u0430\u0440\u043D\u043E\u0439 \u0441\u0438\u0433\u043D\u0430\u043B\u0438\u0437\u0430\u0446\u0438\u0435\u0439, \u0441\u0438\u0441\u0442\u0435\u043C\u0430\u043C\u0438 \u0443\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u044F \u0438 \u043E\u043F\u043E\u0432\u0435\u0449\u0435\u043D\u0438\u044F \u043B\u044E\u0434\u0435\u0439"},{name:"\u0422\u0435\u0445\u043D\u0438\u0447\u0435\u0441\u043A\u043E\u0435 \u0441\u043E\u0441\u0442\u043E\u044F\u043D\u0438\u0435 \u0437\u0434\u0430\u043D\u0438\u044F (\u0443\u0434\u043E\u0432\u043B\u0435\u0442\u0432\u043E\u0440\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0435, \u0442\u0440\u0435\u0431\u0443\u0435\u0442 \u043A\u0430\u043F. \u0440\u0435\u043C\u043E\u043D\u0442\u0430, \u0430\u0432\u0430\u0440\u0438\u0439\u043D\u043E\u0435, \u0442\u0440\u0435\u0431\u0443\u0435\u0442 \u0442\u0435\u043A\u0443\u0449\u0435\u0433\u043E \u0440\u0435\u043C\u043E\u043D\u0442\u0430, \u043F\u043E\u0434\u043B\u0435\u0436\u0438\u0442 \u0441\u043D\u043E\u0441\u0443)",data:"\u0423\u0434\u043E\u0432\u043B\u0435\u0442\u0432\u043E\u0440\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0435"},{name:"\u0414\u043E\u043F\u043E\u043B\u043D\u0438\u0442\u0435\u043B\u044C\u043D\u044B\u0435 \u043E\u0431\u043E\u0440\u0443\u0434\u043E\u0432\u0430\u043D\u0438\u044F \u0437\u0434\u0430\u043D\u0438\u044F",data:"\u041F\u0430\u043D\u0434\u0443\u0441 \u0434\u043B\u044F \u0438\u043D\u0432\u0430\u043B\u0438\u0434\u043E\u0432"},{name:"\u0421\u043E\u043E\u0440\u0443\u0436\u0435\u043D\u0438\u044F \u043D\u0430 \u043F\u0440\u0438\u043B\u0435\u0433\u0430\u044E\u0449\u0435\u0439 \u0442\u0435\u0440\u0440\u0438\u0442\u043E\u0440\u0438\u0438 \u0437\u0434\u0430\u043D\u0438\u044F",data:"\u041F\u0430\u0440\u043A\u043E\u0432\u043E\u0447\u043D\u0430\u044F \u0437\u043E\u043D\u0430"}],initialPagination:{sortBy:"desc",descending:!1,page:1,rowsPerPage:0}};return(l,b)=>(V(),U(Ma,{expanded:[],title:"\u041C\u0430\u0442\u0435\u0440\u0438\u0430\u043B\u044C\u043D\u043E-\u0442\u0435\u0445\u043D\u0438\u0447\u0435\u0441\u043A\u0430\u044F \u0431\u0430\u0437\u0430",pagination:o.initialPagination,columns:o.columns,rows:o.rows,"hide-bottom":"",grid:l.$q.screen.xs,separator:"cell"},null,8,["pagination","columns","rows","grid"]))}};const Qa={class:"filesArea"},Na=Z("br",null,null,-1),Ua=Z("hr",null,null,-1),Ea=Z("br",null,null,-1),ja=Z("br",null,null,-1),za=Z("hr",null,null,-1),Ha=Z("br",null,null,-1),ht="\u0414\u043E\u043A\u0443\u043C\u0435\u043D\u0442\u044B",Fo={__name:"DocsPage",setup(e){const o=Fl(ht,.6);wl(o);const l=_e(),b=String("https://api.sakh-orch.ru/"),s=N("editMode"),u=O(),a=O(null),f=m(()=>Tl(a.value));ue("filterInput",f);const v=O();ue("folderId",v);const h=O([]);ue("folderList",h);const r=O();ue("sortType",r);const d=($,F)=>$.sortPos-F.sortPos,c=m(()=>h.value.slice().sort(d));ue("sortedFolders",c);const y=O(!1);ue("dialog",y);const L=O(!1);ue("folderNameDialog",L);const S=O(!1);ue("createFolderDialog",S);const C=O(!1);ue("collapseTrigger",C);function j(){C.value=!C.value}function E(){M()}function M(){const $={params:{method:"list"}};se.post(b+"api/docs/folder.php",$).then(F=>{var I;if(!((I=F==null?void 0:F.data)!=null&&I.result))throw new Error;h.value.length&&h.value.push({sortPos:0}),h.value=F.data.data.list,s.value&&u.value.loadTrash()}).catch(F=>{console.log(F),l.notify(ie(F))})}ue("loadList",M);function B($){M(),l.notify(Me("\u0413\u043E\u0442\u043E\u0432\u043E"))}function P($){Vl(h.value,"id",$),u.value.loadTrash(),l.notify(Me("\u0413\u043E\u0442\u043E\u0432\u043E"))}function w(){M()}return ge(()=>s.value,()=>{a.value=null,M()}),Ct(()=>{M(),r.value="title"}),($,F)=>(V(),re(de,null,[n(Hl,{"page-title":ht},{ToolPanel:i(()=>[W(s)?(V(),U(X,{key:0,label:"\u041D\u043E\u0432\u0430\u044F \u043F\u0430\u043F\u043A\u0430",flat:"",stretch:"",class:"toolBtn",style:{width:"max-content"},icon:"folder",onClick:F[0]||(F[0]=I=>S.value=!0)})):le("",!0),n(aa),n(Pe,{modelValue:a.value,"onUpdate:modelValue":F[1]||(F[1]=I=>a.value=I),type:"search",borderless:"",filled:"",dense:"",clearable:"",style:{width:"10em"}},{append:i(()=>[n(me,{name:"search"})]),_:1},8,["modelValue"]),n(X,{icon:"unfold_less",stretch:"",flat:"",class:"toolBtn",onClick:F[2]||(F[2]=()=>{j()})},{default:i(()=>[n(be,null,{default:i(()=>[Y("\u0421\u0432\u0435\u0440\u043D\u0443\u0442\u044C \u0432\u0441\u0435 \u043F\u0430\u043F\u043A\u0438")]),_:1})]),_:1})]),PageContent:i(()=>[Z("div",Qa,[h.value.length?(V(),re(de,{key:0},[a.value?(V(),U(ra,{key:1})):(V(),U(we,{key:0},{default:i(()=>[(V(!0),re(de,null,xe(c.value,(I,G)=>(V(),U(Gl,{key:I.id,folder:I,idx:G,folderId:I.id,onOnDelFolder:F[3]||(F[3]=K=>P(K)),onOnDelete:F[4]||(F[4]=K=>B(K))},null,8,["folder","idx","folderId"]))),128)),W(s)?(V(),U(na,{key:0,ref_key:"trashRef",ref:u,onCleared:F[5]||(F[5]=I=>M())},null,512)):le("",!0)]),_:1}))],64)):le("",!0),Na,Ua,Ea,n(ma),ja,za,Ha,n(Ia)])]),_:1}),n(ta,{onFileUploaded:F[6]||(F[6]=I=>E())}),n(oa,{onCreated:F[7]||(F[7]=I=>w())}),n(ia)],64))}};export{Fo as default};
